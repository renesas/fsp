<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: OSPI Flash (r_ospi)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
     });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v6.2.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">

    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text">
      </span>
      <span class="right">
          &nbsp;
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___o_s_p_i.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body.
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len));
            }
          }
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element.
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">OSPI Flash (r_ospi)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___s_t_o_r_a_g_e___m_o_d_u_l_e_s.html">Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaec5430be37b10e19509cf5f31e045bc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:gaec5430be37b10e19509cf5f31e045bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadd7e5a651ead17ea57a4b040feaecb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#gaadd7e5a651ead17ea57a4b040feaecb5">R_OSPI_DirectWrite</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, uint8_t const *const p_src, uint32_t const bytes, bool const read_after_write)</td></tr>
<tr class="separator:gaadd7e5a651ead17ea57a4b040feaecb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5983ca3fd827557e90d70c70b57e75c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#gad5983ca3fd827557e90d70c70b57e75c">R_OSPI_DirectRead</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, uint8_t *const p_dest, uint32_t const bytes)</td></tr>
<tr class="separator:gad5983ca3fd827557e90d70c70b57e75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71105098bc41e1d98ea07a6e4f3a26ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> *const p_transfer, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga80ecf65e658f5b36bfe0bf2d88dd3ca5">spi_flash_direct_transfer_dir_t</a> direction)</td></tr>
<tr class="separator:ga71105098bc41e1d98ea07a6e4f3a26ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b3567098076c20a1b6af751af0697c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga2b3567098076c20a1b6af751af0697c0">R_OSPI_XipEnter</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:ga2b3567098076c20a1b6af751af0697c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f4836fa84ee2dec03eaaf7c15af17f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga9f4836fa84ee2dec03eaaf7c15af17f9">R_OSPI_XipExit</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:ga9f4836fa84ee2dec03eaaf7c15af17f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4eaf2a65c87357e3c5e702f9a796b0cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga4eaf2a65c87357e3c5e702f9a796b0cc">R_OSPI_Write</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, uint8_t const *const p_src, uint8_t *const p_dest, uint32_t byte_count)</td></tr>
<tr class="separator:ga4eaf2a65c87357e3c5e702f9a796b0cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9885fa86a8cafaab08c69eff59269628"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga9885fa86a8cafaab08c69eff59269628">R_OSPI_Erase</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, uint8_t *const p_device_address, uint32_t byte_count)</td></tr>
<tr class="separator:ga9885fa86a8cafaab08c69eff59269628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga382e123ae0e13cf3e3d8dd72f1b5fc47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga382e123ae0e13cf3e3d8dd72f1b5fc47">R_OSPI_StatusGet</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__status__t">spi_flash_status_t</a> *const p_status)</td></tr>
<tr class="separator:ga382e123ae0e13cf3e3d8dd72f1b5fc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad42032ff7522d696bbe2986c59e03ada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#gad42032ff7522d696bbe2986c59e03ada">R_OSPI_BankSet</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, uint32_t bank)</td></tr>
<tr class="separator:gad42032ff7522d696bbe2986c59e03ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b379c62e657c6ed8bf9a4ef2f877afa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga8b379c62e657c6ed8bf9a4ef2f877afa">R_OSPI_SpiProtocolSet</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga17c347a498a8a9d38ffc36c0de49a535">spi_flash_protocol_t</a> spi_protocol)</td></tr>
<tr class="separator:ga8b379c62e657c6ed8bf9a4ef2f877afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga700da26fc2e62ec14786f0f017c81d02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga700da26fc2e62ec14786f0f017c81d02">R_OSPI_AutoCalibrate</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:ga700da26fc2e62ec14786f0f017c81d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf76fbccef1f27f2134ba3a14faab11e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#gaf76fbccef1f27f2134ba3a14faab11e4">R_OSPI_Close</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:gaf76fbccef1f27f2134ba3a14faab11e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the OSPI peripheral on RA MCUs. This module implements the <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html">SPI Flash Interface</a>. </p>
<h1><a class="anchor" id="r-ospi-overview"></a>
Overview</h1>
<p>The OSPI peripheral interfaces with an external OctaFlash and/or OctaRAM chip(s) to perform data I/O Operations. When both OctaFlash and OctaRAM devices are interfaced, they must be connected to their own chip-select lines. The devices cannot share a single chip-select line.</p>
<h2><a class="anchor" id="r-ospi-features"></a>
Features</h2>
<p>The OSPI driver has the following key features to support the <b>OctaFlash</b> device:</p><ul>
<li>Perform data I/O Operation in both SPI and OPI modes<a class="anchor" id="um_ospi_spi"></a><a class="anchor" id="um_ospi_opi"></a></li>
<li>Can be configured with OctaFlash device on either of the 2 channels</li>
<li>Memory mapped read access to the OctaFlash</li>
<li>Programming the OctaFlash device using single continuous write<a class="anchor" id="um_ospi_page_program"></a></li>
<li>Erasing the OctaFlash device<a class="anchor" id="um_ospi_erase"></a></li>
<li>Sending device specific commands and reading back responses<a class="anchor" id="um_ospi_direct_transfer"></a></li>
<li>Entering and exiting XIP (Single Continuous Read) mode<a class="anchor" id="um_ospi_xip_mode"></a></li>
<li>3 byte addressing for SPI<a class="anchor" id="um_ospi_3byte_address"></a></li>
<li>4 byte addressing for SPI and OPI<a class="anchor" id="um_ospi_4byte_address"></a></li>
<li>Auto-calibration for OPI mode (SOPI and DOPI)<a class="anchor" id="um_ospi_autocalibration"></a></li>
</ul>
<p>The OSPI driver has the following key features to support the <b>OctaRAM</b> device:</p><ul>
<li>Perform data I/O Operation in DOPI mode<a class="anchor" id="um_ospi_ram_dopi"></a></li>
<li>Can be configured with OctaRAM device on either of the 2 channels</li>
<li>Memory mapped read amd write access to the OctaRAM using single continuous mode<a class="anchor" id="um_ospi_ram_read"></a><a class="anchor" id="um_ospi_ram_write"></a></li>
<li>Sending device specific commands and reading back responses<a class="anchor" id="um_ospi_ram_direct_transfer"></a></li>
<li>Auto-calibration for DOPI mode<a class="anchor" id="um_ospi_ram_autocalibration"></a></li>
<li>Uninitialized global variables or buffers can be allocated in the OSPI RAM address space.<a class="anchor" id="um_ospi_ram_uninitialized_global_variables"></a></li>
</ul>
<p>Additional build-time features:</p><ul>
<li>Optional (build-time) DMAC support for data transmission when used with OctaFlash.<a class="anchor" id="um_ospi_optional_dmac_support_for_data_transmission"></a></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>For OctaFlash, use of DMAC for data transmission is strongly recommended. Without the use of DMAC, due to the high-speed hardware design of the OSPI peripheral, data transmission can be sensitive to timing variance, which could cause software-based memory-mapped operations to fail unexpectedly.</dd></dl>
<h1><a class="anchor" id="r-ospi-configuration"></a>
Configuration</h1>
<h2>OSPI Flash:</h2>
<p><h2>Build Time Configurations for r_ospi</h2>
The following build time configurations are defined in driver/r_ospi_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr class="tree_none">
<td>DMAC Support</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enable</li>
<li>
Disable</li>
</ul>
</td><td>Disable </td><td>Enable DMAC support for the OSPI module. </td></tr>
</table>
 <h2>Configurations for Storage &gt; OSPI Flash (r_ospi)</h2>
This module can be added to the Stacks tab via New Stack &gt; Storage &gt; OSPI Flash (r_ospi).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> General  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> General &gt; Single Continuous Mode  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Read Idle Time</td><td>Must be an integer greater than 0 with maximum configurable value of 127</td><td>100 </td><td>Specify the read idle time. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Write Idle Time</td><td>Must be an integer greater than 0 with maximum configurable value of 127</td><td>100 </td><td>Specify the write idle time. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Name</td><td>Name must be a valid C symbol</td><td>g_ospi0 </td><td>Module name. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Channel</td><td>Channel should be 0 or 1</td><td>0 </td><td>Specify the OSPI chip select line to use. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Flash Size</td><td>Must be an integer greater than 0 with maximum configurable value of 0x3FFFFFFF</td><td>0x04000000 </td><td>Specify the OctaFlash size in bytes. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">SPI Protocol</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
SPI</li>
<li>
Single data rate OPI</li>
<li>
Dual data rate OPI</li>
</ul>
</td><td>SPI </td><td>Select the initial SPI protocol. SPI protocol can be changed on the OctaFlash using <a class="el" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer()</a>. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Address Bytes</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
3</li>
<li>
4</li>
</ul>
</td><td>4 </td><td>Select the number of address bytes. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> OPI Mode  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> OPI Mode &gt; Auto-Calibration  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Data latching delay</td><td>Must be a valid non-negative integer with maximum configurable value of 0xFF</td><td>0x80 </td><td>Set this to 0 to enable auto-calibration. 0x80 is the default value calculated at 3.3V and 25°C </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Auto-Calibration Address</td><td>Must be a valid non-negative integer with maximum configurable value of 0xFFFFFFFF</td><td>0x00 </td><td>Set the address of the read/write destination to be performed for auto-calibration. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> OPI Mode &gt; Command Definitions  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Page Program Command</td><td>Must be a 16-bit OSPI Page Program Command under OPI Mode|Command Definitions</td><td>0x12ED </td><td>The command to program a page in OPI mode. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Read Command</td><td>Must be a 16-bit OSPI Read Command under OPI Mode|Command Definitions</td><td>0xEC13 </td><td>The command to read in SOPI mode (8READ). </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Dual Read Command</td><td>Must be a 16-bit OSPI Dual Read Command under OPI Mode|Command Definitions</td><td>0xEE11 </td><td>The command to read in DOPI mode (8DTRD). </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Write Enable Command</td><td>Must be a 16-bit OSPI Write Enable Command under OPI Mode|Command Definitions</td><td>0x06F9 </td><td>The command to enable write in OPI mode. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Status Command</td><td>Must be a 16-bit OSPI Status Command under OPI Mode|Command Definitions</td><td>0x05FA </td><td>The command to query the status of a write or erase command in OPI mode. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> OPI Mode &gt; OM_DQS Enable Counter  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">SOPI</td><td>Must be an integer between 0 and 255</td><td>9 </td><td>OM_DQS enable counter for memory access. Setting for SOPI mode. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">DOPI</td><td>Must be an integer between 0 and 255</td><td>6 </td><td>OM_DQS enable counter for memory access. Setting for DOPI mode. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Command Length Bytes</td><td>Must be an integer between 1 and 2</td><td>2 </td><td>Command length in bytes </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Read Dummy Cycles</td><td>Must be an integer between 0 and 255</td><td>10 </td><td>Memory read dummy cycles </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Status Read Dummy Cycles</td><td>Must be an integer between 0 and 255</td><td>4 </td><td>Status read dummy cycles </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">DOPI Byte Order</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Byte0, Byte1, Byte2, Byte3</li>
<li>
Byte1, Byte0, Byte3, Byte2</li>
</ul>
</td><td>Byte0, Byte1, Byte2, Byte3 </td><td>Byte order on the external bus </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> SPI Mode  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> SPI Mode &gt; Command Definitions  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Page Program Command</td><td>Must be a 8-bit OSPI Page Program Command under SPI Mode|Command Definitions</td><td>0x12 </td><td>The command to program a page in SPI mode. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Read Command</td><td>Must be a 8-bit OSPI Read Command under SPI Mode|Command Definitions</td><td>0x13 </td><td>The command to read in SPI mode. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Write Enable Command</td><td>Must be a 16-bit OSPI Write Enable Command under SPI Mode|Command Definitions</td><td>0x06 </td><td>The command to enable write in SPI mode. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Status Command</td><td>Must be a 16-bit OSPI Status Command under SPI Mode|Command Definitions</td><td>0x05 </td><td>The command to query the status of a write or erase command in SPI mode. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Common Command Definitions  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Sector Erase Command</td><td>Must be a value greater than or equal to 0</td><td>0x21DE </td><td>The command to erase a sector. Set Sector Erase Size to 0 if unused. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Block Erase Command</td><td>Must be a value greater than or equal to 0</td><td>0xDC23 </td><td>The command to erase a block. Set Block Erase Size to 0 if unused. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Chip Erase Command</td><td>Must be a value greater than or equal to 0</td><td>0xC738 </td><td>The command to erase the entire chip. Set Chip Erase Command to 0 if unused. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Write Status Bit</td><td>Must be an integer between 0 and 7</td><td>0 </td><td>Which bit contains the write in progress status returned from the Write Status Command. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Write Enable Bit</td><td>Must be an integer between 0 and 7</td><td>1 </td><td>Which bit contains the write enable status returned from the Write Enable Command. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Sector Erase Size</td><td>Must be an integer greater than or equal to 0 and less than 4294967296</td><td>4096 </td><td>The sector erase size. Set Sector Erase Size to 0 if Sector Erase is not supported. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Block Erase Size</td><td>Must be an integer greater than or equal to 0 and less than 4294967296</td><td>65536 </td><td>The block erase size. Set Block Erase Size to 0 if Block Erase is not supported. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Chip Select Timing Setting  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Read Command Interval</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2</li>
<li>
5</li>
<li>
7</li>
<li>
9</li>
<li>
11</li>
<li>
13</li>
<li>
15</li>
<li>
17</li>
</ul>
</td><td>2 </td><td>Memory mapped read command execution interval setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Write Command Interval</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2</li>
<li>
5</li>
<li>
7</li>
<li>
9</li>
<li>
11</li>
<li>
13</li>
<li>
15</li>
<li>
17</li>
</ul>
</td><td>2 </td><td>Memory mapped write command execution interval setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Command Interval</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2</li>
<li>
5</li>
<li>
7</li>
<li>
9</li>
<li>
11</li>
<li>
13</li>
<li>
15</li>
<li>
17</li>
</ul>
</td><td>2 </td><td>Command execution interval setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Read Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
5 SPI/SOPI</li>
<li>
6 SPI/SOPI</li>
<li>
7 SPI/SOPI, 6.5 DOPI</li>
<li>
8 SPI/SOPI, 7.5 DOPI</li>
<li>
9 SPI/SOPI, 8.5 DOPI</li>
</ul>
</td><td>5 SPI/SOPI </td><td>Memory mapped read signal pull-up timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Write Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2 SPI/SOPI, 1.5 DOPI</li>
<li>
3 SPI/SOPI, 2.5 DOPI</li>
<li>
4 SPI/SOPI, 3.5 DOPI</li>
<li>
5 SPI/SOPI, 4.5 DOPI</li>
<li>
6 SPI/SOPI, 5.5 DOPI</li>
<li>
7 SPI/SOPI, 6.5 DOPI</li>
<li>
8 SPI/SOPI, 7.5 DOPI</li>
<li>
9 SPI/SOPI, 8.5 DOPI</li>
</ul>
</td><td>2 SPI/SOPI, 1.5 DOPI </td><td>Memory mapped write signal pull-up timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
5 SPI/SOPI</li>
<li>
6 SPI/SOPI</li>
<li>
7 SPI/SOPI, 6.5 DOPI</li>
<li>
8 SPI/SOPI, 7.5 DOPI</li>
<li>
9 SPI/SOPI, 8.5 DOPI</li>
</ul>
</td><td>5 SPI/SOPI </td><td>Signal pull-up timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Read Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
3 SPI/SOPI, 2.5 DOPI</li>
<li>
4 SPI/SOPI, 3.5 DOPI</li>
<li>
5 SPI/SOPI, 4.5 DOPI</li>
</ul>
</td><td>3 SPI/SOPI, 2.5 DOPI </td><td>Memory mapped read signal pull-down timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Write Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
3 SPI/SOPI, 2.5 DOPI</li>
<li>
4 SPI/SOPI, 3.5 DOPI</li>
<li>
5 SPI/SOPI, 4.5 DOPI</li>
</ul>
</td><td>3 SPI/SOPI, 2.5 DOPI </td><td>Memory mapped write signal pull-down timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
3 SPI/SOPI, 2.5 DOPI</li>
<li>
4 SPI/SOPI, 3.5 DOPI</li>
<li>
5 SPI/SOPI, 4.5 DOPI</li>
</ul>
</td><td>3 SPI/SOPI, 2.5 DOPI </td><td>Signal pull-down timing setting in OCTACLK units </td></tr>
</table>
</p>
<dl class="section note"><dt>Note</dt><dd>The user is expected to modify the command definitions based on the OctaFlash chip and SPI communication mode. The default mode is SPI mode and default erase commands are set for OPI mode based on Macronix OctaFlash MX25LM51245G.</dd></dl>
<h2>OSPI RAM:</h2>
<p><h2>Build Time Configurations for r_ospi</h2>
The following build time configurations are defined in driver/r_ospi_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr class="tree_none">
<td>DMAC Support</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enable</li>
<li>
Disable</li>
</ul>
</td><td>Disable </td><td>Enable DMAC support for the OSPI module. </td></tr>
</table>
 <h2>Configurations for Storage &gt; OSPI RAM (r_ospi)</h2>
This module can be added to the Stacks tab via New Stack &gt; Storage &gt; OSPI RAM (r_ospi).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> General  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> General &gt; Single Continuous Mode  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Read Idle Time</td><td>Must be an integer greater than 0 with maximum configurable value of 127</td><td>127 </td><td>Specify the read idle time. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Write Idle Time</td><td>Must be an integer greater than 0 with maximum configurable value of 127</td><td>127 </td><td>Specify the write idle time. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Name</td><td>Name must be a valid C symbol</td><td>g_ospi_ram0 </td><td>Module name. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Channel</td><td>Channel should be 0 or 1 [Channel 0 recommended]</td><td>0 </td><td>Specify the OSPI chip select line to use. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">RAM Size</td><td>Must be an integer greater than 0 with maximum configurable value of 0x00800000</td><td>0x00800000 </td><td>Specify the OctaRam size in bytes. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">SPI Protocol</td><td>Dual data rate OPI</td><td>Dual data rate OPI </td><td>Select the initial SPI protocol. OctaRAM only supports DOPI mode. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Address Bytes</td><td>4</td><td>4 </td><td>Select the number of address bytes. OctaRAM only supports 4 byte addresses in DOPI mode. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Auto-Calibration  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Data latching delay</td><td>Must be a valid non-negative integer with maximum configurable value of 0xFF</td><td>0x80 </td><td>Set this to 0 to enable auto-calibration. 0x80 is the default value calculated at 3.3V and 25°C </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Auto-Calibration Address</td><td>Must be a valid non-negative integer with maximum configurable value of 0xFFFFFFFF</td><td>0x00 </td><td>Set the address of the read/write destination to be performed for auto-calibration. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Command Definitions  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Read Command</td><td>Must be a 16-bit OSPI Dual Read Command under Command Definitions</td><td>0xA000 </td><td>The command to read in DOPI mode. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Write Command</td><td>Must be a 16-bit OSPI Write Command under Command Definitions</td><td>0x2000 </td><td>The command to write in DOPI mode. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> OM_DQS Enable Counter  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">DOPI</td><td>Must be an integer between 0 and 255</td><td>3 </td><td>OM_DQS enable counter for memory access. Setting for DOPI mode. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Chip Select Timing Setting  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Read Command Interval</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2</li>
<li>
5</li>
<li>
7</li>
<li>
9</li>
<li>
11</li>
<li>
13</li>
<li>
15</li>
<li>
17</li>
</ul>
</td><td>2 </td><td>Memory mapped read command execution interval setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Write Command Interval</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2</li>
<li>
5</li>
<li>
7</li>
<li>
9</li>
<li>
11</li>
<li>
13</li>
<li>
15</li>
<li>
17</li>
</ul>
</td><td>2 </td><td>Memory mapped write command execution interval setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Command Interval</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2</li>
<li>
5</li>
<li>
7</li>
<li>
9</li>
<li>
11</li>
<li>
13</li>
<li>
15</li>
<li>
17</li>
</ul>
</td><td>2 </td><td>Command execution interval setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Read Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
6.5 DOPI</li>
<li>
7.5 DOPI</li>
<li>
8.5 DOPI</li>
</ul>
</td><td>6.5 DOPI </td><td>Memory mapped read signal pull-up timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Write Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
1.5 DOPI</li>
<li>
2.5 DOPI</li>
<li>
3.5 DOPI</li>
<li>
4.5 DOPI</li>
<li>
5.5 DOPI</li>
<li>
6.5 DOPI</li>
<li>
7.5 DOPI</li>
<li>
8.5 DOPI</li>
</ul>
</td><td>1.5 DOPI </td><td>Memory mapped write signal pull-up timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
6.5 DOPI</li>
<li>
7.5 DOPI</li>
<li>
8.5 DOPI</li>
</ul>
</td><td>6.5 DOPI </td><td>Signal pull-up timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Read Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2.5 DOPI</li>
<li>
3.5 DOPI</li>
<li>
4.5 DOPI</li>
</ul>
</td><td>2.5 DOPI </td><td>Memory mapped read signal pull-down timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Memory Mapped Write Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2.5 DOPI</li>
<li>
3.5 DOPI</li>
<li>
4.5 DOPI</li>
</ul>
</td><td>2.5 DOPI </td><td>Memory mapped write signal pull-down timing setting in OCTACLK units </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
2.5 DOPI</li>
<li>
3.5 DOPI</li>
<li>
4.5 DOPI</li>
</ul>
</td><td>2.5 DOPI </td><td>Signal pull-down timing setting in OCTACLK units </td></tr>
<tr class="tree_none">
<td>Command Length Bytes</td><td>Must be an integer between 1 and 2</td><td>2 </td><td>Command length in bytes </td></tr>
<tr class="tree_none">
<td>Memory Read Dummy Cycles</td><td>Must be an integer between 0 and 255</td><td>4 </td><td>Memory read dummy cycles </td></tr>
<tr class="tree_none">
<td>Memory Write Dummy Cycles</td><td>Must be an integer between 0 and 255</td><td>4 </td><td>Memory write dummy cycles </td></tr>
<tr class="tree_none">
<td>DOPI Byte Order</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Byte0, Byte1, Byte2, Byte3</li>
<li>
Byte1, Byte0, Byte3, Byte2</li>
</ul>
</td><td>Byte1, Byte0, Byte3, Byte2 </td><td>Byte order on the external bus </td></tr>
<tr class="tree_none">
<td>Chip Select Maximum Low Time (us)</td><td>Must be an integer between 0 to 511</td><td>4 </td><td>Chip Select Maximum Low Time (tCSM). </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-ospi-clock-configuration"></a>
Clock Configuration</h2>
<p>PCLKA is the Octal-SPI bus interface, and PCLKB is used to set OSPI registers.</p>
<p>The signals to the OSPI device are derived from OCTACLK. The OMSCLK signal is OCTACLK / 2. Data can be output at the OCTACLK rate if SPI Protocol is set to Dual Data Rate OPI.</p>
<p>The PCLKB, PCLKA, and OCTACLK frequencies can be set on the <b>Clocks</b> tab of the RA Configuration editor.</p>
<h2><a class="anchor" id="r-ospi-pin-configuration"></a>
Pin Configuration</h2>
<p>The following pins are available to connect to an external OSPI device:</p><ul>
<li>OMSCLK: OSPI clock output (OCTACLK / 2)</li>
<li>OMDQS: OSPI data strobe signal</li>
<li>OMCS0: OSPI device 0 select</li>
<li>OMCS1: OSPI device 1 select</li>
<li>OMSIO0: Data 0 I/O</li>
<li>OMSIO1: Data 1 I/O</li>
<li>OMSIO2: Data 2 I/O</li>
<li>OMSIO3: Data 3 I/O</li>
<li>OMSIO4: Data 4 I/O</li>
<li>OMSIO5: Data 5 I/O</li>
<li>OMSIO6: Data 6 I/O</li>
<li>OMSIO7: Data 7 I/O</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Data pins must be configured with IOPORT_CFG_DRIVE_HS_HIGH. </dd>
<dd>
Chip Select pins should be configured with at least IOPORT_CFG_DRIVE_MEDIUM.</dd></dl>
<h1><a class="anchor" id="r-ospi-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="r-ospi-usage_notes-for-octaflash-interfacing"></a>
Usage Notes for OctaFlash support</h2>
<h3><a class="anchor" id="r-ospi-dmac-configuration"></a>
Enabling DMAC</h3>
<p>DMAC data transmission support is configurable for OSPI Flash and is disabled from the build by default. Use of a high-priority (low channel number) DMAC for data transmission is strongly recommended.</p>
<p>For further details on DMAC please refer <a class="el" href="group___d_m_a_c.html">Transfer (r_dmac)</a>.</p>
<h3><a class="anchor" id="r-ospi-memory-mapped-access-octaflash"></a>
OSPI Memory Mapped Access</h3>
<p>After <a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open()</a> completes successfully, the OctaFlash device contents are mapped to address 0x68000000 (channel 0) or 0x70000000 (channel 1) based on the channel configured and can be read like on-chip flash. Channel 0 supports 128 MB while Channel 1 supports 256 MB of address space.</p>
<h3><a class="anchor" id="r-ospi-auto-calibration-octaflash"></a>
Auto-calibration</h3>
<p>Auto-calibration procedure is triggered automatically when the 'Data latching delay' field in the configurator properties is set to 0. The user application is responsible for setting the appropriate preamble pattern before calling <a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open()</a> with SOPI/DOPI mode or changing the SPI protocol to SOPI/DOPI using <a class="el" href="group___o_s_p_i.html#ga8b379c62e657c6ed8bf9a4ef2f877afa">R_OSPI_SpiProtocolSet()</a> API. The appropriate preamble pattern can be written to the desired address using the <a class="el" href="group___o_s_p_i.html#ga4eaf2a65c87357e3c5e702f9a796b0cc">R_OSPI_Write()</a> API while in the SPI mode (recommended). Ensure that the same address is passed through the configurator. If the OctaFlash chip is already in SOPI/DOPI mode, the preamble pattern must be programmed using the debugger before calling <a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open()</a>.</p>
<h3><a class="anchor" id="r-ospi-chip-select-latencies-octaflash"></a>
Chip Select Latencies</h3>
<p>Chip select latencies can be set through the configurator. The default settings support SOPI and SPI at minimum latency. In case the driver is opened in SPI mode and will be switched to DOPI mode later using <a class="el" href="group___o_s_p_i.html#ga8b379c62e657c6ed8bf9a4ef2f877afa">R_OSPI_SpiProtocolSet()</a>, please select latencies required for DOPI before calling <a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open()</a>.</p>
<h2><a class="anchor" id="r-ospi-octaflash-commands-octaflash"></a>
OctaFlash Commands</h2>
<ul>
<li>Set the erase commands based on intended mode of operation (SPI or OPI). These commands cannot be changed during run-time.</li>
<li>Read, Write and Status commands for both SPI and OPI are configured allowing switching between the modes at run-time.</li>
</ul>
<h2><a class="anchor" id="r-ospi-usage_notes-for-octaRAM-interfacing"></a>
Usage Notes for OctaRAM support</h2>
<h3><a class="anchor" id="r-ospi-memory-mapped-access-octaRAM"></a>
OSPI Memory Mapped Access</h3>
<p>After <a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open()</a> completes successfully, the OctaRAM device contents are mapped to address 0x68000000 (channel 0) or 0x70000000 (channel 1) based on the channel configured and can be written to or read from like on-chip RAM. Channel 0 and 1 support 8 MB of address space.</p>
<h3><a class="anchor" id="r-ospi-auto-calibration-octaRAM"></a>
Auto-calibration</h3>
<p>Since the OctaRAM only supports DOPI mode, the driver allows the user to call <a class="el" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open()</a> without performing the auto-calibration procedure automatically when 'Data latching delay' field is set to 0 in the configurator properties. This is done so that the user can write the appropriate preamble pattern to the desired address using memory mapped writes while in DOPI mode. Ensure that the same address is passed through the configurator. <a class="el" href="group___o_s_p_i.html#ga700da26fc2e62ec14786f0f017c81d02">R_OSPI_AutoCalibrate()</a> should be then called to perform auto-calibration.</p>
<h3><a class="anchor" id="r-ospi-chip-select-latencies-octaRAM"></a>
Chip Select Latencies</h3>
<p>Chip select latencies can be set through the configurator. The default settings support DOPI at minimum latency.</p>
<h2><a class="anchor" id="r-ospi-limitations"></a>
Limitations</h2>
<p>Developers should be aware of the following limitations when using the OSPI driver: </p>
<h3><a class="anchor" id="r-ospi-limitations-octaflash"></a>
OctaFlash</h3>
<ul>
<li>Single continuous read in SPI mode is not supported by the peripheral. The maximum amount of data that can be read using a single read command is 4-bytes (When doing a 32-bit access).</li>
<li>Fast Reads would be slower than regular reads as the SPI mode cannot be operated with an OMSCLK greater than 50MHz.</li>
</ul>
<h1><a class="anchor" id="r-ospi-examples"></a>
Examples</h1>
<h2>OSPI Flash:</h2>
<h3>Basic Example</h3>
<p><a class="anchor" id="um_ospi_sections"></a> This is a basic example of minimal use of the OSPI in an application with OctaFlash.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define OSPI_EXAMPLE_DATA_LENGTH    (1024)</span></div><div class="line"></div><div class="line">uint8_t g_dest[OSPI_EXAMPLE_DATA_LENGTH];</div><div class="line"></div><div class="line"><span class="comment">/* Place data in the .ospi0_cs1 section to flash it during programming. */</span></div><div class="line"><span class="keyword">const</span> uint8_t g_src[OSPI_EXAMPLE_DATA_LENGTH] BSP_PLACE_IN_SECTION(<span class="stringliteral">&quot;.ospi0_cs1&quot;</span>) = <span class="stringliteral">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">/* Place code in the .ospi0_cs1 section to flash it during programming. */</span></div><div class="line"><span class="keywordtype">void</span> r_ospi_example_function(<span class="keywordtype">void</span>) BSP_PLACE_IN_SECTION(<span class="stringliteral">&quot;.ospi0_cs1_code&quot;</span>) __attribute__((noinline));</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_example_function (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Add code here. */</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"></div><div class="line">    <span class="comment">/* Open the OSPI instancee */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line"></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* (Optional) Change SPI to DOPI mode */</span></div><div class="line">    r_ospi_example_spi_to_dopi();</div><div class="line"></div><div class="line">    <span class="comment">/* After R_OSPI_Open() and any required device specific intiialization, data can be read directly from the OSPI flash. */</span></div><div class="line">    memcpy(&amp;g_dest[0], &amp;g_src[0], OSPI_EXAMPLE_DATA_LENGTH);</div><div class="line"></div><div class="line">    <span class="comment">/* After R_OSPI_Open() and any required device specific intiialization, functions in the OSPI flash can be called. */</span></div><div class="line">    r_ospi_example_function();</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h3>Reading Status Register Example (R_OSPI_DirectTransfer)</h3>
<p>This is an example of using R_OSPI_DirectWrite followed by R_OSPI_DirectRead to send the read status register command and read back the status register from the device.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define OSPI_COMMAND_READ_STATUS_REGISTER    (0x05U)</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_direct_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> ospi_test_direct_transfer =</div><div class="line">    {</div><div class="line">        .<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>        = OSPI_TEST_READ_STATUS_COMMAND_SPI_MODE,</div><div class="line">        .address        = 0U,</div><div class="line">        .data           = 0U,</div><div class="line">        .command_length = 1U,</div><div class="line">        .address_length = 0U,</div><div class="line">        .data_length    = 0U,</div><div class="line">        .dummy_cycles   = 0U</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="comment">/* Open the OSPI instance. */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Write Enable */</span></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_WRITE);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Read Status Register */</span></div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>     = OSPI_TEST_READ_STATUS_COMMAND_SPI_MODE;</div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a5e3c48eb88187944722f745231f955f3">data_length</a> = 1U;</div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_READ);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Check if Write Enable is set */</span></div><div class="line">    <span class="keywordflow">if</span> (OSPI_WEN_BIT_MASK != (ospi_test_direct_transfer.data &amp; OSPI_WEN_BIT_MASK))</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h3>Auto-calibration Example (R_OSPI_DirectTransfer, R_OSPI_Write, R_OSPI_SpiProtocolSet)</h3>
<p>This is an example of using R_OSPI_SpiProtocolSet to change the operating mode from SPI to SOPI and allow the driver to initiate auto-calibration.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define OSPI_DOPI_PREAMBLE_PATTERN_LENGTH_BYTES    (16U)</span></div><div class="line"><span class="preprocessor">#define OSPI_EXAMPLE_PREAMBLE_ADDRESS              (0x68000000U) </span><span class="comment">/* Device connected to CS0 */</span><span class="preprocessor"></span></div><div class="line"><span class="keyword">const</span> uint8_t g_preamble_bytes[OSPI_DOPI_PREAMBLE_PATTERN_LENGTH_BYTES] =</div><div class="line">{</div><div class="line">    0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x08, 0x00, 0x00, 0xF7, 0xFF, 0x00, 0x08, 0xF7, 0x00, 0xF7</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> ospi_example_wait_until_wip (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>          err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__status__t">spi_flash_status_t</a> status;</div><div class="line">    status.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ae20d4bed523ca4e802f5da6fdec4ca43">write_in_progress</a> = <span class="keyword">true</span>;</div><div class="line">    uint32_t timeout = UINT32_MAX;</div><div class="line">    <span class="keywordflow">while</span> ((status.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ae20d4bed523ca4e802f5da6fdec4ca43">write_in_progress</a>) &amp;&amp; (--timeout))</div><div class="line">    {</div><div class="line"></div><div class="line">        err = <a class="code" href="group___o_s_p_i.html#ga382e123ae0e13cf3e3d8dd72f1b5fc47">R_OSPI_StatusGet</a>(&amp;g_ospi0_ctrl, &amp;status);</div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (0 == timeout)</div><div class="line">    {</div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_auto_calibrate_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Open the OSPI instance. */</span></div><div class="line">    <span class="comment">/* Set data_latch_delay_clocks to 0x0 to enable auto-calibration */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    uint8_t * preamble_pattern_addr = (uint8_t *) OSPI_EXAMPLE_PREAMBLE_ADDRESS;</div><div class="line"></div><div class="line"></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga4eaf2a65c87357e3c5e702f9a796b0cc">R_OSPI_Write</a>(&amp;g_ospi0_ctrl, g_preamble_bytes, preamble_pattern_addr, OSPI_EXAMPLE_PREAMBLE_ADDRESS);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Wait until write has been completed */</span></div><div class="line">    ospi_example_wait_until_wip();</div><div class="line"></div><div class="line">    <span class="comment">/* Change from SPI to DOPI mode */</span></div><div class="line">    r_ospi_example_spi_to_dopi();</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h3>Octaclk Update Example (R_OSPI_SpiProtocolSet)</h3>
<p>This is an example of using R_BSP_OctaclkUpdate to change the Octal-SPI clock frequency during run time. The OCTACLK frequency must be updated before calling the R_OSPI_SpiProtocolSet with appropriate clock source and divider settings required to be set for the new SPI protocol mode. Ensure that the clock source selected is started.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> ospi_example_change_omclk (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Ensure clock source (PLL2 in this example) is running before changing the OCTACLK frequency */</span></div><div class="line">    bsp_octaclk_settings_t octaclk_settings;</div><div class="line">    octaclk_settings.source_clock = BSP_CLOCKS_CLOCK_PLL2;</div><div class="line">    octaclk_settings.divider      = <a class="code" href="group___b_s_p___m_c_u___r_a8_m1.html#ggaaaeced63fc5b7bbda1697f2a215a1192a5693f70a322545ff1cb2391206d03d71">BSP_CLOCKS_OCTACLK_DIV_2</a>;</div><div class="line">    R_BSP_OctaclkUpdate(&amp;octaclk_settings);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h3>OSPI Data and IAR</h3>
<p>When using the IAR compiler, OSPI data must be <code>const</code> qualified to be downloaded by the debugger.</p>
<h2>OSPI RAM:</h2>
<h3>Basic Example</h3>
<p>This is a basic example of minimal use of the OSPI in an application with OctaRAM.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define OSPI_RAM_EXAMPLE_DATA_LENGTH    (1024)</span></div><div class="line"></div><div class="line">uint8_t g_dest[OSPI_RAM_EXAMPLE_DATA_LENGTH];</div><div class="line"></div><div class="line"><span class="comment">/* Place uninitialized data buffers in the ospi0_cs1_noinit section.</span></div><div class="line"><span class="comment"> * Use ospi0_cs1_noinit section if the OctaRAM is configured on channel 1.</span></div><div class="line"><span class="comment"> */</span></div><div class="line">uint8_t g_src_1[OSPI_RAM_EXAMPLE_DATA_LENGTH] BSP_PLACE_IN_SECTION(<span class="stringliteral">&quot;.ospi0_cs1_noinit&quot;</span>);</div><div class="line">uint8_t g_src_2[OSPI_RAM_EXAMPLE_DATA_LENGTH] BSP_PLACE_IN_SECTION(<span class="stringliteral">&quot;.ospi0_cs1_noinit&quot;</span>);</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_ram_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Open the OSPI instancee.</span></div><div class="line"><span class="comment">     * Ensure valid setting of the &#39;Data latching delay&#39; field in the configurator.</span></div><div class="line"><span class="comment">     * To successfully perform OSPI RAM reads this value must not be 0.</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a>(&amp;g_ospi_ram0_ctrl, &amp;g_ospi_ram0_cfg);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* After R_OSPI_Open() and any required device specific intiialization, data can be read from or written to directly from the OSPI RAM. */</span></div><div class="line">    memcpy(&amp;g_dest[0], &amp;g_src_1[0], OSPI_RAM_EXAMPLE_DATA_LENGTH);</div><div class="line">    memcpy(&amp;g_src_2[0], &amp;g_src_1[0], OSPI_RAM_EXAMPLE_DATA_LENGTH);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h3>Auto-calibration Example (R_OSPI_DirectTransfer, R_OSPI_AutoCalibrate)</h3>
<p>This is an example of using R_OSPI_AutoCalibrate to calibrate OSPI peripheral to read data from the OctaRAM device.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define OSPI_RAM_EXAMPLE_PREAMBLE_ADDRESS                     (0x68000000U) </span><span class="comment">/* Device connected to CS0 */</span><span class="preprocessor"></span></div><div class="line"><span class="preprocessor">#define OSPI_RAM_EXAMPLE_OCTARAM_CR_LATENCY_COUNTER_MASK      (0x00F0U)</span></div><div class="line"><span class="preprocessor">#define OSPI_RAM_EXAMPLE_OCTARAM_CR_LATENCY_COUNTER_POS       (4U)</span></div><div class="line"><span class="preprocessor">#define OSPI_RAM_EXAMPLE_OCTARAM_100MHZ_4CLOCKS_CR_SETTING    (1U)</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_ram_auto_calibrate_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Open the OSPI instancee */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a>(&amp;g_ospi_ram0_ctrl, &amp;g_ospi_ram0_cfg);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* OctaRAM Configuration Register (cr)  read and write command definition */</span></div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> read_cr =</div><div class="line">    {</div><div class="line">        .<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>        = 0xC000U,     <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">        .address        = 0x00040000U, <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">        .data           = 0U,</div><div class="line">        .command_length = 2U,</div><div class="line">        .address_length = 4U,</div><div class="line">        .data_length    = 2U,</div><div class="line"></div><div class="line">        <span class="comment">/* Dummy Cycles set to the default value specified in the OctaRAM device Configuration Register */</span></div><div class="line">        .dummy_cycles   = 5U</div><div class="line">    };</div><div class="line"></div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> write_cr =</div><div class="line">    {</div><div class="line">        .<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>        = 0x4000U,     <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">        .address        = 0x00040000U, <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">        .data           = 0U,</div><div class="line">        .command_length = 2U,</div><div class="line">        .address_length = 4U,</div><div class="line">        .data_length    = 2U,</div><div class="line">        .dummy_cycles   = 0U</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="comment">/* Read OctaRAM device Configuration Register */</span></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a>(&amp;g_ospi_ram0_ctrl, &amp;read_cr, SPI_FLASH_DIRECT_TRANSFER_DIR_READ);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    uint16_t config_reg = (uint16_t) (((uint16_t) (read_cr.data) &amp; ~OSPI_RAM_EXAMPLE_OCTARAM_CR_LATENCY_COUNTER_MASK) |</div><div class="line">                                      ((uint16_t) (OSPI_RAM_EXAMPLE_OCTARAM_100MHZ_4CLOCKS_CR_SETTING &lt;&lt;</div><div class="line">                                                   OSPI_RAM_EXAMPLE_OCTARAM_CR_LATENCY_COUNTER_POS) &amp;</div><div class="line">                                       OSPI_RAM_EXAMPLE_OCTARAM_CR_LATENCY_COUNTER_MASK));</div><div class="line"></div><div class="line">    <span class="comment">/* Write Configuration Register */</span></div><div class="line">    write_cr.data = (uint32_t) config_reg;</div><div class="line">    err           = <a class="code" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a>(&amp;g_ospi_ram0_ctrl, &amp;write_cr, SPI_FLASH_DIRECT_TRANSFER_DIR_WRITE);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">    read_cr.data = 0;</div><div class="line"></div><div class="line">    <span class="comment">/* Set Dummy Clocks to value configured above (4 Clocks) */</span></div><div class="line">    read_cr.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ad4a653cf90fd97dc9d0a5f8fce3c3795">dummy_cycles</a> = 4U;</div><div class="line"></div><div class="line">    <span class="comment">/* Read Configuration Register */</span></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a>(&amp;g_ospi_ram0_ctrl, &amp;read_cr, SPI_FLASH_DIRECT_TRANSFER_DIR_READ);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Confirm the intended Configuration Register value */</span></div><div class="line">    assert(config_reg == (uint16_t) (read_cr.data &amp; UINT16_MAX));</div><div class="line"></div><div class="line">    <span class="keyword">volatile</span> uint32_t * ram_addr = (uint32_t *) OSPI_RAM_EXAMPLE_PREAMBLE_ADDRESS;</div><div class="line"></div><div class="line">    <span class="comment">/* Write the auto-calibration preamble pattern for DOPI mode as specified by the Hardware Manual */</span></div><div class="line">    ram_addr[0] = 0xFFFF0000;          <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">    ram_addr[1] = 0x0800FF00;          <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">    ram_addr[2] = 0xFF0000F7;          <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line">    ram_addr[3] = 0x00F708F7;          <span class="comment">// NOLINT(readability-magic-numbers)</span></div><div class="line"></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga700da26fc2e62ec14786f0f017c81d02">R_OSPI_AutoCalibrate</a>(&amp;g_ospi_ram0_ctrl);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* After Auto-calibration data can be read from or written to directly from the OSPI RAM. */</span></div><div class="line">    memcpy(&amp;g_dest[0], &amp;g_src_1[0], OSPI_RAM_EXAMPLE_DATA_LENGTH);</div><div class="line">    memcpy(&amp;g_src_2[0], &amp;g_src_1[0], OSPI_RAM_EXAMPLE_DATA_LENGTH);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structospi__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#structospi__instance__ctrl__t">ospi_instance_ctrl_t</a></td></tr>
<tr class="separator:structospi__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga0dd809af09334f30599a1d6290c497b1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga0dd809af09334f30599a1d6290c497b1">ospi_device_number_t</a> </td></tr>
<tr class="separator:ga0dd809af09334f30599a1d6290c497b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cb57e3f0a0546067b8963f585e43dd6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga6cb57e3f0a0546067b8963f585e43dd6">ospi_device_type_t</a> </td></tr>
<tr class="separator:ga6cb57e3f0a0546067b8963f585e43dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c0370d42bd59554b52b17675637a84e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga0c0370d42bd59554b52b17675637a84e">ospi_command_cs_pullup_clocks_t</a> </td></tr>
<tr class="separator:ga0c0370d42bd59554b52b17675637a84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc92842060aee9fb19b55d3cf911f990"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#gacc92842060aee9fb19b55d3cf911f990">ospi_command_cs_pulldown_clocks_t</a> </td></tr>
<tr class="separator:gacc92842060aee9fb19b55d3cf911f990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15ee1a2021fab7f7c42cfd937d97a6c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s_p_i.html#ga15ee1a2021fab7f7c42cfd937d97a6c0">ospi_dopi_byte_order_t</a> </td></tr>
<tr class="separator:ga15ee1a2021fab7f7c42cfd937d97a6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structospi__instance__ctrl__t" id="structospi__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structospi__instance__ctrl__t">&#9670;&nbsp;</a></span>ospi_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ospi_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Instance control block. DO NOT INITIALIZE. Initialization occurs when <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a75a4468493abb92f6bf484ed93718f6f">spi_flash_api_t::open</a> is called </p>
</div>
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga0dd809af09334f30599a1d6290c497b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0dd809af09334f30599a1d6290c497b1">&#9670;&nbsp;</a></span>ospi_device_number_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___o_s_p_i.html#ga0dd809af09334f30599a1d6290c497b1">ospi_device_number_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0dd809af09334f30599a1d6290c497b1a9ba21a26be1d4607323e2c5a4d88b696"></a>OSPI_DEVICE_NUMBER_0&#160;</td><td class="fielddoc"><p>Device connected to Chip-Select 0. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0dd809af09334f30599a1d6290c497b1a4f999cfe7d7d3deff619c1b066651c0c"></a>OSPI_DEVICE_NUMBER_1&#160;</td><td class="fielddoc"><p>Device connected to Chip-Select 1. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga6cb57e3f0a0546067b8963f585e43dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6cb57e3f0a0546067b8963f585e43dd6">&#9670;&nbsp;</a></span>ospi_device_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___o_s_p_i.html#ga6cb57e3f0a0546067b8963f585e43dd6">ospi_device_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6cb57e3f0a0546067b8963f585e43dd6a00a9da52876fad155fdadb605cf65005"></a>OSPI_DEVICE_FLASH&#160;</td><td class="fielddoc"><p>Device Memory type OctaFlash. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6cb57e3f0a0546067b8963f585e43dd6a965fa5409ad4e75afc19476f49978bc9"></a>OSPI_DEVICE_RAM&#160;</td><td class="fielddoc"><p>Device Memory type OctaRAM. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga0c0370d42bd59554b52b17675637a84e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c0370d42bd59554b52b17675637a84e">&#9670;&nbsp;</a></span>ospi_command_cs_pullup_clocks_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___o_s_p_i.html#ga0c0370d42bd59554b52b17675637a84e">ospi_command_cs_pullup_clocks_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84ea66824975b2524960859f39ce172c63a5"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_2&#160;</td><td class="fielddoc"><p>1.5 clocks DOPI mode; 2 Clocks all other modes; Unsupported for DOPI Read </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84ea20e3577c395bd6682566bade1ba3fd9f"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_3&#160;</td><td class="fielddoc"><p>2.5 clocks DOPI mode; 3 Clocks all other modes; Unsupported for DOPI Read </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84ead86631adc85489a28289b6566a1194f2"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_4&#160;</td><td class="fielddoc"><p>3.5 clocks DOPI mode; 4 Clocks all other modes; Unsupported for DOPI Read </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84eacab57b454b942a2c269a9920dbfea381"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_5&#160;</td><td class="fielddoc"><p>4.5 clocks DOPI mode; 5 Clocks all other modes; Unsupported for DOPI Read </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84eaf33be20b07f1ab0ec24ce5578b379184"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_6&#160;</td><td class="fielddoc"><p>5.5 clocks DOPI mode; 6 Clocks all other modes; Unsupported for DOPI Read </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84ea1dfe2098d2b6627fcab6014c968e0c2c"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_7&#160;</td><td class="fielddoc"><p>6.5 clocks DOPI mode; 7 Clocks all other modes </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84ea66fa3f3ff23933f0dd4932fd9aab8dee"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_8&#160;</td><td class="fielddoc"><p>7.5 clocks DOPI mode; 8 Clocks all other modes </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0c0370d42bd59554b52b17675637a84ea2634bc10e6d837b7cc10af14053e40af"></a>OSPI_COMMAND_CS_PULLUP_CLOCKS_9&#160;</td><td class="fielddoc"><p>8.5 clocks DOPI mode; 9 Clocks all other modes </p>
</td></tr>
</table>

</div>
</div>
<a id="gacc92842060aee9fb19b55d3cf911f990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc92842060aee9fb19b55d3cf911f990">&#9670;&nbsp;</a></span>ospi_command_cs_pulldown_clocks_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___o_s_p_i.html#gacc92842060aee9fb19b55d3cf911f990">ospi_command_cs_pulldown_clocks_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggacc92842060aee9fb19b55d3cf911f990a3f69eac42f2b6c193009db65261caff1"></a>OSPI_COMMAND_CS_PULLDOWN_CLOCKS_3&#160;</td><td class="fielddoc"><p>2.5 clocks DOPI mode; 3 Clocks all other modes </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc92842060aee9fb19b55d3cf911f990a8b2eaedaac2d5230fae8e90951d13fa2"></a>OSPI_COMMAND_CS_PULLDOWN_CLOCKS_4&#160;</td><td class="fielddoc"><p>3.5 clocks DOPI mode; 4 Clocks all other modes </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc92842060aee9fb19b55d3cf911f990adb998ebbfc63030c39a64b5e6d17ebbf"></a>OSPI_COMMAND_CS_PULLDOWN_CLOCKS_5&#160;</td><td class="fielddoc"><p>4.5 clocks DOPI mode; 5 Clocks all other modes </p>
</td></tr>
</table>

</div>
</div>
<a id="ga15ee1a2021fab7f7c42cfd937d97a6c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15ee1a2021fab7f7c42cfd937d97a6c0">&#9670;&nbsp;</a></span>ospi_dopi_byte_order_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___o_s_p_i.html#ga15ee1a2021fab7f7c42cfd937d97a6c0">ospi_dopi_byte_order_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga15ee1a2021fab7f7c42cfd937d97a6c0a77e8090c1bcce0d62b56e224f2ef922e"></a>OSPI_DOPI_BYTE_ORDER_0123&#160;</td><td class="fielddoc"><p>DOPI byte order byte 0, byte 1, byte 2, byte 3. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga15ee1a2021fab7f7c42cfd937d97a6c0a888796528e2feeaeb5ca4c711b132daa"></a>OSPI_DOPI_BYTE_ORDER_1032&#160;</td><td class="fielddoc"><p>DOPI byte order byte 1, byte 0, byte 3, byte 2. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaec5430be37b10e19509cf5f31e045bc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec5430be37b10e19509cf5f31e045bc4">&#9670;&nbsp;</a></span>R_OSPI_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open the OSPI driver module. After the driver is open, the OSPI can be accessed like internal flash memory.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a75a4468493abb92f6bf484ed93718f6f">spi_flash_api_t::open</a>.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    <span class="comment">/* Open the OSPI instancee */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___o_s_p_i.html#gaec5430be37b10e19509cf5f31e045bc4">R_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Configuration was successful. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>The parameter p_ctrl or p_cfg is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Driver has already been opened with the same p_ctrl. </td></tr>
    <tr><td class="paramname">FSP_ERR_CALIBRATE_FAILED</td><td>Failed to perform auto-calibrate. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ARGUMENT</td><td>Attempting to open the driver with an invalid SPI protocol for OctaRAM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaadd7e5a651ead17ea57a4b040feaecb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadd7e5a651ead17ea57a4b040feaecb5">&#9670;&nbsp;</a></span>R_OSPI_DirectWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_DirectWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *const&#160;</td>
          <td class="paramname"><em>p_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool const&#160;</td>
          <td class="paramname"><em>read_after_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes raw data directly to the OctaFlash. API not supported. Use R_OSPI_DirectTransfer</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#aebfa0317034f04f53b6b788da0debe80">spi_flash_api_t::directWrite</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad5983ca3fd827557e90d70c70b57e75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5983ca3fd827557e90d70c70b57e75c">&#9670;&nbsp;</a></span>R_OSPI_DirectRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_DirectRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads raw data directly from the OctaFlash. API not supported. Use R_OSPI_DirectTransfer.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a4b3bfefb3b1ff0580fe1cce97b81c56f">spi_flash_api_t::directRead</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga71105098bc41e1d98ea07a6e4f3a26ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71105098bc41e1d98ea07a6e4f3a26ff">&#9670;&nbsp;</a></span>R_OSPI_DirectTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_DirectTransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> *const&#160;</td>
          <td class="paramname"><em>p_transfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga80ecf65e658f5b36bfe0bf2d88dd3ca5">spi_flash_direct_transfer_dir_t</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read/Write raw data directly with the OctaFlash/OctaRAM device.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a875857cdb3d6ebf0971115737b9e2989">spi_flash_api_t::directTransfer</a>.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    <span class="comment">/* Write Enable */</span></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga71105098bc41e1d98ea07a6e4f3a26ff">R_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_WRITE);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The flash was programmed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2b3567098076c20a1b6af751af0697c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b3567098076c20a1b6af751af0697c0">&#9670;&nbsp;</a></span>R_OSPI_XipEnter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_XipEnter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enters Single Continuous Read/Write mode.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a48a9a0db1f5bcb24acc9cc1cea14f0ab">spi_flash_api_t::xipEnter</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The flash was programmed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI - OctaRAM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9f4836fa84ee2dec03eaaf7c15af17f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f4836fa84ee2dec03eaaf7c15af17f9">&#9670;&nbsp;</a></span>R_OSPI_XipExit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_XipExit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exits XIP (execute in place) mode.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a00317079cf31b5311592d0845caa4d8a">spi_flash_api_t::xipExit</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The flash was programmed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI - OctaRAM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4eaf2a65c87357e3c5e702f9a796b0cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4eaf2a65c87357e3c5e702f9a796b0cc">&#9670;&nbsp;</a></span>R_OSPI_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *const&#160;</td>
          <td class="paramname"><em>p_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Program a page of data to the flash.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a35480fe077054fff8bd41c67dbce88fb">spi_flash_api_t::write</a>.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    err = <a class="code" href="group___o_s_p_i.html#ga4eaf2a65c87357e3c5e702f9a796b0cc">R_OSPI_Write</a>(&amp;g_ospi0_ctrl, g_preamble_bytes, preamble_pattern_addr, OSPI_EXAMPLE_PREAMBLE_ADDRESS);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The flash was programmed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl, p_dest or p_src is NULL, or byte_count crosses a page boundary. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_DEVICE_BUSY</td><td>Another Write/Erase transaction is in progress. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_SIZE</td><td>Write operation crosses page-boundary. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI - OctaRAM. </td></tr>
    <tr><td class="paramname">FSP_ERR_WRITE_FAILED</td><td>The write enable bit was not set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9885fa86a8cafaab08c69eff59269628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9885fa86a8cafaab08c69eff59269628">&#9670;&nbsp;</a></span>R_OSPI_Erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_Erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_device_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erase a block or sector of flash. The byte_count must exactly match one of the erase sizes defined in <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a>. For chip erase, byte_count must be SPI_FLASH_ERASE_SIZE_CHIP_ERASE.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a4fb48ee9af80243cf7f8f966b4c6c56e">spi_flash_api_t::erase</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The command to erase the flash was executed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl or p_device_address is NULL, byte_count doesn't match an erase size defined in <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a>, or byte_count is set to 0. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_DEVICE_BUSY</td><td>The device is busy. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI - OctaRAM. </td></tr>
    <tr><td class="paramname">FSP_ERR_WRITE_FAILED</td><td>The write enable bit was not set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga382e123ae0e13cf3e3d8dd72f1b5fc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga382e123ae0e13cf3e3d8dd72f1b5fc47">&#9670;&nbsp;</a></span>R_OSPI_StatusGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_StatusGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__status__t">spi_flash_status_t</a> *const&#160;</td>
          <td class="paramname"><em>p_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the write or erase status of the flash.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a36600006109effd5c9d47283a7760ce6">spi_flash_api_t::statusGet</a>.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">        err = <a class="code" href="group___o_s_p_i.html#ga382e123ae0e13cf3e3d8dd72f1b5fc47">R_OSPI_StatusGet</a>(&amp;g_ospi0_ctrl, &amp;status);</div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The write status is in p_status. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl or p_status is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI - OctaRAM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad42032ff7522d696bbe2986c59e03ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad42032ff7522d696bbe2986c59e03ada">&#9670;&nbsp;</a></span>R_OSPI_BankSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_BankSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selects the bank to access.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ae581e587fb514ab784257d07a77d6b32">spi_flash_api_t::bankSet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8b379c62e657c6ed8bf9a4ef2f877afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b379c62e657c6ed8bf9a4ef2f877afa">&#9670;&nbsp;</a></span>R_OSPI_SpiProtocolSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_SpiProtocolSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga17c347a498a8a9d38ffc36c0de49a535">spi_flash_protocol_t</a>&#160;</td>
          <td class="paramname"><em>spi_protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SPI protocol.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a423e63cd15ce3984410c2f5cdf717e35">spi_flash_api_t::spiProtocolSet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>SPI protocol updated on MCU peripheral. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_CALIBRATE_FAILED</td><td>Failed to perform auto-calibrate. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ARGUMENT</td><td>Attempting to set an invalid SPI protocol for OctaRAM. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga700da26fc2e62ec14786f0f017c81d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga700da26fc2e62ec14786f0f017c81d02">&#9670;&nbsp;</a></span>R_OSPI_AutoCalibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_AutoCalibrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Auto-calibrate the OctaRAM device using the preamble pattern. </p><dl class="section note"><dt>Note</dt><dd>The preamble pattern must be written to the configured address before calling this API. Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ac78c55ffe2b7d99681612ce796a384c5">spi_flash_api_t::autoCalibrate</a>.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>SPI protocol updated on MCU peripheral. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_CALIBRATE_FAILED</td><td>Failed to perform auto-calibrate. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI - OctaFlash. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf76fbccef1f27f2134ba3a14faab11e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf76fbccef1f27f2134ba3a14faab11e4">&#9670;&nbsp;</a></span>R_OSPI_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_OSPI_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the OSPI driver module.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a28bdae798428b85222739a0b9fd43a15">spi_flash_api_t::close</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Configuration was successful. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v6.2.0 User's Manual Copyright © (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
