<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: CAN FD (r_canfd)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
     });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v6.3.1</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">

    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text">
      </span>
      <span class="right">
          &nbsp;
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___c_a_n_f_d.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body.
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len));
            }
          }
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element.
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">CAN FD (r_canfd)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___c_o_n_n_e_c_t_i_v_i_t_y___m_o_d_u_l_e_s.html">Connectivity</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga664d1e07613b250a3084681a613334be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga664d1e07613b250a3084681a613334be">R_CANFD_Open</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___c_a_n___a_p_i.html#structcan__cfg__t">can_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga664d1e07613b250a3084681a613334be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7387d2e68262798a52c3a820ce12ea47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga7387d2e68262798a52c3a820ce12ea47">R_CANFD_Close</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="separator:ga7387d2e68262798a52c3a820ce12ea47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc41bfd0b92eb607d8dbc0b8c248bb94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#gadc41bfd0b92eb607d8dbc0b8c248bb94">R_CANFD_Write</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl, uint32_t buffer, <a class="el" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a> *const p_frame)</td></tr>
<tr class="separator:gadc41bfd0b92eb607d8dbc0b8c248bb94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab31328c78c603cbdc1c83846d4a6a7bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#gab31328c78c603cbdc1c83846d4a6a7bb">R_CANFD_Read</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl, uint32_t buffer, <a class="el" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a> *const p_frame)</td></tr>
<tr class="separator:gab31328c78c603cbdc1c83846d4a6a7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00c7557917ce6e78eb2969d7b5855890"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga00c7557917ce6e78eb2969d7b5855890">R_CANFD_ModeTransition</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___c_a_n___a_p_i.html#gac29bd7d00b06d7457ae786471c296ba7">can_operation_mode_t</a> operation_mode, <a class="el" href="group___c_a_n___a_p_i.html#ga93f2b2c53f782b0c21beeb1339a108b7">can_test_mode_t</a> test_mode)</td></tr>
<tr class="separator:ga00c7557917ce6e78eb2969d7b5855890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16ff5e9e44e32191944292aea98ab4cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga16ff5e9e44e32191944292aea98ab4cb">R_CANFD_InfoGet</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___c_a_n___a_p_i.html#structcan__info__t">can_info_t</a> *const p_info)</td></tr>
<tr class="separator:ga16ff5e9e44e32191944292aea98ab4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92d02e429798c7d61508dfe17eb56abe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga92d02e429798c7d61508dfe17eb56abe">R_CANFD_CallbackSet</a> (<a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const p_api_ctrl, void(*p_callback)(<a class="el" href="group___c_a_n___a_p_i.html#structcan__callback__args__t">can_callback_args_t</a> *), void *const p_context, <a class="el" href="group___c_a_n___a_p_i.html#structcan__callback__args__t">can_callback_args_t</a> *const p_callback_memory)</td></tr>
<tr class="separator:ga92d02e429798c7d61508dfe17eb56abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the CANFD peripheral on RA MCUs. This module implements the <a class="el" href="group___c_a_n___a_p_i.html">CAN Interface</a>. </p>
<h1><a class="anchor" id="r-canfd-overview"></a>
Overview</h1>
<p>The CANFD module can be used to communicate over CAN networks, optionally using Flexible Data (CAN-FD) to accelerate the data phase. A variety of message filtering and buffer options are available. This document covers both the CANFD (r_canfd) and CANFD Lite (r_canfdlite) modules as they are based on the same hardware.</p>
<h2><a class="anchor" id="r-canfd-features"></a>
Features</h2>
<h3>Common Features</h3>
<ul>
<li>Compatibility<ul>
<li>Send and receive CAN 2.0 and CAN-FD frames on the same channel</li>
<li>Bitrate up to 1 Mbps with FD data phase speeds up to 5-8 Mbps</li>
<li>ISO 11898-1 Support</li>
</ul>
</li>
<li>Buffers<ul>
<li>32 global receive Message Buffers (RX MBs)</li>
<li>2-8 global receive FIFOs (RX FIFOs)</li>
<li>4-16 transmit Message Buffers (TX MBs) per channel</li>
</ul>
</li>
<li>Filtering<ul>
<li>Each filter rule can be individually configured to accept messages based on:<ul>
<li>ID</li>
<li>Standard or Extended ID (IDE bit)</li>
<li>Data or Remote Frame (RTR bit)</li>
<li>ID/IDE/RTR mask</li>
<li>Minimum DLC (data length) value</li>
</ul>
</li>
</ul>
</li>
<li>Interrupts<ul>
<li>Configurable Global RX FIFO Interrupt<ul>
<li>Configurable per FIFO</li>
<li>Interrupt at a certain depth or on every received message</li>
</ul>
</li>
<li>Configurable Common FIFO RX Interrupt<ul>
<li>Configurable per FIFO</li>
<li>Interrupt at a certain depth or on every received message</li>
</ul>
</li>
<li>Channel TX Interrupt<ul>
<li>Interrupt on every transmitted message or when a Common FIFO is empty</li>
</ul>
</li>
<li>Global Error<ul>
<li>DLC Check</li>
<li>Message Lost</li>
<li>FD Payload Overflow</li>
</ul>
</li>
<li>Channel Error<ul>
<li>Bus Error</li>
<li>Error Warning</li>
<li>Error Passive</li>
<li>Bus-Off Entry</li>
<li>Bus-Off Recovery</li>
<li>Overload</li>
<li>Bus Lock</li>
<li>Arbitration Loss</li>
<li>Transmission Aborted</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Per-MCU Specifications</h3>
<table class="doxtable">
<tr>
<th></th><th>RA6M5 </th><th>RA6T2 </th><th>RA8M1  </th></tr>
<tr>
<td>Channels </td><td>2 </td><td>1 </td><td>2 </td></tr>
<tr>
<td>Max nominal bitrate </td><td>1 Mbps </td><td>1 Mbps </td><td>1 Mbps </td></tr>
<tr>
<td>Max data bitrate </td><td>5 Mbps </td><td>5 Mbps </td><td>8 Mbps </td></tr>
<tr>
<td>Filter rules </td><td>128 </td><td>32 </td><td>16/ch </td></tr>
<tr>
<td>TX message buffers </td><td>16/ch </td><td>4 </td><td>4/ch </td></tr>
<tr>
<td>RX message buffers </td><td>32 </td><td>32 </td><td>16/ch </td></tr>
<tr>
<td>RX FIFOs </td><td>8 </td><td>2 </td><td>2/ch </td></tr>
<tr>
<td>RX Buffer RAM </td><td>4864 bytes </td><td>1216 bytes </td><td>1216 bytes </td></tr>
<tr>
<td>Common FIFOs </td><td>3/ch </td><td>1 </td><td>1/ch </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Each message buffer comprises 12 header bytes plus data length (8-64 bytes). The above buffer RAM values therefore correspond to the following capacities: <table class="doxtable">
<tr>
<th></th><th>RA6M5 </th><th>RA6T2 </th><th>RA8M1  </th></tr>
<tr>
<td>Max 64-byte storage </td><td>64 messages </td><td>16 messages </td><td>16 messages </td></tr>
<tr>
<td>Max 8-byte storage </td><td>243 messages </td><td>60 messages </td><td>60 messages </td></tr>
</table>
</dd>
<dd>
Each Common FIFO buffer can support the following message capacities: <table class="doxtable">
<tr>
<th></th><th>RA6M5 </th><th>RA6T2 </th><th>RA8M1  </th></tr>
<tr>
<td>Maximum payload size </td><td>64 bytes </td><td>64 bytes </td><td>64 bytes </td></tr>
<tr>
<td>Maximum FIFO depth </td><td>128 messages </td><td>48 messages </td><td>48 messages </td></tr>
</table>
<a class="anchor" id="um_can_api_baudrate_settings"></a><a class="anchor" id="um_can_api_callback_set"></a><a class="anchor" id="um_can_api_data_frames"></a><a class="anchor" id="um_can_api_data_length"></a><a class="anchor" id="um_can_api_error_count"></a><a class="anchor" id="um_can_api_extended_ids"></a><a class="anchor" id="um_can_api_id_masking"></a><a class="anchor" id="um_can_api_multiple_channels"></a><a class="anchor" id="um_can_api_operation_modes"></a><a class="anchor" id="um_can_api_remote_frames"></a><a class="anchor" id="um_can_api_test_mode_listen"></a><a class="anchor" id="um_can_api_tx_busy"></a><a class="anchor" id="um_can_api_type_masking"></a> <a class="anchor" id="um_canfd_afl"></a><a class="anchor" id="um_canfd_error_fd_eri"></a><a class="anchor" id="um_canfd_error_fd_payload_overflow"></a><a class="anchor" id="um_canfd_fd_brs"></a><a class="anchor" id="um_canfd_fd_dlc"></a><a class="anchor" id="um_canfd_fifo_manual_read"></a><a class="anchor" id="um_canfd_fifo_status"></a><a class="anchor" id="um_canfd_fifo_threshold"></a><a class="anchor" id="um_canfd_mb_read"></a><a class="anchor" id="um_canfd_mb_status"></a><a class="anchor" id="um_canfd_tx_mb"></a><a class="anchor" id="um_canfd_internal_bus"></a><a class="anchor" id="um_canfd_error_message_lost"></a><a class="anchor" id="um_canfd_dlc_check"></a><a class="anchor" id="um_canfd_common_fifo_manual_read"></a><a class="anchor" id="um_canfd_common_fifo_write"></a><a class="anchor" id="um_canfd_common_fifo_status"></a><a class="anchor" id="um_canfd_common_fifo_rx_threshold"></a><a class="anchor" id="um_canfd_common_fifo_tx"></a></dd></dl>
<h1><a class="anchor" id="r-canfd-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for r_canfd</h2>
The following build time configurations are defined in fsp_cfg/r_canfd_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Global Error Interrupt  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Callback Channel</td><td>MCU Specific Options</td><td></td><td>Specify which channel callback should be called to handle global errors. When starting the driver this channel must be opened first. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Priority</td><td>MCU Specific Options</td><td></td><td>This interrupt is fired for each of the error sources selected below. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Sources</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
DLC Check</li>
<li>
Message Lost</li>
<li>
FD Payload Overflow</li>
</ul>
</td><td>0U </td><td>Select which errors should trigger an interrupt. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Reception  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs  </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 0  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Enabled </td><td>Enable or disable RX FIFO 0. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 0. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 0. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 0. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 0. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 1  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 1. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 1. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 1. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 1. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 1. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 2  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 2. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 2. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 2. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 2. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 2. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 3  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 3. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 3. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 3. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 3. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 3. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 4  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 4. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 4. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 4. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 4. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 4. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 5  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 5. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 5. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 5. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 5. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 5. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 6  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 6. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 6. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 6. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 6. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 6. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; FIFOs &gt; FIFO 7  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable RX FIFO 7. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Mode</td><td>MCU Specific Options</td><td></td><td>Set the interrupt mode for RX FIFO 7. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for RX FIFO 7. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for RX FIFO 7. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for RX FIFO 7. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Priority</td><td>MCU Specific Options</td><td></td><td>This priority level will apply to all FIFO interrupts globally. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; Message Buffers  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Number of Buffers</td><td>RX Message Buffer number must be an integer between 0 and 32.</td><td>0 </td><td>Number of message buffers available for reception.<br />
<br />
As there is no interrupt for message buffer reception it is recommended to use RX FIFOs instead. Set this value to 0 to disable RX Message Buffers. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
8 bytes</li>
<li>
12 bytes</li>
<li>
16 bytes</li>
<li>
20 bytes</li>
<li>
24 bytes</li>
<li>
32 bytes</li>
<li>
48 bytes</li>
<li>
64 bytes</li>
</ul>
</td><td>8 bytes </td><td>Payload size for all RX Message Buffers. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Reception &gt; Acceptance Filtering  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Channel 0 Rule Count</td><td>The number of AFL rules must be a positive integer.</td><td>32 </td><td>Number of acceptance filter list rules dedicated to Channel 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Channel 1 Rule Count</td><td>The number of AFL rules must be a positive integer.</td><td>0 </td><td>Number of acceptance filter list rules dedicated to Channel 1. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Flexible Data (FD)  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Protocol Exceptions</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled (ISO 11898-1)</li>
<li>
Disabled</li>
</ul>
</td><td>Enabled (ISO 11898-1) </td><td>Select whether to enter the protocol exception handling state when a RES bit is sampled recessive as defined in ISO 11898-1. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Payload Overflow</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reject</li>
<li>
Truncate</li>
</ul>
</td><td>Reject </td><td>Configure whether received messages larger than the destination buffer should be truncated or rejected. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs &gt; FIFO 0  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Receive</li>
<li>
Transmit</li>
</ul>
</td><td>Receive </td><td>Select the operation mode for Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">RX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message receiption for Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message transmission for Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Threshold</li>
<li>
Every frame</li>
</ul>
</td><td>Threshold </td><td>Set the interrupt mode for Common FIFO 0. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below or when all messages have been transmitted. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for Common FIFO 0. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Message Buffer</td><td>MCU Specific Options</td><td></td><td>Select the TX message buffer that participates in TX scans related to Common FIFO 0. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval TX Delay</td><td>TX delay must be an integer between 0 and 255.</td><td>0 </td><td>Selects the delay between successive transmission for Common FIFO 0 in units of the Interval Timer Clock. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reference clock</li>
<li>
Bit time clock</li>
</ul>
</td><td>Reference clock </td><td>Select the source of the interval timer clock for Common FIFO 0. The reference clock can be scaled by x10 below. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer Reference Clock Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
x1</li>
<li>
x10</li>
</ul>
</td><td>x1 </td><td>Selects the timer resolution if the reference clock is selected as the timer source for Common FIFO 0. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs &gt; FIFO 1  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Receive</li>
<li>
Transmit</li>
</ul>
</td><td>Receive </td><td>Select the operation mode for Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">RX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message receiption for Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message transmission for Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Threshold</li>
<li>
Every frame</li>
</ul>
</td><td>Threshold </td><td>Set the interrupt mode for Common FIFO 1. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below or when all messages have been transmitted. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for Common FIFO 1. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Message Buffer</td><td>MCU Specific Options</td><td></td><td>Select the TX message buffer that participates in TX scans related to Common FIFO 1. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval TX Delay</td><td>TX delay must be an integer between 0 and 255.</td><td>0 </td><td>Selects the delay between successive transmission for Common FIFO 1 in units of the Interval Timer Clock. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reference clock</li>
<li>
Bit time clock</li>
</ul>
</td><td>Reference clock </td><td>Select the source of the interval timer clock for Common FIFO 1. The reference clock can be scaled by x10 below. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer Reference Clock Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
x1</li>
<li>
x10</li>
</ul>
</td><td>x1 </td><td>Selects the timer resolution if the reference clock is selected as the timer source for Common FIFO 1. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs &gt; FIFO 2  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Receive</li>
<li>
Transmit</li>
</ul>
</td><td>Receive </td><td>Select the operation mode for Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">RX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message receiption for Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message transmission for Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Threshold</li>
<li>
Every frame</li>
</ul>
</td><td>Threshold </td><td>Set the interrupt mode for Common FIFO 2. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below or when all messages have been transmitted. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for Common FIFO 2. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Message Buffer</td><td>MCU Specific Options</td><td></td><td>Select the TX message buffer that participates in TX scans related to Common FIFO 2. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval TX Delay</td><td>TX delay must be an integer between 0 and 255.</td><td>0 </td><td>Selects the delay between successive transmission for Common FIFO 2 in units of the Interval Timer Clock. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reference clock</li>
<li>
Bit time clock</li>
</ul>
</td><td>Reference clock </td><td>Select the source of the interval timer clock for Common FIFO 2. The reference clock can be scaled by x10 below. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer Reference Clock Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
x1</li>
<li>
x10</li>
</ul>
</td><td>x1 </td><td>Selects the timer resolution if the reference clock is selected as the timer source for Common FIFO 2. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs &gt; FIFO 3  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Receive</li>
<li>
Transmit</li>
</ul>
</td><td>Receive </td><td>Select the operation mode for Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">RX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message receiption for Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message transmission for Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Threshold</li>
<li>
Every frame</li>
</ul>
</td><td>Threshold </td><td>Set the interrupt mode for Common FIFO 3. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below or when all messages have been transmitted. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for Common FIFO 3. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Message Buffer</td><td>MCU Specific Options</td><td></td><td>Select the TX message buffer that participates in TX scans related to Common FIFO 3. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval TX Delay</td><td>TX delay must be an integer between 0 and 255.</td><td>0 </td><td>Selects the delay between successive transmission for Common FIFO 3 in units of the Interval Timer Clock. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reference clock</li>
<li>
Bit time clock</li>
</ul>
</td><td>Reference clock </td><td>Select the source of the interval timer clock for Common FIFO 3. The reference clock can be scaled by x10 below. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer Reference Clock Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
x1</li>
<li>
x10</li>
</ul>
</td><td>x1 </td><td>Selects the timer resolution if the reference clock is selected as the timer source for Common FIFO 3. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs &gt; FIFO 4  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Receive</li>
<li>
Transmit</li>
</ul>
</td><td>Receive </td><td>Select the operation mode for Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">RX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message receiption for Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message transmission for Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Threshold</li>
<li>
Every frame</li>
</ul>
</td><td>Threshold </td><td>Set the interrupt mode for Common FIFO 4. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below or when all messages have been transmitted. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for Common FIFO 4. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Message Buffer</td><td>MCU Specific Options</td><td></td><td>Select the TX message buffer that participates in TX scans related to Common FIFO 4. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval TX Delay</td><td>TX delay must be an integer between 0 and 255.</td><td>0 </td><td>Selects the delay between successive transmission for Common FIFO 4 in units of the Interval Timer Clock. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reference clock</li>
<li>
Bit time clock</li>
</ul>
</td><td>Reference clock </td><td>Select the source of the interval timer clock for Common FIFO 4. The reference clock can be scaled by x10 below. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer Reference Clock Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
x1</li>
<li>
x10</li>
</ul>
</td><td>x1 </td><td>Selects the timer resolution if the reference clock is selected as the timer source for Common FIFO 4. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Common FIFOs &gt; FIFO 5  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable or disable Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Receive</li>
<li>
Transmit</li>
</ul>
</td><td>Receive </td><td>Select the operation mode for Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">RX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message receiption for Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Interrupt Enable</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Enable to allow interrupts on message transmission for Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Threshold</li>
<li>
Every frame</li>
</ul>
</td><td>Threshold </td><td>Set the interrupt mode for Common FIFO 5. Threshold mode will only fire an interrupt each time an incoming message crosses the threshold value set below or when all messages have been transmitted. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interrupt Threshold</td><td>MCU Specific Options</td><td></td><td>Set the interrupt threshold value for Common FIFO 5. This setting is only applicable when the Interrupt Mode is set to 'At Threshold Value'. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Payload Size</td><td>MCU Specific Options</td><td></td><td>Select the message payload size for Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Depth</td><td>MCU Specific Options</td><td></td><td>Select the number of stages for Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">TX Message Buffer</td><td>MCU Specific Options</td><td></td><td>Select the TX message buffer that participates in TX scans related to Common FIFO 5. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval TX Delay</td><td>TX delay must be an integer between 0 and 255.</td><td>0 </td><td>Selects the delay between successive transmission for Common FIFO 5 in units of the Interval Timer Clock. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Reference clock</li>
<li>
Bit time clock</li>
</ul>
</td><td>Reference clock </td><td>Select the source of the interval timer clock for Common FIFO 5. The reference clock can be scaled by x10 below. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Interval Timer Reference Clock Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
x1</li>
<li>
x10</li>
</ul>
</td><td>x1 </td><td>Selects the timer resolution if the reference clock is selected as the timer source for Common FIFO 5. </td></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr class="tree_none">
<td>Transmission Priority</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Message ID</li>
<li>
Buffer Number</li>
</ul>
</td><td>Buffer Number </td><td>Select how messages should be prioritized for transmission. In either case, lower numbers indicate higher priority. </td></tr>
<tr class="tree_none">
<td>DLC Check</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Disabled</li>
<li>
Enabled</li>
<li>
Enabled w/truncate</li>
</ul>
</td><td>config.driver.canfd.dlc_check.disabled </td><td>When enabled received messages will be rejected if their DLC field is less than the value configured in the associated AFL rule. If 'Enabled w/truncate' is selected and a message passes the DLC check the DLC field is set to the value in the associated AFL rule and any excess data is discarded. </td></tr>
<tr class="tree_none">
<td>Interval Timer Prescaler</td><td>Timer prescaler must be an integer between 0 and 65535.</td><td>0 </td><td>FIFO interval timer prescaler, required for Interval TX Delay. </td></tr>
</table>
 <h2>Configurations for Connectivity &gt; CAN FD (r_canfd)</h2>
This module can be added to the Stacks tab via New Stack &gt; Connectivity &gt; CAN FD (r_canfd). Non-secure callable guard functions can be generated for this module by right clicking the module in the RA Configuration tool and checking the "Non-secure Callable" box.<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> General  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Name</td><td>Name must be a valid C symbol</td><td>g_canfd0 </td><td>Module name. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Channel</td><td>Channel should be 0 or 1</td><td>0 </td><td>Specify the CAN channel to use. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Bitrate  </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Bitrate &gt; Automatic  </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Nominal Rate (bps)</td><td>Must be a valid integer with a maximum of 1MHz.</td><td>500000 </td><td>Specify nominal bitrate in bits per second. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">FD Data Rate (bps)</td><td>Must be a valid integer</td><td>2000000 </td><td>Specify data bitrate in bits per second. This value is not used when sending messages without the FD and BRS bits enabled and should be left at the default setting if only Classical CAN will be used. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Sample Point (%)</td><td>Must be a valid integer between 60 and 99.</td><td>75 </td><td>Specify desired sample point. </td></tr>
<tr class="tree_lvl_2">
<td class="tree_lvl_2" colspan="4"><span class="chevron-collapsed"></span> Bitrate &gt; Manual  </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Bitrate &gt; Manual &gt; Nominal  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Prescaler (divisor)</td><td>Value must be a non-negative integer between 1 and 1024.</td><td>1 </td><td>Specify clock divisor for nominal bitrate. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Time Segment 1 (Tq)</td><td>Value must be a non-negative integer between 2 and 256.</td><td>29 </td><td>Select the Time Segment 1 value. Check module usage notes for how to calculate this value. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Time Segment 2 (Tq)</td><td>Value must be a non-negative integer between 2 and 128.</td><td>10 </td><td>Select the Time Segment 2 value. Check module usage notes for how to calculate this value. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Sync Jump Width (Tq)</td><td>Value must be a non-negative integer between 1 and 128.</td><td>4 </td><td>Select the Synchronization Jump Width value. Check module usage notes for how to calculate this value. </td></tr>
<tr class="tree_lvl_3">
<td class="tree_lvl_3" colspan="4"><span class="chevron-collapsed"></span> Bitrate &gt; Manual &gt; Data  </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Prescaler (divisor)</td><td>Value must be a non-negative integer between 1 and 256.</td><td>1 </td><td>Specify clock divisor for data bitrate. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Time Segment 1 (Tq)</td><td>Value must be a non-negative integer between 2 and 32.</td><td>5 </td><td>Select the Time Segment 1 value. Check module usage notes for how to calculate this value. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Time Segment 2 (Tq)</td><td>Value must be a non-negative integer between 2 and 16.</td><td>2 </td><td>Select the Time Segment 2 value. Check module usage notes for how to calculate this value. </td></tr>
<tr class="tree_lvl_3_item">
<td class="tree_lvl_3_cell">Sync Jump Width (Tq)</td><td>Value must be a non-negative integer between 1 and 16.</td><td>1 </td><td>Select the Synchronization Jump Width value. Check module usage notes for how to calculate this value. </td></tr>
<tr class="tree_lvl_2_item">
<td class="tree_lvl_2_cell">Use manual settings</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Yes</li>
<li>
No</li>
</ul>
</td><td>No </td><td>Select whether or not to override automatic baudrate generation and instead use the values specified here. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Delay Compensation</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enable</li>
<li>
Disable</li>
</ul>
</td><td>Enable </td><td>When enabled the CANFD module will automatically compensate for any transceiver or bus delay between transmitted and received bits. When manually supplying bit timing values with delay compensation enabled be sure the data prescaler is 2 or smaller for correct operation. </td></tr>
<tr class="tree_lvl_1">
<td class="tree_lvl_1" colspan="4"><span class="chevron-collapsed"></span> Interrupts  </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Callback</td><td>Name must be a valid C symbol</td><td>canfd0_callback </td><td>A user callback function. If this callback function is provided, it is called from the interrupt service routine (ISR) each time any interrupt occurs. </td></tr>
<tr class="tree_lvl_1_item">
<td class="tree_lvl_1_cell">Channel Interrupt Priority Level</td><td>MCU Specific Options</td><td></td><td>Channel Error/Transmit interrupt priority. </td></tr>
<tr class="tree_none">
<td>Transmit Interrupts</td><td>MCU Specific Options</td><td></td><td>Select which TX Message Buffers should trigger an interrupt when transmission is complete. </td></tr>
<tr class="tree_none">
<td>Channel Error Interrupts</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Error Warning</li>
<li>
Error Passive</li>
<li>
Bus-Off Entry</li>
<li>
Bus-Off Recovery</li>
<li>
Overload</li>
</ul>
</td><td>0U </td><td>Select which channel error interrupt sources to enable. </td></tr>
<tr class="tree_none">
<td>Filter List Array</td><td>Name must be a valid C symbol</td><td>p_canfd0_afl </td><td>Acceptance Filter List (AFL) rule array symbol name. </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-canfd-clock-configuration"></a>
Clock Configuration</h2>
<p>The CANFD peripheral uses PLL or PLL2 as its clock source. The RA Configuration editor will attempt to get as close as possible to the supplied bitrate with the configured clock source. To achieve an exact bitrate the CANFD source clock or divisor may need to be adjusted to meet the criteria in the formula below:</p>
<div class="fragment"><div class="line">bitrate = canfd_clock_hz / ((time_segment_1 + time_segment_2 + 1) * prescalar)</div></div><!-- fragment --><p>For CANFD, the possible values for each element are as follows:</p>
<table class="doxtable">
<tr>
<th>Element </th><th>Min </th><th>Max (Nominal) </th><th>Max (Data)  </th></tr>
<tr>
<td>Bitrate </td><td>- </td><td>1 Mbps </td><td>5-8 Mbps* </td></tr>
<tr>
<td>Time Segment 1 </td><td>2 Tq </td><td>256 Tq </td><td>32 Tq </td></tr>
<tr>
<td>Time Segment 2 </td><td>2 Tq </td><td>128 Tq </td><td>16 Tq </td></tr>
<tr>
<td><a class="el" href="group___c_a_n_f_d.html#r-canfd-sync-jump-width">Sync Jump Width</a> </td><td>1 Tq </td><td>Time Segment 2 </td><td>Time Segment 2 </td></tr>
<tr>
<td>Prescalar </td><td>1 </td><td>1024 </td><td>256 </td></tr>
</table>
<ul>
<li>RA6 devices support up to 5 Mbps; RA8 devices support up to 8 Mbps.</li>
</ul>
<p>Use the <b>Clocks</b> tab of the RA Configuration editor to configure the CANFD clock source/divisor as well as to set the frequency of PLL or PLL2. To change the clock frequency at run-time, use the CGC Interface. Refer to the CGC module guide for more information on configuring clocks.</p>
<h2><a class="anchor" id="r-canfd-pin-configuration"></a>
Pin Configuration</h2>
<p>CANFD channels each control two pins: CRX (receive) and CTX (transmit).</p>
<h1><a class="anchor" id="r-canfd-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="r-canfd-buffers"></a>
Buffers</h2>
<p>The CANFD driver provides four types of buffers: Transmit Message Buffers (TX MBs), Receive Message Buffers (RX MBs), Receive FIFOs (RX FIFOs), and Common FIFOs (RX/TX Common FIFOs).</p>
<h3>TX Message Buffers</h3>
<p>TX MBs are used for transmission only. Refer to the hardware manual for your device for information on which TX MBs are available.</p>
<dl class="section note"><dt>Note</dt><dd>The CANFD peripheral continually scans TX MBs for new data. Depending on the provided clock it may be possible to write to multiple TX MBs before transmission begins. In this case, messages will be sent in the priority specified by the Transmission Priority option in the RA Configuration editor.</dd></dl>
<h3>RX Message Buffers</h3>
<p>RX MBs are for reception only and may only hold one message at a time. The number of available RX MBs varies per device.</p>
<p>On RA6M5, RX MBs are shared between channels and no interrupts are provided. Use <a class="el" href="group___c_a_n_f_d.html#ga16ff5e9e44e32191944292aea98ab4cb">R_CANFD_InfoGet</a> and <a class="el" href="group___c_a_n_f_d.html#gab31328c78c603cbdc1c83846d4a6a7bb">R_CANFD_Read</a> to poll and read them, respectively.</p>
<h3>RX FIFOs</h3>
<p>RX FIFOs provide interrupt-driven queue functionality for receiving messages. All FIFOs have the following capabilities:</p>
<ul>
<li>Up to 64 byte payloads</li>
<li>Up to 128 messages (RA6M5) or 48 messages for all other MCUs.</li>
<li>Interrupt events:<ul>
<li>On every received frame OR when filled to a specified fraction of its capacity</li>
<li>When a message is overwritten (message received on full FIFO)</li>
</ul>
</li>
</ul>
<p>Once an interrupt is fired it will continue to fire until the FIFO is emptied and all messages have been passed to user code via the callback. When using the threshold interrupt mode a FIFO can be checked for data and read between interrupts by calling <a class="el" href="group___c_a_n_f_d.html#ga16ff5e9e44e32191944292aea98ab4cb">R_CANFD_InfoGet</a> and <a class="el" href="group___c_a_n_f_d.html#gab31328c78c603cbdc1c83846d4a6a7bb">R_CANFD_Read</a>, respectively.</p>
<dl class="section note"><dt>Note</dt><dd>On the RA6M5, FIFOs are shared across all channels.</dd></dl>
<h3><a class="anchor" id="r-canfd-buffer-pool"></a>
RX Buffer Pool</h3>
<p>The CANFD peripheral has a limited amount of buffer pool RAM available for allocating RX MBs and FIFO stages. The RA Configuration editor will provide a warning when the limit is exceeded.</p>
<p>The number of bytes used by RX MBs and individual FIFOs can be calculated as follows:</p>
<div class="fragment"><div class="line">Total RX MB bytes used = (number of RX MBs enabled) * (RX MB payload size + 12 header bytes)</div><div class="line"></div><div class="line">RX FIFO bytes used = (number of FIFO stages) * (FIFO payload size + 12 header bytes)</div></div><!-- fragment --><h3>Common FIFOs</h3>
<p>Common FIFOs provide interrupt-driven queue functionality for receiving or transmitting messages. Unlike RX FIFOs, Common FIFOs are individual to each channel. Refer to the hardware manual for your device for information on how many Common FIFOs are available. Common FIFOs support the following capabilities:</p>
<ul>
<li>Either TX or RX behavior can be configured.<ul>
<li>Each Common FIFO can only be configured as one or the other. It cannot operate in both TX and RX modes at the same time.</li>
</ul>
</li>
<li>Up to 64 byte payloads</li>
<li>Up to 128 messages (RA6M5) or 48 messages on all other MCUs</li>
<li>Interrupt events:<ul>
<li>On every message received or when filled to a specified fraction of its capacity</li>
<li>On every message transmitted or when all messages have been transmitted and the FIFO is empty</li>
</ul>
</li>
</ul>
<p>Once an interrupt is fired it will continue to fire until the FIFO is emptied and all messages have been passed to user code via the callback. When using the threshold interrupt mode a FIFO can be checked for data and read between interrupts by calling <a class="el" href="group___c_a_n_f_d.html#ga16ff5e9e44e32191944292aea98ab4cb">R_CANFD_InfoGet</a> and <a class="el" href="group___c_a_n_f_d.html#gab31328c78c603cbdc1c83846d4a6a7bb">R_CANFD_Read</a>, respectively.</p>
<p>Users should be aware of the total memory allocated in the internal CAN-FD RAM area for Common FIFOs. Allocating too many FIFOs or entries can lead to unexpected behavior.</p>
<h2><a class="anchor" id="r-canfd-afl"></a>
Message Filtering (Acceptance Filter List)</h2>
<p>To filter messages to the desired message buffer or FIFO the CANFD peripheral uses an Acceptance Filter List (AFL). Each entry in the AFL provides a rule to check a message against along with destination and other filtering information. When a message is received the CANFD peripheral internally checks against every configured AFL rule for the channel. If a match is found the message is transferred to the destination(s) specified in the rule. The default template with one entry is shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group___c_a_n_f_d.html#structcanfd__afl__entry__t">canfd_afl_entry_t</a> p_canfd0_afl[CANFD_CFG_AFL_CH0_RULE_NUM] =</div><div class="line">{</div><div class="line">    {</div><div class="line">        .id =</div><div class="line">        {</div><div class="line">            <span class="comment">/* Specify the ID, ID type and frame type to accept. */</span></div><div class="line">            .id         = 0x00000000,</div><div class="line">            .frame_type = <a class="code" href="group___c_a_n___a_p_i.html#ggad3ffe1ae0429fcd1053a969d96c47610a1da44b52c2731b02cf02ca55eec08899">CAN_FRAME_TYPE_DATA</a>,</div><div class="line">            .id_mode    = <a class="code" href="group___c_a_n___a_p_i.html#ggabc98e244722dcea05b5ce91bdb4c70c8abc5a87ed8edf218a6b44e4cceb48c0cb">CAN_ID_MODE_EXTENDED</a>,</div><div class="line">        },</div><div class="line"></div><div class="line">        .mask =</div><div class="line">        {</div><div class="line">            <span class="comment">/* These values mask which ID/mode bits to compare when filtering messages. */</span></div><div class="line">            .mask_id         = 0x1FFFFFFF,</div><div class="line">            .mask_frame_type = 1,</div><div class="line">            .mask_id_mode    = 1,</div><div class="line">        },</div><div class="line"></div><div class="line">        .destination =</div><div class="line">        {</div><div class="line">            <span class="comment">/* If DLC checking is enabled any messages shorter than the below setting will be rejected. */</span></div><div class="line">            .minimum_dlc = CANFD_MINIMUM_DLC_0,</div><div class="line"></div><div class="line">            <span class="comment">/* Optionally specify a Receive Message Buffer (RX MB) to store accepted frames. RX MBs do not have an</span></div><div class="line"><span class="comment">             * interrupt or overwrite protection and must be checked with R_CANFD_InfoGet and R_CANFD_Read. */</span></div><div class="line">            .rx_buffer   = CANFD_RX_MB_NONE,</div><div class="line"></div><div class="line">            <span class="comment">/* Specify which FIFO(s) to send filtered messages to. Multiple FIFOs can be OR&#39;d together. */</span></div><div class="line">            .fifo_select_flags = CANFD_RX_FIFO_0,</div><div class="line">        }</div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --><p>AFL templates can be easily added to a project using the Developer Assistance feature in e&sup2; studio. Once the CANFD module is added to a project, drag and drop the elements circled below to build a filter list:</p>
<div class="image">
<img src="r_canfd_afl_devassist.png" alt="r_canfd_afl_devassist.png"/>
<div class="caption">
CANFD Developer Assistance AFL Templates</div></div>
<p> For an example configuration refer to the <a class="el" href="group___c_a_n_f_d.html#r-canfd-examples-afl">AFL Example</a> below.</p>
<h2><a class="anchor" id="r-canfd-fd"></a>
Flexible Data (FD)</h2>
<p>Flexible Data is an extension of the CAN protocol allowing for messages up to 64 bytes and higher data bitrates, among other features. The CANFD driver supports the following:</p>
<ul>
<li>Sending and receiving FD messages</li>
<li>Bitrate switching for data phase</li>
<li>Manual and automatic setting of the error state (ESI) bit</li>
</ul>
<p>To specify one or more of these options when transmitting set <a class="el" href="group___c_a_n___a_p_i.html#a27833816de50e1ad5b16b42856653ad8">can_frame_t::options</a> with combined values from <a class="el" href="group___c_a_n_f_d.html#ga6c4d104c3a9cce6b74a05035f0af6d87">canfd_frame_options_t</a>. Received messages will automatically have this field filled, if applicable.</p>
<div class="fragment"><div class="line"></div><div class="line">    <span class="comment">/* Configure a frame to write 64 bytes with bitrate switching (BRS) enabled */</span></div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a49d4261f37f08f5a11cc3fc12c56cdc3">id</a>               = CAN_EXAMPLE_ID;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a4144eba26f77850571fca0498bec60ef">id_mode</a>          = <a class="code" href="group___c_a_n___a_p_i.html#ggabc98e244722dcea05b5ce91bdb4c70c8a5d29b837d94d14fb99868c2d0a5220b0">CAN_ID_MODE_STANDARD</a>;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a79046fddb934fd7ea0d0cc70b8d7f26d">type</a>             = <a class="code" href="group___c_a_n___a_p_i.html#ggad3ffe1ae0429fcd1053a969d96c47610a1da44b52c2731b02cf02ca55eec08899">CAN_FRAME_TYPE_DATA</a>;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#af58b9f3fe19ed69e0a635cd271c68404">data_length_code</a> = CAN_EXAMPLE_64_BYTES;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a27833816de50e1ad5b16b42856653ad8">options</a>          = <a class="code" href="group___c_a_n_f_d.html#gga6c4d104c3a9cce6b74a05035f0af6d87a46bb2a869fc5c7b63b16bc822d4ec712">CANFD_FRAME_OPTION_FD</a> | <a class="code" href="group___c_a_n_f_d.html#gga6c4d104c3a9cce6b74a05035f0af6d87a4a5ce70c8fb9ab5d9e320a79dd59aebf">CANFD_FRAME_OPTION_BRS</a>;</div><div class="line"></div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>When using bitrate switching be sure to configure the Data Bitrate as desired in the RA Configuration editor.</dd></dl>
<h2>Bit Rate Calculation</h2>
<p>For convenience, the baudrate of the CANFD peripheral is automatically set through the RA Configuration editor using a best effort approach.</p>
<p>Enabling Delay Compensation instructs the CANFD peripheral to measure TX to RX tranceiver delay and automatically adjust for it, improving the reliability of high-speed FD messages. This option may severely limit available bitrate settings depending on the source clock; it is highly recommended to check the generated values when enabled.</p>
<p>If the auto-generated baud settings cause deviation that is not tolerable by the application the user can override the auto-generated settings and put in manually calculated values through the RA Configuration editor. For more details on how the bitrate is calculated refer to the <a class="el" href="group___c_a_n_f_d.html#r-canfd-clock-configuration">Clock Configuration</a> section above.</p>
<h3><a class="anchor" id="r-canfd-sync-jump-width"></a>
Sync Jump Width</h3>
<p>The Sync Jump Width option specifies the maximum number of time quanta that the sample point may be delayed by to account for differences in oscillators on the bus. It should be set to a value between 1 and the configured Time Segment 2 value depending on the maximum permissible clock error.</p>
<h2><a class="anchor" id="r-canfd-error-handling"></a>
Error Handling</h2>
<p>The CANFD peripheral provides two types of error interrupts: Channel and Global. As the names imply, each channel has its own Channel Error interrupt but there is only one Global Error interrupt. Only the configured channel will receive callbacks for Global Errors.</p>
<p>Error interrupt callbacks will pass either <a class="el" href="group___c_a_n___a_p_i.html#ggacc2e5bc68e8b707c069ca27f521695dbab16a5328b930c53524aecbc4d580bb24">CAN_EVENT_ERR_CHANNEL</a> or <a class="el" href="group___c_a_n___a_p_i.html#ggacc2e5bc68e8b707c069ca27f521695dba8adaa142ed94841f5f282232ce414333">CAN_EVENT_ERR_GLOBAL</a> in the <a class="el" href="group___c_a_n___a_p_i.html#a48fa3cf4c8c7e608c25ac8b907450096">can_callback_args_t::event</a> field. A second field, <a class="el" href="group___c_a_n___a_p_i.html#a39e131d3f8e8d6d8a14e9f248c1ac1e1">can_callback_args_t::error</a>, provides the actual error code as <a class="el" href="group___c_a_n_f_d.html#ga1598f08872dd960675f060c7e8c35cf4">canfd_error_t</a>. Cast to this enum to retrieve the error condition. See the callback in the <a class="el" href="group___c_a_n_f_d.html#r-canfd-examples-basic">Basic Example</a> below for a demonstration.</p>
<h2><a class="anchor" id="r-canfd-dlc-check"></a>
DLC Checking</h2>
<p>When DLC Checking is enabled messages are checked against the <code>destination.minimum_dlc</code> value of each AFL rule. If the data length of a message is less than this value the message will be rejected. When DLC checking is set to "Enabled w/truncate" in the RA Configuration editor any data in excess of the minimum DLC setting will be truncated and the DLC value for the frame will be set to match.</p>
<h2><a class="anchor" id="r-canfd-payload-overflow"></a>
FD Payload Overflow</h2>
<p>When an FD message is received with a DLC larger than the destination buffer an FD Payload Overflow interrupt is thrown (if configured). When Payload Overflow is set to "Truncate" the message will still be accepted but only data up to the buffer capacity will be preserved. The DLC value is unchanged in this case; any data beyond this value in the <a class="el" href="group___c_a_n___a_p_i.html#ad70086e98bfe0871e3f73d1f253138db">can_frame_t::data</a> array should not be used.</p>
<h2>Test Modes</h2>
<p>The CANFD peripheral provides three basic test modes: Listen Only, Internal Loopback and External Loopback. Use <a class="el" href="group___c_a_n_f_d.html#ga00c7557917ce6e78eb2969d7b5855890">R_CANFD_ModeTransition</a> to switch to a test mode.</p>
<p>On some MCUs an additional "Internal Bus" test mode is available that allows connecting both CANFD channels together on an internal bus, effectively creating an internal CAN network. See the <a class="el" href="group___c_a_n_f_d.html#r-canfd-examples-internal-bus">Internal Bus</a> example below for details.</p>
<h2><a class="anchor" id="r-canfd-limitations"></a>
Limitations</h2>
<p>Developers should be aware of the following limitations when using CANFD:</p>
<ul>
<li>On RA6M5, RX Message Buffers do not have an associated interrupt. To use them in an application one of the following is recommended:<ul>
<li>Use <a class="el" href="group___c_a_n_f_d.html#ga16ff5e9e44e32191944292aea98ab4cb">R_CANFD_InfoGet</a> to determine if any RX MBs have received data, then use <a class="el" href="group___c_a_n_f_d.html#gab31328c78c603cbdc1c83846d4a6a7bb">R_CANFD_Read</a> to obtain it</li>
<li>Select an RX FIFO as an additional destination for the relevant filter rules and configure the FIFO interrupt/callback as desired</li>
</ul>
</li>
<li>The CANFD peripheral has a limited amount of buffer pool RAM available for allocating RX MBs and FIFO stages. See the <a class="el" href="group___c_a_n_f_d.html#r-canfd-buffer-pool">RX Buffer Pool</a> section above for more information.</li>
<li>When switching modes with <a class="el" href="group___c_a_n_f_d.html#ga00c7557917ce6e78eb2969d7b5855890">R_CANFD_ModeTransition</a> a delay of up to several CAN frames may be incurred. Consult Section "Timing of Channel Mode Change" in the CANFD section of the relevant hardware manual for details.</li>
<li>Only one channel will receive callbacks for Global Errors. If a different channel is opened first these error interrupts will be suppressed until the specified handler channel is opened.</li>
<li>The CANFD driver does not currently support updating AFL entries in Operation mode (communication active). Please refer to the "Updating AFL entry during communication" section in your device's manual on how to use this feature (if available).</li>
</ul>
<h1><a class="anchor" id="r-canfd-examples"></a>
Examples</h1>
<h2><a class="anchor" id="r-canfd-examples-afl"></a>
AFL Example</h2>
<p>The below is an example Acceptance Filter List (AFL) declaration with two rules.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="group___c_a_n_f_d.html#structcanfd__afl__entry__t">canfd_afl_entry_t</a> p_canfd0_afl[CANFD_CFG_AFL_CH1_RULE_NUM] =</div><div class="line">{</div><div class="line">    <span class="comment">/* Store all data frames with at least 4 bytes from Standard IDs 0x40-0x4F in RX FIFO 0 and RX FIFO 1 */</span></div><div class="line">    {</div><div class="line">        .id =</div><div class="line">        {</div><div class="line">            .id         = 0x40,</div><div class="line">            .frame_type = <a class="code" href="group___c_a_n___a_p_i.html#ggad3ffe1ae0429fcd1053a969d96c47610a1da44b52c2731b02cf02ca55eec08899">CAN_FRAME_TYPE_DATA</a>,</div><div class="line">            .id_mode    = <a class="code" href="group___c_a_n___a_p_i.html#ggabc98e244722dcea05b5ce91bdb4c70c8a5d29b837d94d14fb99868c2d0a5220b0">CAN_ID_MODE_STANDARD</a></div><div class="line">        },</div><div class="line"></div><div class="line">        .mask =</div><div class="line">        {</div><div class="line">            .mask_id         = 0x7F0,</div><div class="line">            .mask_frame_type = 1,</div><div class="line">            .mask_id_mode    = 1</div><div class="line">        },</div><div class="line"></div><div class="line">        .destination =</div><div class="line">        {</div><div class="line">            .minimum_dlc       = CANFD_MINIMUM_DLC_4,</div><div class="line">            .rx_buffer         = CANFD_RX_MB_NONE,</div><div class="line">            .fifo_select_flags = (<a class="code" href="group___c_a_n_f_d.html#ga0d7e38baf7141e9bad96675f5169e44b">canfd_rx_fifo_t</a>) (CANFD_RX_FIFO_0 | CANFD_RX_FIFO_1)</div><div class="line">        }</div><div class="line">    },</div><div class="line"></div><div class="line">    <span class="comment">/* Store all frames from Extended ID 0x1100 in RX FIFO 2 and RX MB 0 */</span></div><div class="line">    {</div><div class="line">        .id =</div><div class="line">        {</div><div class="line">            .id         = 0x1100,</div><div class="line">            .frame_type = <a class="code" href="group___c_a_n___a_p_i.html#ggad3ffe1ae0429fcd1053a969d96c47610a1da44b52c2731b02cf02ca55eec08899">CAN_FRAME_TYPE_DATA</a>, <span class="comment">// This setting is ignored by the mask</span></div><div class="line">            .id_mode    = <a class="code" href="group___c_a_n___a_p_i.html#ggabc98e244722dcea05b5ce91bdb4c70c8abc5a87ed8edf218a6b44e4cceb48c0cb">CAN_ID_MODE_EXTENDED</a></div><div class="line">        },</div><div class="line"></div><div class="line">        .mask =</div><div class="line">        {</div><div class="line">            .mask_id         = 0x1FFFFFFF,</div><div class="line">            .mask_frame_type = 0,</div><div class="line">            .mask_id_mode    = 1</div><div class="line">        },</div><div class="line"></div><div class="line">        .destination =</div><div class="line">        {</div><div class="line">            .minimum_dlc       = CANFD_MINIMUM_DLC_0,</div><div class="line">            .rx_buffer         = CANFD_RX_MB_0,</div><div class="line">            .fifo_select_flags = CANFD_RX_FIFO_2</div><div class="line">        }</div><div class="line">    }</div><div class="line">};</div><div class="line"></div></div><!-- fragment --> <h2><a class="anchor" id="r-canfd-examples-basic"></a>
Basic Example</h2>
<p>This is a basic example of minimal use of the CANFD module in an application.</p>
<dl class="section note"><dt>Note</dt><dd>On RA6M5 it is recommended to use RX FIFOs for reception as there are no interrupts for RX message buffers.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#define CAN_EXAMPLE_ID    (0x20)</span></div><div class="line"></div><div class="line"><a class="code" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a> g_can_tx_frame;</div><div class="line"><a class="code" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a> g_can_rx_frame;</div><div class="line"></div><div class="line"><span class="keyword">volatile</span> <a class="code" href="group___c_a_n_f_d.html#ga1598f08872dd960675f060c7e8c35cf4">canfd_error_t</a> g_err_status = (<a class="code" href="group___c_a_n_f_d.html#ga1598f08872dd960675f060c7e8c35cf4">canfd_error_t</a>) 0;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> canfd_callback (<a class="code" href="group___c_a_n___a_p_i.html#structcan__callback__args__t">can_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (p_args-&gt;<a class="code" href="group___c_a_n___a_p_i.html#a48fa3cf4c8c7e608c25ac8b907450096">event</a>)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___c_a_n___a_p_i.html#ggacc2e5bc68e8b707c069ca27f521695dbaa0bc5e15cee037a1d102b517ef63e161">CAN_EVENT_RX_COMPLETE</a>:    <span class="comment">/* Receive complete event. */</span></div><div class="line">        {</div><div class="line">            <span class="comment">/* Read received frame */</span></div><div class="line">            memcpy(&amp;g_can_rx_frame, &amp;p_args-&gt;<a class="code" href="group___c_a_n___a_p_i.html#aa8706fd62e652e6582d3c9eb155fb610">frame</a>, <span class="keyword">sizeof</span>(<a class="code" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a>));</div><div class="line"></div><div class="line">            <span class="comment">/* Handle event */</span></div><div class="line"></div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___c_a_n___a_p_i.html#ggacc2e5bc68e8b707c069ca27f521695dbac169b4940b7cb76562efd7439fc76949">CAN_EVENT_TX_COMPLETE</a>:    <span class="comment">/* Transmit complete event. */</span></div><div class="line">        {</div><div class="line">            <span class="comment">/* Handle event */</span></div><div class="line"></div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___c_a_n___a_p_i.html#ggacc2e5bc68e8b707c069ca27f521695dba8adaa142ed94841f5f282232ce414333">CAN_EVENT_ERR_GLOBAL</a>:                        <span class="comment">/* Global error. */</span></div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___c_a_n___a_p_i.html#ggacc2e5bc68e8b707c069ca27f521695dbab16a5328b930c53524aecbc4d580bb24">CAN_EVENT_ERR_CHANNEL</a>:                       <span class="comment">/* Channel error. */</span></div><div class="line">        {</div><div class="line">            <span class="comment">/* Get error status */</span></div><div class="line">            g_err_status = (<a class="code" href="group___c_a_n_f_d.html#ga1598f08872dd960675f060c7e8c35cf4">canfd_error_t</a>) p_args-&gt;<a class="code" href="group___c_a_n___a_p_i.html#a39e131d3f8e8d6d8a14e9f248c1ac1e1">error</a>; <span class="comment">/* Check error code with canfd_error_t. */</span></div><div class="line"></div><div class="line">            <span class="comment">/* Handle event */</span></div><div class="line"></div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">        {</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> canfd_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Initialize the CAN module */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#ga664d1e07613b250a3084681a613334be">R_CANFD_Open</a>(&amp;g_canfd0_ctrl, &amp;g_canfd0_cfg);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Setup frame to write to CAN ID 0x20 */</span></div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a49d4261f37f08f5a11cc3fc12c56cdc3">id</a>               = CAN_EXAMPLE_ID;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a4144eba26f77850571fca0498bec60ef">id_mode</a>          = <a class="code" href="group___c_a_n___a_p_i.html#ggabc98e244722dcea05b5ce91bdb4c70c8a5d29b837d94d14fb99868c2d0a5220b0">CAN_ID_MODE_STANDARD</a>;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a79046fddb934fd7ea0d0cc70b8d7f26d">type</a>             = <a class="code" href="group___c_a_n___a_p_i.html#ggad3ffe1ae0429fcd1053a969d96c47610a1da44b52c2731b02cf02ca55eec08899">CAN_FRAME_TYPE_DATA</a>;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#af58b9f3fe19ed69e0a635cd271c68404">data_length_code</a> = 8;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a27833816de50e1ad5b16b42856653ad8">options</a>          = 0;</div><div class="line"></div><div class="line">    <span class="comment">/* Write some data to the transmit frame */</span></div><div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; 8; i++)</div><div class="line">    {</div><div class="line">        g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#ad70086e98bfe0871e3f73d1f253138db">data</a>[i] = (uint8_t) i;</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Send data on the bus */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#gadc41bfd0b92eb607d8dbc0b8c248bb94">R_CANFD_Write</a>(&amp;g_canfd0_ctrl, CANFD_TX_MB_0, &amp;g_can_tx_frame);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Wait for a transmit callback event */</span></div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2><a class="anchor" id="r-canfd-examples-fd"></a>
Flexible Data</h2>
<p>This example demonstrates sending an FD message with bitrate switching over external loopback. The CTX and CRX pins must be connected when using external loopback, though if a CAN tranciever is onboard a 120 Ohm resistor should be connected across CANH and CANL instead.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define CAN_EXAMPLE_64_BYTES    64</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> canfd_fd_loopback_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err;</div><div class="line"></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#ga664d1e07613b250a3084681a613334be">R_CANFD_Open</a>(&amp;g_canfd0_ctrl, &amp;g_canfd0_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Switch to external loopback mode */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#ga00c7557917ce6e78eb2969d7b5855890">R_CANFD_ModeTransition</a>(&amp;g_canfd0_ctrl, <a class="code" href="group___c_a_n___a_p_i.html#ggac29bd7d00b06d7457ae786471c296ba7abde5d9e8f5711b6fe8374671c96e6f72">CAN_OPERATION_MODE_NORMAL</a>, <a class="code" href="group___c_a_n___a_p_i.html#gga93f2b2c53f782b0c21beeb1339a108b7a892393a146c929398882d92a7c9303eb">CAN_TEST_MODE_LOOPBACK_EXTERNAL</a>);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Configure a frame to write 64 bytes with bitrate switching (BRS) enabled */</span></div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a49d4261f37f08f5a11cc3fc12c56cdc3">id</a>               = CAN_EXAMPLE_ID;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a4144eba26f77850571fca0498bec60ef">id_mode</a>          = <a class="code" href="group___c_a_n___a_p_i.html#ggabc98e244722dcea05b5ce91bdb4c70c8a5d29b837d94d14fb99868c2d0a5220b0">CAN_ID_MODE_STANDARD</a>;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a79046fddb934fd7ea0d0cc70b8d7f26d">type</a>             = <a class="code" href="group___c_a_n___a_p_i.html#ggad3ffe1ae0429fcd1053a969d96c47610a1da44b52c2731b02cf02ca55eec08899">CAN_FRAME_TYPE_DATA</a>;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#af58b9f3fe19ed69e0a635cd271c68404">data_length_code</a> = CAN_EXAMPLE_64_BYTES;</div><div class="line">    g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#a27833816de50e1ad5b16b42856653ad8">options</a>          = <a class="code" href="group___c_a_n_f_d.html#gga6c4d104c3a9cce6b74a05035f0af6d87a46bb2a869fc5c7b63b16bc822d4ec712">CANFD_FRAME_OPTION_FD</a> | <a class="code" href="group___c_a_n_f_d.html#gga6c4d104c3a9cce6b74a05035f0af6d87a4a5ce70c8fb9ab5d9e320a79dd59aebf">CANFD_FRAME_OPTION_BRS</a>;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Write some data to the transmit frame */</span></div><div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; CAN_DATA_BUFFER_LENGTH; i++)</div><div class="line">    {</div><div class="line">        g_can_tx_frame.<a class="code" href="group___c_a_n___a_p_i.html#ad70086e98bfe0871e3f73d1f253138db">data</a>[i] = (uint8_t) i;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Send data on the bus */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#gadc41bfd0b92eb607d8dbc0b8c248bb94">R_CANFD_Write</a>(&amp;g_canfd0_ctrl, CANFD_TX_MB_0, &amp;g_can_tx_frame);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Wait for a transmit and/or receive callback event */</span></div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2><a class="anchor" id="r-canfd-examples-internal-bus"></a>
Internal Bus</h2>
<p>In this example two CANFD channels are connected to the Internal Bus test mode. API error checking has been omitted for clarity.</p>
<dl class="section note"><dt>Note</dt><dd>Internal Bus mode is only available on MCUs with more than one CANFD channel. In addition, use of Global Modes for any other purpose is not recommended without consulting the device User's Manual.</dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structcanfd__afl__entry__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#structcanfd__afl__entry__t">canfd_afl_entry_t</a></td></tr>
<tr class="separator:structcanfd__afl__entry__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structcanfd__global__cfg__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#structcanfd__global__cfg__t">canfd_global_cfg_t</a></td></tr>
<tr class="separator:structcanfd__global__cfg__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structcanfd__extended__cfg__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#structcanfd__extended__cfg__t">canfd_extended_cfg_t</a></td></tr>
<tr class="separator:structcanfd__extended__cfg__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga9bc23367cb7fb757b5ce2f29323524c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga9bc23367cb7fb757b5ce2f29323524c0">canfd_status_t</a> </td></tr>
<tr class="separator:ga9bc23367cb7fb757b5ce2f29323524c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1598f08872dd960675f060c7e8c35cf4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga1598f08872dd960675f060c7e8c35cf4">canfd_error_t</a> </td></tr>
<tr class="separator:ga1598f08872dd960675f060c7e8c35cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga785e3753523bf1cf87d70553285ba4af"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga785e3753523bf1cf87d70553285ba4af">canfd_tx_buffer_t</a> </td></tr>
<tr class="separator:ga785e3753523bf1cf87d70553285ba4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7408bbf08466fb0f6025a8dfd93c714"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#gaa7408bbf08466fb0f6025a8dfd93c714">canfd_tx_mb_t</a> </td></tr>
<tr class="separator:gaa7408bbf08466fb0f6025a8dfd93c714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacccf33f0942180054dd71c26c512844d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#gacccf33f0942180054dd71c26c512844d">canfd_rx_buffer_t</a> </td></tr>
<tr class="separator:gacccf33f0942180054dd71c26c512844d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga888e511bc0fbb0ba049b49250400631f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga888e511bc0fbb0ba049b49250400631f">canfd_rx_mb_t</a> </td></tr>
<tr class="separator:ga888e511bc0fbb0ba049b49250400631f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d7e38baf7141e9bad96675f5169e44b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga0d7e38baf7141e9bad96675f5169e44b">canfd_rx_fifo_t</a> </td></tr>
<tr class="separator:ga0d7e38baf7141e9bad96675f5169e44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6c27cee7d37eff10c6bfa5250eafc8d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#gae6c27cee7d37eff10c6bfa5250eafc8d">canfd_minimum_dlc_t</a> </td></tr>
<tr class="separator:gae6c27cee7d37eff10c6bfa5250eafc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c4d104c3a9cce6b74a05035f0af6d87"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n_f_d.html#ga6c4d104c3a9cce6b74a05035f0af6d87">canfd_frame_options_t</a> </td></tr>
<tr class="separator:ga6c4d104c3a9cce6b74a05035f0af6d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structcanfd__afl__entry__t" id="structcanfd__afl__entry__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structcanfd__afl__entry__t">&#9670;&nbsp;</a></span>canfd_afl_entry_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct canfd_afl_entry_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>AFL Entry (based on R_CANFD_CFDGAFL_Type in renesas.h) </p>
</div>
</div>
</div>
<a name="structcanfd__global__cfg__t" id="structcanfd__global__cfg__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structcanfd__global__cfg__t">&#9670;&nbsp;</a></span>canfd_global_cfg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct canfd_global_cfg_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>CANFD Global Configuration </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ac6305ab75909afd62029f3c76b235549"></a>uint32_t</td>
<td class="fieldname">
global_interrupts</td>
<td class="fielddoc">
Global control options (CFDGCTR register setting) </td></tr>
<tr><td class="fieldtype">
<a id="afd7545e297144152431f5b1f3628fff7"></a>uint32_t</td>
<td class="fieldname">
global_config</td>
<td class="fielddoc">
Global configuration options (CFDGCFG register setting) </td></tr>
<tr><td class="fieldtype">
<a id="aeb6bbed0e4cb76c06a947e009894608a"></a>uint32_t</td>
<td class="fieldname">
rx_fifo_config[8]</td>
<td class="fielddoc">
RX FIFO configuration (CFDRFCCn register settings) </td></tr>
<tr><td class="fieldtype">
<a id="a375e575afb5d17c01809a10d32ae59a5"></a>uint32_t</td>
<td class="fieldname">
rx_mb_config</td>
<td class="fielddoc">
Number and size of RX Message Buffers (CFDRMNB register setting) </td></tr>
<tr><td class="fieldtype">
<a id="a6ce35aac50e44ac4353bfd20e12639a4"></a>uint8_t</td>
<td class="fieldname">
global_err_ipl</td>
<td class="fielddoc">
Global Error interrupt priority. </td></tr>
<tr><td class="fieldtype">
<a id="a2bb06b2a4db018ac90193053131ee648"></a>uint8_t</td>
<td class="fieldname">
rx_fifo_ipl</td>
<td class="fielddoc">
RX FIFO interrupt priority. </td></tr>
<tr><td class="fieldtype">
<a id="a1b9ed02a36a3f6e7fdb97bb023650c42"></a>uint32_t</td>
<td class="fieldname">
common_fifo_config[R_CANFD_NUM_COMMON_FIFOS]</td>
<td class="fielddoc">
Common FIFO configurations. </td></tr>
</table>

</div>
</div>
<a name="structcanfd__extended__cfg__t" id="structcanfd__extended__cfg__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structcanfd__extended__cfg__t">&#9670;&nbsp;</a></span>canfd_extended_cfg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct canfd_extended_cfg_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>CANFD Extended Configuration </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a3bcb58bb257835c3618f28751aad29a5"></a><a class="el" href="group___c_a_n_f_d.html#structcanfd__afl__entry__t">canfd_afl_entry_t</a> const  *</td>
<td class="fieldname">
p_afl</td>
<td class="fielddoc">
AFL rules list. </td></tr>
<tr><td class="fieldtype">
<a id="ab3421077c295a40773c6cad2fb638176"></a>uint64_t</td>
<td class="fieldname">
txmb_txi_enable</td>
<td class="fielddoc">
Array of TX Message Buffer enable bits. </td></tr>
<tr><td class="fieldtype">
<a id="a0c05dacb48970397676e54a01c81d0e1"></a>uint32_t</td>
<td class="fieldname">
error_interrupts</td>
<td class="fielddoc">
Error interrupt enable bits. </td></tr>
<tr><td class="fieldtype">
<a id="a924d2187cf551c85ded2b148e26bbfd9"></a><a class="el" href="group___c_a_n___a_p_i.html#structcan__bit__timing__cfg__t">can_bit_timing_cfg_t</a> *</td>
<td class="fieldname">
p_data_timing</td>
<td class="fielddoc">
FD Data Rate (when bitrate switching is used) </td></tr>
<tr><td class="fieldtype">
<a id="a3b38e8d28731a86eb521db8a5c5ae85e"></a>uint8_t</td>
<td class="fieldname">
delay_compensation</td>
<td class="fielddoc">
FD Transceiver Delay Compensation (enable or disable) </td></tr>
<tr><td class="fieldtype">
<a id="a4cb13ba7074112d39a102638b7895a94"></a><a class="el" href="group___c_a_n_f_d.html#structcanfd__global__cfg__t">canfd_global_cfg_t</a> *</td>
<td class="fieldname">
p_global_cfg</td>
<td class="fielddoc">
Global configuration (global error callback channel only) </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga9bc23367cb7fb757b5ce2f29323524c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9bc23367cb7fb757b5ce2f29323524c0">&#9670;&nbsp;</a></span>canfd_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#ga9bc23367cb7fb757b5ce2f29323524c0">canfd_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Status </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a9d1022be800bc150d6daf64245c198ec"></a>CANFD_STATUS_RESET_MODE&#160;</td><td class="fielddoc"><p>Channel in Reset mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a3d1b4528bdce56d189277bedac424cc4"></a>CANFD_STATUS_HALT_MODE&#160;</td><td class="fielddoc"><p>Channel in Halt mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a0a2d6442a22874bd0016a444f6f8d16a"></a>CANFD_STATUS_SLEEP_MODE&#160;</td><td class="fielddoc"><p>Channel in Sleep mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0aa108c9efbacb5e55777e0e0339a9be07"></a>CANFD_STATUS_ERROR_PASSIVE&#160;</td><td class="fielddoc"><p>Channel in error-passive state. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a23dd8461a4d2bf187fba45b46a3fff93"></a>CANFD_STATUS_BUS_OFF&#160;</td><td class="fielddoc"><p>Channel in bus-off state. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a3e66a7f94e0abd296376c545e7388f2e"></a>CANFD_STATUS_TRANSMITTING&#160;</td><td class="fielddoc"><p>Channel is transmitting. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a0591ba665da851a63de95c9d819673d5"></a>CANFD_STATUS_RECEIVING&#160;</td><td class="fielddoc"><p>Channel is receiving. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a028b55778be2605790aedf97f8491c8d"></a>CANFD_STATUS_READY&#160;</td><td class="fielddoc"><p>Channel is ready for communication. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9bc23367cb7fb757b5ce2f29323524c0a5701150882ad9d87efee5ade0a4c658c"></a>CANFD_STATUS_ESI&#160;</td><td class="fielddoc"><p>At least one CAN-FD message was received with the ESI flag set. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga1598f08872dd960675f060c7e8c35cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1598f08872dd960675f060c7e8c35cf4">&#9670;&nbsp;</a></span>canfd_error_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#ga1598f08872dd960675f060c7e8c35cf4">canfd_error_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Error Code </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a4fa7f77f606948c2409343b262b9a6a6"></a>CANFD_ERROR_CHANNEL_BUS&#160;</td><td class="fielddoc"><p>Bus Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a1e8de2fee13f446d6d7f218420af1a75"></a>CANFD_ERROR_CHANNEL_WARNING&#160;</td><td class="fielddoc"><p>Error Warning (TX/RX error count over 0x5F) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a30a620f848af57cf1da8fce485c518ee"></a>CANFD_ERROR_CHANNEL_PASSIVE&#160;</td><td class="fielddoc"><p>Error Passive (TX/RX error count over 0x7F) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a0fe1987f2df69fa7787ccae5a020968e"></a>CANFD_ERROR_CHANNEL_BUS_OFF_ENTRY&#160;</td><td class="fielddoc"><p>Bus-Off State Entry. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4ad1f966b89bb8ff0403a70e3a0170383f"></a>CANFD_ERROR_CHANNEL_BUS_OFF_RECOVERY&#160;</td><td class="fielddoc"><p>Recovery from Bus-Off State. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4ac0191e933ec767fbc545ff93697aaafb"></a>CANFD_ERROR_CHANNEL_OVERLOAD&#160;</td><td class="fielddoc"><p>Overload. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a62b2afdb4d00175d7ee90c4f86b917d9"></a>CANFD_ERROR_CHANNEL_BUS_LOCK&#160;</td><td class="fielddoc"><p>Bus Locked. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a38ec5eabdb1b8b29cece678ae973e1b8"></a>CANFD_ERROR_CHANNEL_ARBITRATION_LOSS&#160;</td><td class="fielddoc"><p>Arbitration Lost. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a47a1524b5138710ca7fd5b55325a823d"></a>CANFD_ERROR_CHANNEL_STUFF&#160;</td><td class="fielddoc"><p>Stuff Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4abee54fb0333c85f37a216959e18b7a11"></a>CANFD_ERROR_CHANNEL_FORM&#160;</td><td class="fielddoc"><p>Form Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4abc967223593d6928cfa24aef349f5e64"></a>CANFD_ERROR_CHANNEL_ACK&#160;</td><td class="fielddoc"><p>ACK Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a529535a14f0b9aa29b20ba5b22abb225"></a>CANFD_ERROR_CHANNEL_CRC&#160;</td><td class="fielddoc"><p>CRC Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4acdd82b46241db3cd909c4950a263cb36"></a>CANFD_ERROR_CHANNEL_BIT_RECESSIVE&#160;</td><td class="fielddoc"><p>Bit Error (recessive) Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4afe7d23457db11eedaa48cec9b1d9b3a6"></a>CANFD_ERROR_CHANNEL_BIT_DOMINANT&#160;</td><td class="fielddoc"><p>Bit Error (dominant) Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a5c4e3bece7c60441a51d3899e73a158f"></a>CANFD_ERROR_CHANNEL_ACK_DELIMITER&#160;</td><td class="fielddoc"><p>ACK Delimiter Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4ac1b7da9fdca7a6fa3c9b9ba33371f4a8"></a>CANFD_ERROR_GLOBAL_DLC&#160;</td><td class="fielddoc"><p>DLC Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4abee1888c27382c7121781db44c31bc2b"></a>CANFD_ERROR_GLOBAL_MESSAGE_LOST&#160;</td><td class="fielddoc"><p>Message Lost. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a5d38f69b80c5a2ca136cc2372885dd15"></a>CANFD_ERROR_GLOBAL_PAYLOAD_OVERFLOW&#160;</td><td class="fielddoc"><p>FD Payload Overflow. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4aabb74eb7c63e572823fdc251ee430510"></a>CANFD_ERROR_GLOBAL_TXQ_OVERWRITE&#160;</td><td class="fielddoc"><p>TX Queue Message Overwrite. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a46568698565919a0a2f47cb8f3641799"></a>CANFD_ERROR_GLOBAL_TXQ_MESSAGE_LOST&#160;</td><td class="fielddoc"><p>TX Queue Message Lost. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a12b3e818b05c74a2e138ea58893151af"></a>CANFD_ERROR_GLOBAL_CH0_SCAN_FAIL&#160;</td><td class="fielddoc"><p>Channel 0 RX Scan Failure. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4abad26cd9692b98e885b8f80eea26c9d9"></a>CANFD_ERROR_GLOBAL_CH1_SCAN_FAIL&#160;</td><td class="fielddoc"><p>Channel 1 RX Scan Failure. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4acc2641aa9a3f9543af9d27313ba09001"></a>CANFD_ERROR_GLOBAL_CH0_ECC&#160;</td><td class="fielddoc"><p>Channel 0 ECC Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1598f08872dd960675f060c7e8c35cf4a632b3d6e96c5d7f468dfd4c0b33b1f86"></a>CANFD_ERROR_GLOBAL_CH1_ECC&#160;</td><td class="fielddoc"><p>Channel 1 ECC Error. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga785e3753523bf1cf87d70553285ba4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga785e3753523bf1cf87d70553285ba4af">&#9670;&nbsp;</a></span>canfd_tx_buffer_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#ga785e3753523bf1cf87d70553285ba4af">canfd_tx_buffer_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Transmit Buffer (MB + CFIFO) </p>

</div>
</div>
<a id="gaa7408bbf08466fb0f6025a8dfd93c714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7408bbf08466fb0f6025a8dfd93c714">&#9670;&nbsp;</a></span>canfd_tx_mb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#gaa7408bbf08466fb0f6025a8dfd93c714">canfd_tx_mb_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Transmit Message Buffer (TX MB) </p>

</div>
</div>
<a id="gacccf33f0942180054dd71c26c512844d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacccf33f0942180054dd71c26c512844d">&#9670;&nbsp;</a></span>canfd_rx_buffer_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#gacccf33f0942180054dd71c26c512844d">canfd_rx_buffer_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Receive Buffer (MB + FIFO + CFIFO) </p>

</div>
</div>
<a id="ga888e511bc0fbb0ba049b49250400631f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga888e511bc0fbb0ba049b49250400631f">&#9670;&nbsp;</a></span>canfd_rx_mb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#ga888e511bc0fbb0ba049b49250400631f">canfd_rx_mb_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Receive Message Buffer (RX MB) </p>

</div>
</div>
<a id="ga0d7e38baf7141e9bad96675f5169e44b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d7e38baf7141e9bad96675f5169e44b">&#9670;&nbsp;</a></span>canfd_rx_fifo_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#ga0d7e38baf7141e9bad96675f5169e44b">canfd_rx_fifo_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Receive FIFO (RX FIFO) </p>

</div>
</div>
<a id="gae6c27cee7d37eff10c6bfa5250eafc8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6c27cee7d37eff10c6bfa5250eafc8d">&#9670;&nbsp;</a></span>canfd_minimum_dlc_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#gae6c27cee7d37eff10c6bfa5250eafc8d">canfd_minimum_dlc_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD AFL Minimum DLC settings </p>

</div>
</div>
<a id="ga6c4d104c3a9cce6b74a05035f0af6d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c4d104c3a9cce6b74a05035f0af6d87">&#9670;&nbsp;</a></span>canfd_frame_options_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n_f_d.html#ga6c4d104c3a9cce6b74a05035f0af6d87">canfd_frame_options_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CANFD Frame Options </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6c4d104c3a9cce6b74a05035f0af6d87ad719b21681eae000b3bf7f55ef225470"></a>CANFD_FRAME_OPTION_ERROR&#160;</td><td class="fielddoc"><p>Error state set (ESI). </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6c4d104c3a9cce6b74a05035f0af6d87a4a5ce70c8fb9ab5d9e320a79dd59aebf"></a>CANFD_FRAME_OPTION_BRS&#160;</td><td class="fielddoc"><p>Bit Rate Switching (BRS) enabled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6c4d104c3a9cce6b74a05035f0af6d87a46bb2a869fc5c7b63b16bc822d4ec712"></a>CANFD_FRAME_OPTION_FD&#160;</td><td class="fielddoc"><p>Flexible Data frame (FDF). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga664d1e07613b250a3084681a613334be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga664d1e07613b250a3084681a613334be">&#9670;&nbsp;</a></span>R_CANFD_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#structcan__cfg__t">can_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open and configure the CANFD channel for operation.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    <span class="comment">/* Initialize the CAN module */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#ga664d1e07613b250a3084681a613334be">R_CANFD_Open</a>(&amp;g_canfd0_ctrl, &amp;g_canfd0_cfg);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Channel opened successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Driver already open. </td></tr>
    <tr><td class="paramname">FSP_ERR_IN_USE</td><td>Channel is already in use. </td></tr>
    <tr><td class="paramname">FSP_ERR_IP_CHANNEL_NOT_PRESENT</td><td>Channel does not exist on this MCU. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer was NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_CAN_INIT_FAILED</td><td>The provided nominal or data bitrate is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_CLOCK_INACTIVE</td><td>CANFD source clock is disabled (PLL or PLL2). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7387d2e68262798a52c3a820ce12ea47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7387d2e68262798a52c3a820ce12ea47">&#9670;&nbsp;</a></span>R_CANFD_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the CANFD channel.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Channel closed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Control block not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer presented. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadc41bfd0b92eb607d8dbc0b8c248bb94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc41bfd0b92eb607d8dbc0b8c248bb94">&#9670;&nbsp;</a></span>R_CANFD_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a> *const&#160;</td>
          <td class="paramname"><em>p_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write data to the CANFD channel.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    <span class="comment">/* Send data on the bus */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#gadc41bfd0b92eb607d8dbc0b8c248bb94">R_CANFD_Write</a>(&amp;g_canfd0_ctrl, CANFD_TX_MB_0, &amp;g_can_tx_frame);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Operation succeeded. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Control block not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_CAN_TRANSMIT_NOT_READY</td><td>Transmit in progress, cannot write data at this time. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ARGUMENT</td><td>Data length or buffer number invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_MODE</td><td>An FD option was set on a non-FD frame. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One or more pointer arguments is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>FD is not supported on this MCU. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab31328c78c603cbdc1c83846d4a6a7bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab31328c78c603cbdc1c83846d4a6a7bb">&#9670;&nbsp;</a></span>R_CANFD_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#structcan__frame__t">can_frame_t</a> *const&#160;</td>
          <td class="paramname"><em>p_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read data from a CANFD Message Buffer or FIFO.</p>
<p>Example: snippet r_canfd_example.c R_CANFD_Read</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Operation succeeded. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Control block not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ARGUMENT</td><td>Buffer number invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_api_ctrl or p_frame is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_BUFFER_EMPTY</td><td>Buffer or FIFO is empty. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga00c7557917ce6e78eb2969d7b5855890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00c7557917ce6e78eb2969d7b5855890">&#9670;&nbsp;</a></span>R_CANFD_ModeTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_ModeTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#gac29bd7d00b06d7457ae786471c296ba7">can_operation_mode_t</a>&#160;</td>
          <td class="paramname"><em>operation_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga93f2b2c53f782b0c21beeb1339a108b7">can_test_mode_t</a>&#160;</td>
          <td class="paramname"><em>test_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Switch to a different channel, global or test mode.</p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    <span class="comment">/* Switch to external loopback mode */</span></div><div class="line">    err = <a class="code" href="group___c_a_n_f_d.html#ga00c7557917ce6e78eb2969d7b5855890">R_CANFD_ModeTransition</a>(&amp;g_canfd0_ctrl, <a class="code" href="group___c_a_n___a_p_i.html#ggac29bd7d00b06d7457ae786471c296ba7abde5d9e8f5711b6fe8374671c96e6f72">CAN_OPERATION_MODE_NORMAL</a>, <a class="code" href="group___c_a_n___a_p_i.html#gga93f2b2c53f782b0c21beeb1339a108b7a892393a146c929398882d92a7c9303eb">CAN_TEST_MODE_LOOPBACK_EXTERNAL</a>);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Operation succeeded. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Control block not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer presented </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_MODE</td><td>Cannot change to the requested mode from the current global mode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga16ff5e9e44e32191944292aea98ab4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16ff5e9e44e32191944292aea98ab4cb">&#9670;&nbsp;</a></span>R_CANFD_InfoGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_InfoGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#structcan__info__t">can_info_t</a> *const&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get CANFD state and status information for the channel.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Operation succeeded. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Control block not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer presented </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga92d02e429798c7d61508dfe17eb56abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92d02e429798c7d61508dfe17eb56abe">&#9670;&nbsp;</a></span>R_CANFD_CallbackSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_CANFD_CallbackSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#ga6e2484e96eefbe59327b13e2589a0049">can_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group___c_a_n___a_p_i.html#structcan__callback__args__t">can_callback_args_t</a> *)&#160;</td>
          <td class="paramname"><em>p_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n___a_p_i.html#structcan__callback__args__t">can_callback_args_t</a> *const&#160;</td>
          <td class="paramname"><em>p_callback_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the user callback with the option to provide memory for the callback argument structure. Implements <a class="el" href="group___c_a_n___a_p_i.html#afad28fdec27d562eddb711773373eb03">can_api_t::callbackSet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Callback updated successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>The control block has not been opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_NO_CALLBACK_MEMORY</td><td>p_callback is non-secure and p_callback_memory is either secure or NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v6.3.1 User's Manual Copyright  (2026) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
