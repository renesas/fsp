<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: NetX Duo Ethernet Driver (rm_netxduo_ether)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
     });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v6.2.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">

    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text">
      </span>
      <span class="right">
          &nbsp;
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_m___n_e_t_x_d_u_o___e_t_h_e_r.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body.
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len));
            }
          }
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element.
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">NetX Duo Ethernet Driver (rm_netxduo_ether)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___n_e_t_w_o_r_k_i_n_g___m_o_d_u_l_e_s.html">Networking</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="rm-netxduo-ether-overview"></a>
Overview</h1>
<p>This module provides a NetX Duo driver that is implemented using the <a class="el" href="group___e_t_h_e_r___a_p_i.html">Ethernet Interface</a>.</p>
<p>Please refer to the <a href="https://docs.microsoft.com/en-us/azure/rtos/netx-duo/overview-netx-duo">NetXDuo documentation</a> for further details.</p>
<h2><a class="anchor" id="rm-netxduo-ether-features"></a>
Features</h2>
<ul>
<li>Packet Types Supported<ul>
<li>ARP</li>
<li>IPv4</li>
<li>IPv6</li>
</ul>
</li>
<li>Link status callback</li>
<li>Configurable IP MTU</li>
</ul>
<h1><a class="anchor" id="rm-netxduo-ether-configuration"></a>
Configuration</h1>
<p><a class="anchor" id="um_rm_netxduo_enable_disable"></a><a class="anchor" id="um_rm_netxduo_ip"></a><a class="anchor" id="um_rm_netxduo_arp"></a><a class="anchor" id="um_rm_netxduo_link_status"></a><a class="anchor" id="um_rm_netxduo_multicast"></a> <h2>Configurations for Networking &gt; NetX Duo Ethernet Driver (rm_netxduo_ether)</h2>
<table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Name</td><td>Name must be a valid C symbol</td><td>g_netxduo_ether_0 </td><td>Module name. </td></tr>
<tr class="tree_none">
<td>IP MTU</td><td>Value must be in the range [576, 1500] bytes.</td><td>1500 </td><td>IP MTU </td></tr>
</table>
</p>
<h1><a class="anchor" id="rm-netxduo-ether-usage_notes"></a>
Usage Notes</h1>
<h2>Calculating the Packet Size for an IP instance</h2>
<p>In order to ensure that there is enough space to store an entire Ethernet frame, the packet pool used for receiving packets must have a payload size that is 32 bytes larger than the configured <a class="el" href="group___e_t_h_e_r___a_p_i.html#abe9247fcd1556396eb74c76c899f5256" title="Size of transmit and receive buffer. ">ether_cfg_t::ether_buffer_size</a>. The extra 32 bytes is needed in order to ensure that the allocated packets are properly aligned to 32 bytes.</p>
<p><a class="el" href="group___e_t_h_e_r___a_p_i.html#abe9247fcd1556396eb74c76c899f5256" title="Size of transmit and receive buffer. ">ether_cfg_t::ether_buffer_size</a> is calculated from the IP MTU using the following formula:</p>
<p>ceil(( rm_netxduo_ether_cfg_t::mtu + Ethernet Header (14) + Padding Bytes (2)) / 32 ) * 32</p>
<h2>Zero Copy Support</h2>
<p>Zero copy support should only be disabled when a lower level ethernet driver doesn't support it. Disabling zero copy will negatively impact performance. When zero copy is disabled larger buffers will need to be allocated or link speed will need to be limited to counteract poor performance.</p>
<h1><a class="anchor" id="rm-netxduo-ether-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>This is a basic example of minimal use of the NetX Duo Ether Driver in an application.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_IP_STACK_SIZE       (2048U)</span></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_ARP_CACHE_SIZE      (2048U)</span></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_PACKET_SIZE         (1568U)</span></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_PACKET_NUM          (100U)</span></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_PACKET_POOL_SIZE    ((sizeof(NX_PACKET) + NETXDUO_EXAMPLE_PACKET_SIZE) * \</span></div><div class="line"><span class="preprocessor">                                             NETXDUO_EXAMPLE_PACKET_NUM)</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_MAC_ADDRESS_MSW     (0)</span></div><div class="line"><span class="preprocessor">#define NETXDUO_EXAMPLE_MAC_ADDRESS_LSW     (0)</span></div><div class="line"></div><div class="line"><span class="keyword">static</span> NX_IP          g_ip;</div><div class="line"><span class="keyword">static</span> NX_PACKET_POOL g_packet_pool;</div><div class="line"><span class="keyword">static</span> uint8_t        g_ip_stack_memory[NETXDUO_EXAMPLE_IP_STACK_SIZE] BSP_ALIGN_VARIABLE(4);</div><div class="line"><span class="keyword">static</span> uint8_t        g_packet_pool_memory[NETXDUO_EXAMPLE_PACKET_POOL_SIZE] BSP_ALIGN_VARIABLE(4);</div><div class="line"><span class="keyword">static</span> uint8_t        g_ip_arp_cache_memory[NETXDUO_EXAMPLE_ARP_CACHE_SIZE] BSP_ALIGN_VARIABLE(4);</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> rm_netxduo_ether0 (NX_IP_DRIVER * driver_req_ptr)</div><div class="line">{</div><div class="line">    <span class="comment">/* Pass the driver request and ethernet driver configuration to the NetX Duo Ether Driver. */</span></div><div class="line">    rm_netxduo_ether(driver_req_ptr, &amp;g_netxduo_ether_instance);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> rm_netxduo_ether_example ()</div><div class="line">{</div><div class="line">    UINT status;</div><div class="line"></div><div class="line">    nx_system_initialize();</div><div class="line"></div><div class="line">    <span class="comment">/* Create a packet pool for the IP instance. */</span></div><div class="line">    status = nx_packet_pool_create(&amp;g_packet_pool,</div><div class="line">                                   <span class="stringliteral">&quot;Packet Pool&quot;</span>,</div><div class="line">                                   NETXDUO_EXAMPLE_PACKET_SIZE,</div><div class="line">                                   &amp;g_packet_pool_memory[0],</div><div class="line">                                   NETXDUO_EXAMPLE_PACKET_POOL_SIZE);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line"></div><div class="line">    <span class="comment">/* Create an IP instance using the rm_netxduo_ether driver and packet pool instance. */</span></div><div class="line">    status = nx_ip_create(&amp;g_ip,</div><div class="line">                          <span class="stringliteral">&quot;IP Instance&quot;</span>,</div><div class="line">                          IP_ADDRESS(192, 168, 1, 2),</div><div class="line">                          IP_ADDRESS(255, 255, 255, 0),</div><div class="line">                          &amp;g_packet_pool,</div><div class="line">                          rm_netxduo_ether0,</div><div class="line">                          &amp;g_ip_stack_memory[0],</div><div class="line">                          <span class="keyword">sizeof</span>(g_ip_stack_memory),</div><div class="line">                          0);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line"></div><div class="line">    <span class="comment">/* Enable all modules that are required by the application. */</span></div><div class="line"></div><div class="line">    status = nx_arp_enable(&amp;g_ip, g_ip_arp_cache_memory, <span class="keyword">sizeof</span>(g_ip_arp_cache_memory));</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line"></div><div class="line">    status = nx_tcp_enable(&amp;g_ip);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line"></div><div class="line">    status = nx_icmp_enable(&amp;g_ip);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><h2>Changing MAC address Example</h2>
<p><a class="anchor" id="um_rm_netxduo_dynamic_mac_address"></a>This is an example of changing the MAC address after an IP instance has already been created.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_netxduo_ether_change_mac_address_example ()</div><div class="line">{</div><div class="line">    ULONG driver_status;</div><div class="line">    UINT  status;</div><div class="line"></div><div class="line">    <span class="comment">/* Disable the link. */</span></div><div class="line">    status = nx_ip_driver_interface_direct_command(&amp;g_ip, NX_LINK_DISABLE, 0, &amp;driver_status);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line"></div><div class="line">    <span class="comment">/* Update the MAC address. */</span></div><div class="line">    status = nx_ip_interface_physical_address_set(&amp;g_ip,</div><div class="line">                                                  0,</div><div class="line">                                                  NETXDUO_EXAMPLE_MAC_ADDRESS_MSW,</div><div class="line">                                                  NETXDUO_EXAMPLE_MAC_ADDRESS_LSW,</div><div class="line">                                                  NX_TRUE);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line"></div><div class="line">    <span class="comment">/* Re-enable the link. */</span></div><div class="line">    status = nx_ip_driver_interface_direct_command(&amp;g_ip, NX_LINK_ENABLE, 0, &amp;driver_status);</div><div class="line">    assert(NX_SUCCESS == status);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v6.2.0 User's Manual Copyright © (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
