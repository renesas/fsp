<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: Comparator, High-Speed (r_acmphs)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
     });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v6.2.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">

    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text">
      </span>
      <span class="right">
          &nbsp;
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___a_c_m_p_h_s.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body.
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len));
            }
          }
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element.
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Comparator, High-Speed (r_acmphs)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___a_n_a_l_o_g___m_o_d_u_l_e_s.html">Analog</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac7869c5964b098497c2eb1d1747ae888"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_m_p_h_s.html#gac7869c5964b098497c2eb1d1747ae888">R_ACMPHS_Open</a> (<a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const p_ctrl, <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__cfg__t">comparator_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:gac7869c5964b098497c2eb1d1747ae888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c3e2f1898bc9a020367cd0b5285edda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_m_p_h_s.html#ga4c3e2f1898bc9a020367cd0b5285edda">R_ACMPHS_InfoGet</a> (<a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const p_ctrl, <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__info__t">comparator_info_t</a> *const p_info)</td></tr>
<tr class="separator:ga4c3e2f1898bc9a020367cd0b5285edda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6cceb0647ded468eb7da79d02136e89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_m_p_h_s.html#gae6cceb0647ded468eb7da79d02136e89">R_ACMPHS_OutputEnable</a> (<a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:gae6cceb0647ded468eb7da79d02136e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec510482bbca5aaa1357960079c30e23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_m_p_h_s.html#gaec510482bbca5aaa1357960079c30e23">R_ACMPHS_StatusGet</a> (<a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const p_ctrl, <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__status__t">comparator_status_t</a> *const p_status)</td></tr>
<tr class="separator:gaec510482bbca5aaa1357960079c30e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeaba464c71478a7277eb529bbed7db4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_c_m_p_h_s.html#gaeaba464c71478a7277eb529bbed7db4f">R_ACMPHS_Close</a> (<a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:gaeaba464c71478a7277eb529bbed7db4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the ACMPHS peripheral on RA MCUs. This module implements the <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html">Comparator Interface</a>. </p>
<h1><a class="anchor" id="r-acmphs-overview"></a>
Overview</h1>
<h2><a class="anchor" id="r-acmphs-features"></a>
Features</h2>
<p>The ACMPHS HAL module supports the following features:</p>
<ul>
<li>Callback on rising edge, falling edge or both</li>
<li>Configurable debounce filter</li>
<li>Option for comparator output on VCOUT, CMPOUTn<sup>1</sup>, or CMPOUT012<sup>1</sup> pin</li>
<li>ELC event output</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>1. This output pin is not available on all MCUs.</dd></dl>
<p><a class="anchor" id="um_comparator_notification_of_rising_edge"></a><a class="anchor" id="um_comparator_notification_of_falling_edge"></a><a class="anchor" id="um_comparator_debounce_filter"></a><a class="anchor" id="um_comparator_output_enable"></a><a class="anchor" id="um_comparator_pin_output"></a><a class="anchor" id="um_comparator_output_inverted"></a> </p>
<h1><a class="anchor" id="r-acmphs-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for r_acmphs</h2>
The following build time configurations are defined in fsp_cfg/r_acmphs_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
</table>
 <h2>Configurations for Analog &gt; Comparator, High-Speed (r_acmphs)</h2>
This module can be added to the Stacks tab via New Stack &gt; Analog &gt; Comparator, High-Speed (r_acmphs).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Name</td><td>Name must be a valid C symbol</td><td>g_comparator0 </td><td>Module name. </td></tr>
<tr class="tree_none">
<td>Channel</td><td>Value must be a non-negative integer</td><td>0 </td><td>Select the hardware channel. </td></tr>
<tr class="tree_none">
<td>Trigger Edge Selector</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Rising</li>
<li>
Falling</li>
<li>
Both Edge</li>
</ul>
</td><td>Both Edge </td><td>The trigger specifies when a comparator callback event should occur. Unused if the interrupt priority is disabled or the callback is NULL. </td></tr>
<tr class="tree_none">
<td>Noise Filter</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
No Filter</li>
<li>
8</li>
<li>
16</li>
<li>
32</li>
</ul>
</td><td>No Filter </td><td>Select the PCLK divisor for the hardware digital debounce filter. Larger divisors provide a longer debounce and take longer for the output to update. </td></tr>
<tr class="tree_none">
<td>Maximum status retries (CMPMON)</td><td>Must be a valid non-negative integer between 2 and 32-bit maximum value</td><td>1024 </td><td>Maximum number of status retries. </td></tr>
<tr class="tree_none">
<td>Output Polarity</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Not Inverted</li>
<li>
Inverted</li>
</ul>
</td><td>Not Inverted </td><td>When enabled comparator output is inverted. This affects the output read from <a class="el" href="group___a_c_m_p_h_s.html#gaec510482bbca5aaa1357960079c30e23">R_ACMPHS_StatusGet()</a>, the pin output level, and the edge trigger. </td></tr>
<tr class="tree_none">
<td>Pin Output</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Disabled</li>
<li>
Enabled</li>
</ul>
</td><td>Disabled </td><td>Turn this on to enable the CMPOUTn signal for this channel. The CMPOUTn signal for each channel is OR'd together and the result is output to VCOUT. More pin output options are available on select MCUs. </td></tr>
<tr class="tree_none">
<td>Callback</td><td>Name must be a valid C symbol</td><td>NULL </td><td>Define this function in the application. It is called when the Trigger event occurs. </td></tr>
<tr class="tree_none">
<td>Comparator Interrupt Priority</td><td>MCU Specific Options</td><td></td><td>Select the interrupt priority for the comparator interrupt. </td></tr>
<tr class="tree_none">
<td>Analog Input Voltage Source (IVCMP)</td><td>MCU Specific Options</td><td></td><td>Select the Analog input voltage source. Channel mentioned in the options represents channel in ACMPHS </td></tr>
<tr class="tree_none">
<td>Reference Voltage Input Source (IVREF)</td><td>MCU Specific Options</td><td></td><td>Select the Analog reference voltage source. Channel mentioned in the options represents channel in ACMPHS </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-acmphs-clock-configuration"></a>
Clock Configuration</h2>
<p>The ACMPHS peripheral is clocked from PCLKB. You can set the PCLKB frequency using the <b>Clocks</b> tab of the RA Configuration editor or by using the CGC Interface at run-time.</p>
<h2><a class="anchor" id="r-acmphs-pin-configuration"></a>
Pin Configuration</h2>
<p>Comparator output can be enabled or disabled on each channel individually. The VCOUT pin is a logical OR of all comparator outputs.</p>
<p>The IVCMPn pins are used as comparator inputs. The IVREFn pins are used as comparator reference values.</p>
<h1><a class="anchor" id="r-acmphs-usage_notes"></a>
Usage Notes</h1>
<h2>Noise Filter</h2>
<p>When the noise filter is enabled, the ACMPHP0/ACMPHP1 signal is sampled three times based on the sampling clock selected. The filter clock frequency is determined by PCLKB and the comparator_filter_t setting.</p>
<h2>Output Polarity</h2>
<p>If output polarity is configured as "Inverted" then the VCOUT signal will be inverted and the <a class="el" href="group___a_c_m_p_h_s.html#gaec510482bbca5aaa1357960079c30e23">R_ACMPHS_StatusGet()</a> will return an inverted status.</p>
<h2><a class="anchor" id="r-acmphs-limitations"></a>
Limitations</h2>
<ul>
<li>Once the analog comparator is configured, the program must wait for the stabilization time to elapse before using the comparator.</li>
<li>When the noise filter is not enabled the hardware requires software debouncing of the output (two consecutive equal values). This is automatically managed in <a class="el" href="group___a_c_m_p_h_s.html#gaec510482bbca5aaa1357960079c30e23">R_ACMPHS_StatusGet</a> but may result in delay or an API error in rare edge cases.</li>
<li>Constraints apply on the simultaneous use of ACMPHS analog input and ADC analog input. Refer to the "Usage Notes" section in your MCU's User's Manual for the ADC unit(s) for more details.</li>
<li>To allow ACMPHS0 to cancel Software Standby mode or enter Snooze, set the CSTEN bit to 1 and the CDFS bits to 00 in the CMPCTL0 register.</li>
</ul>
<h1><a class="anchor" id="r-acmphs-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>The following is a basic example of using the ACMPHS to detect when the analog voltage input to IVCMP rises above the analog voltage input to IVREF. A GPIO output acts as the comparator input and is externally connected to the IVCMP input of the ACMPHS. An analog voltage input should also be supplied to the IVREF input pin.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define ADC_PGA_BYPASS_VALUE          (0x9999)</span></div><div class="line"></div><div class="line"><span class="comment">/* Connect this control pin to the IVCMP input of the comparator. This can be any GPIO pin</span></div><div class="line"><span class="comment"> * that is not input only. */</span></div><div class="line"><span class="preprocessor">#define ACMPHS_EXAMPLE_CONTROL_PIN    (BSP_IO_PORT_05_PIN_03)</span></div><div class="line"></div><div class="line"><span class="keyword">volatile</span> uint32_t g_comparator_events = 0U;</div><div class="line"></div><div class="line"><span class="comment">/* This callback is called when a comparator event occurs. */</span></div><div class="line"><span class="keywordtype">void</span> acmphs_example_callback (<a class="code" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__callback__args__t">comparator_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gaf0afcbc9a110ac9366a811d96ee06029">FSP_PARAMETER_NOT_USED</a>(p_args);</div><div class="line">    g_comparator_events++;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> acmphs_example ()</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = FSP_SUCCESS;</div><div class="line"></div><div class="line">    <span class="comment">/* Disable pin register write protection, if enabled */</span></div><div class="line">    <a class="code" href="group___b_s_p___i_o.html#ga0ad2123f7a5152cf108883163581f11b">R_BSP_PinAccessEnable</a>();</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">     * Start with the IVCMP pin low. This example assumes the comparator is configured to trigger</span></div><div class="line"><span class="comment">     * when the voltage of the analog input to IVCMP rises above voltage of the analog input to</span></div><div class="line"><span class="comment">     * IVREF.</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    (void) <a class="code" href="group___b_s_p___i_o.html#ga33cef14f93543bcb3531b4f2e377c5c4">R_BSP_PinWrite</a>(ACMPHS_EXAMPLE_CONTROL_PIN, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line"></div><div class="line">    <span class="comment">/* Initialize the ACMPHS module */</span></div><div class="line">    err = <a class="code" href="group___a_c_m_p_h_s.html#gac7869c5964b098497c2eb1d1747ae888">R_ACMPHS_Open</a>(&amp;g_comparator_ctrl, &amp;g_comparator_cfg);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">     * If an ADC PGA exists for the analog input pin, then the PGA must be manually configured in order for the pin to be used as</span></div><div class="line"><span class="comment">     * an IVCMP input. This procedure is slightly different depending on the MCU (See below).</span></div><div class="line"><span class="comment">     */</span></div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_MCU_GROUP_RA6M3</span></div><div class="line"></div><div class="line">    <span class="comment">/* The following applies for MCUs with the ADC peripheral:</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * Bypass the PGA on ADC unit 0.</span></div><div class="line"><span class="comment">     * (See table &quot;Input source configuration of the ACMPHS&quot; in the relevant hardware manual) */</span></div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#gaf0a730b79b5bbe76759b6e8efafe2000">R_BSP_MODULE_START</a>(<a class="code" href="group___b_s_p___m_c_u.html#gga7880302f0edd7cc4290c037809975950ac49bfca1e1ccf88f53586fc28bd54250">FSP_IP_ADC</a>, 0);</div><div class="line">    R_ADC0-&gt;ADPGACR   = ADC_PGA_BYPASS_VALUE;</div><div class="line">    R_ADC0-&gt;ADPGADCR0 = 0;</div><div class="line"><span class="preprocessor">#elif BSP_MCU_GROUP_RA6T2</span></div><div class="line"></div><div class="line">    <span class="comment">/* The following applies for MCUs with the ADC_B peripheral:</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * Configure PGA on ADC unit 0.</span></div><div class="line"><span class="comment">     * (See table &quot;PGA Settings and Available Related Functions&quot; in the A/D Converter Operation section of the relevant</span></div><div class="line"><span class="comment">     *  hardware manual) */</span></div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#gaf0a730b79b5bbe76759b6e8efafe2000">R_BSP_MODULE_START</a>(<a class="code" href="group___b_s_p___m_c_u.html#gga7880302f0edd7cc4290c037809975950ac49bfca1e1ccf88f53586fc28bd54250">FSP_IP_ADC</a>, 0);</div><div class="line">    R_ADC_B-&gt;ADPGACR[0] = R_ADC_B0_ADPGACR_PGAGEN_Msk;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Wait for the minimum stabilization wait time before enabling output. */</span></div><div class="line">    <a class="code" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__info__t">comparator_info_t</a> info;</div><div class="line">    <a class="code" href="group___a_c_m_p_h_s.html#ga4c3e2f1898bc9a020367cd0b5285edda">R_ACMPHS_InfoGet</a>(&amp;g_comparator_ctrl, &amp;info);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#gaf3219448adfd1531cf69f68697ab184b">R_BSP_SoftwareDelay</a>(info.<a class="code" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#ad0c2dd54f8ae5b8a775385bd46036ada">min_stabilization_wait_us</a>, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2baa0312618f2508347a9a815b5887c12ae">BSP_DELAY_UNITS_MICROSECONDS</a>);</div><div class="line"></div><div class="line">    <span class="comment">/* Enable the comparator output */</span></div><div class="line">    (void) <a class="code" href="group___a_c_m_p_h_s.html#gae6cceb0647ded468eb7da79d02136e89">R_ACMPHS_OutputEnable</a>(&amp;g_comparator_ctrl);</div><div class="line"></div><div class="line">    <span class="comment">/* Set the IVCMP pin high. */</span></div><div class="line">    (void) <a class="code" href="group___b_s_p___i_o.html#ga33cef14f93543bcb3531b4f2e377c5c4">R_BSP_PinWrite</a>(ACMPHS_EXAMPLE_CONTROL_PIN, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (0 == g_comparator_events)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Wait for interrupt. */</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__status__t">comparator_status_t</a> status;</div><div class="line"></div><div class="line">    <span class="comment">/* Check status of comparator, Status will be COMPARATOR_STATE_OUTPUT_HIGH */</span></div><div class="line">    (void) <a class="code" href="group___a_c_m_p_h_s.html#gaec510482bbca5aaa1357960079c30e23">R_ACMPHS_StatusGet</a>(&amp;g_comparator_ctrl, &amp;status);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><h2 class="groupheader">Function Documentation</h2>
<a id="gac7869c5964b098497c2eb1d1747ae888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7869c5964b098497c2eb1d1747ae888">&#9670;&nbsp;</a></span>R_ACMPHS_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_ACMPHS_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__cfg__t">comparator_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures the comparator and starts operation. Callbacks and pin output are not active until outputEnable() is called. <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a4113c9227ed46dce9804f3a08eb11277">comparator_api_t::outputEnable()</a> should be called after the output has stabilized. Implements <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a6d0ed00f38a8834db9072263a98afb1b">comparator_api_t::open()</a>.</p>
<p>Comparator inputs must be configured in the application code prior to calling this function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Open successful. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input pointer is NULL </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ARGUMENT</td><td>An argument is invalid. Window mode (COMPARATOR_MODE_WINDOW) and filter of 1 (COMPARATOR_FILTER_1) are not supported in this implementation. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>The control block is already open or the hardware lock is taken. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4c3e2f1898bc9a020367cd0b5285edda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c3e2f1898bc9a020367cd0b5285edda">&#9670;&nbsp;</a></span>R_ACMPHS_InfoGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_ACMPHS_InfoGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__info__t">comparator_info_t</a> *const&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides the minimum stabilization wait time in microseconds. Implements <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a125a6a2a99450af562e2c3deec80e7ac">comparator_api_t::infoGet()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Information stored in p_info. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input pointer was NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Instance control block is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae6cceb0647ded468eb7da79d02136e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6cceb0647ded468eb7da79d02136e89">&#9670;&nbsp;</a></span>R_ACMPHS_OutputEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_ACMPHS_OutputEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables the comparator output, which can be polled using <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a9c18633510979192f85835c48cdc8c3d">comparator_api_t::statusGet()</a>. Also enables pin output and interrupts as configured during <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a6d0ed00f38a8834db9072263a98afb1b">comparator_api_t::open()</a>. Implements <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a4113c9227ed46dce9804f3a08eb11277">comparator_api_t::outputEnable()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Comparator output is enabled. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input pointer was NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Instance control block is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaec510482bbca5aaa1357960079c30e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec510482bbca5aaa1357960079c30e23">&#9670;&nbsp;</a></span>R_ACMPHS_StatusGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_ACMPHS_StatusGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#structcomparator__status__t">comparator_status_t</a> *const&#160;</td>
          <td class="paramname"><em>p_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides the operating status of the comparator. Implements <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a9c18633510979192f85835c48cdc8c3d">comparator_api_t::statusGet()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Operating status of the comparator is provided in p_status. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input pointer was NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Instance control block is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>The debounce filter is off and 2 consecutive matching values were not read within 1024 attempts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaeaba464c71478a7277eb529bbed7db4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeaba464c71478a7277eb529bbed7db4f">&#9670;&nbsp;</a></span>R_ACMPHS_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_ACMPHS_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#gaa8093c248f21f1012385b4c0099a22c9">comparator_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops the comparator. Implements <a class="el" href="group___c_o_m_p_a_r_a_t_o_r___a_p_i.html#a0251d88b11cc33909048f611db2bf688">comparator_api_t::close()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Instance control block closed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input pointer was NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Instance control block is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v6.2.0 User's Manual Copyright © (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
