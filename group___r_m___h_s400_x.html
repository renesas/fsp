<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: HS400X Temperature/Humidity Sensor (rm_hs400x)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v4.1.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">
 
    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text"> 
      </span>
      <span class="right">
          &nbsp; 
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_m___h_s400_x.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() { 
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body. 
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works 
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len)); 
            }
          } 
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }    
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element. 
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;  
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">HS400X Temperature/Humidity Sensor (rm_hs400x)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___s_e_n_s_o_r___m_o_d_u_l_e_s.html">Sensor</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa263adbe024135888d31e141ce18d52c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#gaa263adbe024135888d31e141ce18d52c">RM_HS400X_Open</a> (<a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__cfg__t">rm_hs400x_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="memdesc:gaa263adbe024135888d31e141ce18d52c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens and configures the HS400X middleware module. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#af60c3ba93861728b92487a5e727381d8">rm_hs400x_api_t::open</a>.  <a href="#gaa263adbe024135888d31e141ce18d52c">More...</a><br /></td></tr>
<tr class="separator:gaa263adbe024135888d31e141ce18d52c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf41bfc87749833ce99276321fabb35c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#gadf41bfc87749833ce99276321fabb35c">RM_HS400X_Close</a> (<a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:gadf41bfc87749833ce99276321fabb35c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables specified HS400X control block. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#a2928df5b91141ebb9aff254547966843">rm_hs400x_api_t::close</a>.  <a href="#gadf41bfc87749833ce99276321fabb35c">More...</a><br /></td></tr>
<tr class="separator:gadf41bfc87749833ce99276321fabb35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21afc7bb8b35ca56c4918ddd26a1549a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#ga21afc7bb8b35ca56c4918ddd26a1549a">RM_HS400X_MeasurementStart</a> (<a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:ga21afc7bb8b35ca56c4918ddd26a1549a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when start one shot measurement. Sends the command of measurement to HS400X and start a measurement. This function supports No-Hold measurement and Periodic measurement only. If Hold measurement is enabled, please call <a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c" title="Reads ADC data from HS400X. If Hold measurement is enabled, HS400X holds the SCL line low during the ...">RM_HS400X_Read()</a> without calling this function. In Periodic measurement, if the periodic measurement has already run, RM_HS400X_EVENT_ERROR is received in callback because HS400x device replies with NACK. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#af43342d596f670dae68958a5011afed6">rm_hs400x_api_t::measurementStart</a>.  <a href="#ga21afc7bb8b35ca56c4918ddd26a1549a">More...</a><br /></td></tr>
<tr class="separator:ga21afc7bb8b35ca56c4918ddd26a1549a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7959f33340cb226d60a3b31ffd8e3e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#gac7959f33340cb226d60a3b31ffd8e3e1">RM_HS400X_MeasurementStop</a> (<a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:gac7959f33340cb226d60a3b31ffd8e3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a periodic measurement. Sends the command of stopping periodic measurement to HS400X. This function supports periodic measurement only. If a periodic measurement is not running, RM_HS400X_EVENT_ERROR is received in callback because HS400x device replies with NACK. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#ac6a5f8689aeda6f82bbd41d1794a66e3">rm_hs400x_api_t::measurementStop</a>.  <a href="#gac7959f33340cb226d60a3b31ffd8e3e1">More...</a><br /></td></tr>
<tr class="separator:gac7959f33340cb226d60a3b31ffd8e3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga746a0ada3830ba954f47de6ed4f9746c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c">RM_HS400X_Read</a> (<a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__raw__data__t">rm_hs400x_raw_data_t</a> *const p_raw_data)</td></tr>
<tr class="memdesc:ga746a0ada3830ba954f47de6ed4f9746c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads ADC data from HS400X. If Hold measurement is enabled, HS400X holds the SCL line low during the measurement and releases the SCL line when the measurement is complete. If No-Hold measurement is enabled and the measurement result is not ready, RM_HS400X_EVENT_MEASUREMENT_NOT_COMPLETE is received in callback. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#a66bd54ec8371b1b45b530c455e5d9ea0">rm_hs400x_api_t::read</a>.  <a href="#ga746a0ada3830ba954f47de6ed4f9746c">More...</a><br /></td></tr>
<tr class="separator:ga746a0ada3830ba954f47de6ed4f9746c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9dfab1c5a32803f66b8713adfd76d1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#gaa9dfab1c5a32803f66b8713adfd76d1d">RM_HS400X_DataCalculate</a> (<a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__raw__data__t">rm_hs400x_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__data__t">rm_hs400x_data_t</a> *const p_hs400x_data)</td></tr>
<tr class="memdesc:gaa9dfab1c5a32803f66b8713adfd76d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates temperature [Celsius] and humidity [RH] from ADC data. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#a16b20fc56880ef23d5b8a4b2f169c50e">rm_hs400x_api_t::dataCalculate</a>.  <a href="#gaa9dfab1c5a32803f66b8713adfd76d1d">More...</a><br /></td></tr>
<tr class="separator:gaa9dfab1c5a32803f66b8713adfd76d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Middleware to implement the HS400X sensor interface. This module implements the <a class="el" href="group___r_m___h_s400_x___a_p_i.html">HS400X Middleware Interface</a>. </p>
<h1><a class="anchor" id="rm-hs400x-overview"></a>
Overview</h1>
<h2><a class="anchor" id="rm-hs400x-features"></a>
Features</h2>
<p>The HS400X sensor interface implementation has the following key features:</p><ul>
<li>Starting a measurement at any time<a class="anchor" id="um_rm_hs400x_measurementstart"></a></li>
<li>Selecting one shot or a periodic measurement</li>
<li>Getting ADC data from the sensor<a class="anchor" id="um_rm_hs400x_read"></a></li>
<li>Calculating humidity and temperature value from getting ADC data<a class="anchor" id="um_rm_hs400x_datacalculate"></a> </li>
</ul>
<h2><a class="anchor" id="rm-hs400x-limitations"></a>
Limitations</h2>
<p>Alert feature is not supported. It will be supported in the future.</p>
<h2><a class="anchor" id="rm-hs400x-notifications"></a>
Notifications</h2>
<p>The minimum frequency for the SCL clock in Hold measurement is 200kHz. Please configure <a class="el" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#ggaa30dd03665bdc1134233e8e2b1631f0aae2e38e76a2477e68f2685b403bdeb9a9">I2C_MASTER_RATE_FAST</a> or <a class="el" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#ggaa30dd03665bdc1134233e8e2b1631f0aaee266782cacb431c8623f7276063228b">I2C_MASTER_RATE_FASTPLUS</a> to "Rate" in <a class="el" href="group___i_i_c___m_a_s_t_e_r.html">I2C Master (r_iic_master)</a> or <a class="el" href="group___s_c_i___i2_c.html">I2C Master (r_sci_i2c)</a>.</p>
<h1><a class="anchor" id="rm-hs400x-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for rm_hs400x</h2>
The following build time configurations are defined in fsp_cfg/rm_hs400x_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr>
<td>Measurement Type</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Hold Measurement</li>
<li>
No-Hold Measurement</li>
<li>
Periodic Measurement</li>
</ul>
</td><td>No-Hold Measurement </td><td>Select measurement type. </td></tr>
<tr>
<td>Data type</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Both humidity and temperature</li>
<li>
Temperature only</li>
</ul>
</td><td>Both humidity and temperature </td><td>Select getting temperature only or both humidity and temperature. </td></tr>
</table>
 <h2>Configurations for Sensor &gt; HS400X Temperature/Humidity Sensor (rm_hs400x)</h2>
This module can be added to the Stacks tab via New Stack &gt; Sensor &gt; HS400X Temperature/Humidity Sensor (rm_hs400x).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Name</td><td>Manual Entry</td><td>g_hs400x_sensor0 </td><td>Module name. </td></tr>
<tr>
<td>Temperature Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
8-bit</li>
<li>
10-bit</li>
<li>
12-bit</li>
<li>
14-bit</li>
</ul>
</td><td>14-bit </td><td>Set resolution of temperature. </td></tr>
<tr>
<td>Humidity Resolution</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
8-bit</li>
<li>
10-bit</li>
<li>
12-bit</li>
<li>
14-bit</li>
</ul>
</td><td>14-bit </td><td>Set resolution of humidity. </td></tr>
<tr>
<td>Frequency for Periodic Measurement</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
0.4Hz</li>
<li>
1Hz</li>
<li>
2Hz</li>
</ul>
</td><td>1Hz </td><td>Set frequency for periodic measurement. </td></tr>
<tr>
<td>Comms I2C Callback</td><td>Name must be a valid C symbol</td><td>hs400x_comms_i2c_callback </td><td>A user COMMS I2C callback function can be provided. </td></tr>
</table>
</p>
<h2><a class="anchor" id="rm-hs400x-pin-configuration"></a>
Pin Configuration</h2>
<p>This module use SDA and SCL pins of I2C Master and SCI I2C.</p>
<h1><a class="anchor" id="rm-hs400x-usage_notes"></a>
Usage Notes</h1>
<p><a href="https://www.renesas.com/document/dst/hs400x-datasheet">HS400x datasheet is here. </a> <br />
This module supports three measurement type :</p><ul>
<li>Hold measurement</li>
<li>No-Hold measurement</li>
<li>Periodic measurement</li>
</ul>
<p><br />
Hold and no-hold measurements also support measuring temperature data only. However, a periodic measurement only supports measuring both humidity and temperature data.</p>
<h2>Hold Measurement</h2>
<p>A hold measurement sequence consists of the following steps.</p><ol type="1">
<li>Wake up the HS400x series sensor from sleep mode by sending its I2C address with a write bit, and initiate a measurement by sending the desired hold measurement command.</li>
<li>Change the direction of communication by sending a start bit, the HS400x I2C address, and a read bit. The SCL line is held low by the sensor during the measurement process, which prevents the master from initiating any communications with other slaves on the bus.</li>
<li>Once the requested measurement is completed by the HS400x series sensor, the SCL line is released and the chip waits for the SCL clock signal to send the results. The sensor will then transmit the requested measurement data on the bus for the master to capture.</li>
</ol>
<h2>No-Hold Measurement</h2>
<p>A no-hold measurement sequence consists of the following steps.</p><ol type="1">
<li>Wake up the HS400x series sensor from sleep mode by sending its I2C address with a write bit, and initiate a measurement by sending the desired no-hold measurement command.</li>
<li>To read the result from the HS400x series sensor, the master has to send the chip its I2C address and a read bit. If the measurement is completed and the result is ready, the chip will send an ACK bit and starts to send the result over the bus. If the measurement is still in progress, the chip will send a NACK bit and the master will need to try to read the result again.</li>
</ol>
<h2>Periodic Measurement</h2>
<p>The HS400x sensors can also be configured to measure at regular intervals without user intervention. In this mode, the user can read the latest relative humidity / temperature data by issuing a data fetch sequence, which consists of sending the HS400x I2C address with a read bit. The sensor will then send the latest measurement result over the I2C bus.<br />
When the periodic measurement mode is active, the only commands the chip will respond to are the data fetch command, and a command to stop the periodic measurements. The command to stop periodic measurements is issued by sending the I2C address with a write bit, followed by the command 0x30. Sequence to Stop Periodic Measurements. Once the periodic measurements have been stopped, the chip returns to sleep and is ready to accept all valid I2C commands.</p>
<h2>Bus Initialization</h2>
<p>The HS400X interface expects a I2C bus instance to be opened before opening any I2C device. The interface will handle switching between devices on the bus but will not open or close the bus instance. The user should open the bus with the appropriate <a class="el" href="group___i2_c___m_a_s_t_e_r___a_p_i.html">I2C Master Interface</a> open call.</p>
<p>If an RTOS is used, blocking and bus lock is available.</p><ul>
<li>If blocking of an I2C bus is required, it is necessary to create a semaphore for blocking.</li>
<li>If bus lock is required, it is necessary to create a mutex for bus lock. Bus lock is only available when a semaphore for blocking is used.</li>
</ul>
<h2>Initialization</h2>
<p>Initialize with <a class="el" href="group___r_m___h_s400_x.html#gaa263adbe024135888d31e141ce18d52c">RM_HS400X_Open()</a>.</p>
<h2>From measurement start to data acquisition</h2>
<p>After normal completion, start the each measurement.</p>
<h3>Hold Measurement</h3>
<p>In hold measurement, the HS400x series sensor holds the SCL line low during the measurement and releases the SCL line when the measurement is complete.</p>
<ol type="1">
<li>Call <a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c">RM_HS400X_Read()</a>. This function will start a measurement and read the ADC data.</li>
<li>Wait until RM_HS400X_EVENT_SUCCESS is received.</li>
<li>Call <a class="el" href="group___r_m___h_s400_x.html#gaa9dfab1c5a32803f66b8713adfd76d1d">RM_HS400X_DataCalculate()</a>. This function will calculate temperature and humidity data from the ADC data.</li>
</ol>
<h3>No-Hold Measurement</h3>
<p>In no-hold measurement, the HS400x series sensor does not hold the SCL line low, and the master is free to initiate communication with other slaves while the chip is performing the measurement.</p>
<ol type="1">
<li>Call <a class="el" href="group___r_m___h_s400_x.html#ga21afc7bb8b35ca56c4918ddd26a1549a">RM_HS400X_MeasurementStart()</a>. This function will start a measurement.</li>
<li>Wait until RM_HS400X_EVENT_SUCCESS is received.</li>
<li>Call <a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c">RM_HS400X_Read()</a>. This function will read the ADC data.</li>
<li>If the measurement result is not ready, RM_HS400X_EVENT_MEASUREMENT_NOT_COMPLETE is received in callback. User should call <a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c">RM_HS400X_Read()</a> again. If the measurement is completed, RM_HS400X_EVENT_SUCCESS is received in callback.</li>
<li>Wait until RM_HS400X_EVENT_SUCCESS is received.</li>
<li>Call <a class="el" href="group___r_m___h_s400_x.html#gaa9dfab1c5a32803f66b8713adfd76d1d">RM_HS400X_DataCalculate()</a>. This function will calculate temperature and humidity data from the ADC data.</li>
</ol>
<h3>Periodic Measurement</h3>
<p>In periodic measurement, the HS400x sensors measure at regular intervals without user intervention. If a periodic measurement is running, the resolution and the frequency cannot be changed. please stop the periodic measurement with <a class="el" href="group___r_m___h_s400_x.html#gac7959f33340cb226d60a3b31ffd8e3e1">RM_HS400X_MeasurementStop()</a>.</p>
<ol type="1">
<li>Call <a class="el" href="group___r_m___h_s400_x.html#ga21afc7bb8b35ca56c4918ddd26a1549a">RM_HS400X_MeasurementStart()</a>. This function will start a measurement. If the function is called once, a second call is not required.</li>
<li>Wait until RM_HS400X_EVENT_SUCCESS is received.</li>
<li>Wait for frequency for periodic measurement.</li>
<li>Call <a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c">RM_HS400X_Read()</a>. This function will read the ADC data.</li>
<li>Wait until RM_HS400X_EVENT_SUCCESS is received.</li>
<li>Call <a class="el" href="group___r_m___h_s400_x.html#gaa9dfab1c5a32803f66b8713adfd76d1d">RM_HS400X_DataCalculate()</a>. This function will calculate temperature and humidity data from the ADC data.</li>
</ol>
<h1><a class="anchor" id="rm-hs400x-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>This is a basic examples of minimal use of HS400X sensor implementation in an application.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_hs400x_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>            err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__raw__data__t">rm_hs400x_raw_data_t</a> hs400x_raw_data;</div><div class="line">    <a class="code" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__data__t">rm_hs400x_data_t</a>     hs400x_data;</div><div class="line">    <span class="keywordtype">bool</span>                 measurement_complete = <span class="keyword">false</span>;</div><div class="line">    <span class="keywordtype">bool</span>                 calculated           = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_hs400x_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___h_s400_x.html#gaa263adbe024135888d31e141ce18d52c">RM_HS400X_Open</a>(&amp;g_hs400x_ctrl, &amp;g_hs400x_cfg);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"><span class="preprocessor">#if 3 == RM_HS400X_CFG_MEASUREMENT_TYPE // Periodic Measurement</span></div><div class="line">    g_flag = 0;</div><div class="line"></div><div class="line">    <span class="comment">/* Start a periodic measurement */</span></div><div class="line">    <a class="code" href="group___r_m___h_s400_x.html#ga21afc7bb8b35ca56c4918ddd26a1549a">RM_HS400X_MeasurementStart</a>(&amp;g_hs400x_ctrl);</div><div class="line">    <span class="keywordflow">while</span> (0 == g_flag)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Wait callback */</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if 2 == RM_HS400X_CFG_MEASUREMENT_TYPE // No-Hold Measurement</span></div><div class="line">        g_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* Start one shot measurement */</span></div><div class="line">        <a class="code" href="group___r_m___h_s400_x.html#ga21afc7bb8b35ca56c4918ddd26a1549a">RM_HS400X_MeasurementStart</a>(&amp;g_hs400x_ctrl);</div><div class="line">        <span class="keywordflow">while</span> (0 == g_flag)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Wait callback */</span></div><div class="line">        }</div><div class="line"></div><div class="line"><span class="preprocessor">#elif 3 == RM_HS400X_CFG_MEASUREMENT_TYPE // Periodic Measurement</span></div><div class="line"></div><div class="line">        <span class="comment">/* Wait Periodic measurement period. See table 12 on the page 20 of the datasheet. */</span></div><div class="line">        <span class="keywordflow">switch</span> (g_hs400x_cfg.frequency)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">case</span> <a class="code" href="group___r_m___h_s400_x___a_p_i.html#gga6ab3f5a23c4ddfcbf416027512700d69aaeebce78040edb12cb5737d5708df752">RM_HS400X_PERIODIC_MEASUREMENT_FREQUENCY_2HZ</a>:</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#gaf3219448adfd1531cf69f68697ab184b">R_BSP_SoftwareDelay</a>(500, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">            <span class="keywordflow">case</span> <a class="code" href="group___r_m___h_s400_x___a_p_i.html#gga6ab3f5a23c4ddfcbf416027512700d69a71fd810a9f93f8190420c5717a999ba2">RM_HS400X_PERIODIC_MEASUREMENT_FREQUENCY_1HZ</a>:</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#gaf3219448adfd1531cf69f68697ab184b">R_BSP_SoftwareDelay</a>(1, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2bacc709da08ef4acc99bf6e2e84946be5d">BSP_DELAY_UNITS_SECONDS</a>);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">            <span class="keywordflow">case</span> <a class="code" href="group___r_m___h_s400_x___a_p_i.html#gga6ab3f5a23c4ddfcbf416027512700d69a065a54759d825775527b92f4c02342ef">RM_HS400X_PERIODIC_MEASUREMENT_FREQUENCY_0P4HZ</a>:</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#gaf3219448adfd1531cf69f68697ab184b">R_BSP_SoftwareDelay</a>(2500, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">            <span class="keywordflow">default</span>:</div><div class="line">                assert(<span class="keyword">false</span>);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line"><span class="preprocessor">#else</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                g_flag = 0;</div><div class="line"></div><div class="line">                <span class="comment">/* Read ADC Data from HS400X */</span></div><div class="line">                <a class="code" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c">RM_HS400X_Read</a>(&amp;g_hs400x_ctrl, &amp;hs400x_raw_data);</div><div class="line">                <span class="keywordflow">while</span> (0 == g_flag)</div><div class="line">                {</div><div class="line">                    <span class="comment">/* Wait callback */</span></div><div class="line">                }</div><div class="line"></div><div class="line"><span class="preprocessor">#if 2 == RM_HS400X_CFG_MEASUREMENT_TYPE // No-Hold Measurement</span></div><div class="line">                <span class="keywordflow">if</span> (RM_HS400X_EVENT_MEASUREMENT_NOT_COMPLETE == g_hs400x_event)</div><div class="line">                {</div><div class="line">                    <span class="comment">/* RM_HS400X_EVENT_MEASUREMENT_NOT_COMPLETE is received */</span></div><div class="line">                    measurement_complete = <span class="keyword">false</span>;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    <span class="comment">/* RM_HS400X_EVENT_SUCCESS is received. */</span></div><div class="line">                    measurement_complete = <span class="keyword">true</span>;</div><div class="line">                }</div><div class="line"></div><div class="line"><span class="preprocessor">#else</span></div><div class="line">                measurement_complete = <span class="keyword">true</span>;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            } <span class="keywordflow">while</span> (<span class="keyword">false</span> == measurement_complete);</div><div class="line"></div><div class="line">            <span class="comment">/* Calculate Humidity and Temperature values from ADC data */</span></div><div class="line">            err = <a class="code" href="group___r_m___h_s400_x.html#gaa9dfab1c5a32803f66b8713adfd76d1d">RM_HS400X_DataCalculate</a>(&amp;g_hs400x_ctrl, &amp;hs400x_raw_data, &amp;hs400x_data);</div><div class="line">            <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">            {</div><div class="line">                calculated = <span class="keyword">true</span>;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* CRC error */</span></div><div class="line">                calculated = <span class="keyword">false</span>;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                handle_error(err);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (<span class="keyword">false</span> == calculated);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structrm__hs400x__init__process__params__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#structrm__hs400x__init__process__params__t">rm_hs400x_init_process_params_t</a></td></tr>
<tr class="separator:structrm__hs400x__init__process__params__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structrm__hs400x__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#structrm__hs400x__instance__ctrl__t">rm_hs400x_instance_ctrl_t</a></td></tr>
<tr class="separator:structrm__hs400x__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structrm__hs400x__init__process__params__t" id="structrm__hs400x__init__process__params__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrm__hs400x__init__process__params__t">&#9670;&nbsp;</a></span>rm_hs400x_init_process_params_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rm_hs400x_init_process_params_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>HS400X initialization process block </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a54d7d67e8c118457e17bdd80acb565c6"></a>volatile bool</td>
<td class="fieldname">
communication_finished</td>
<td class="fielddoc">
Communication flag for blocking. </td></tr>
<tr><td class="fieldtype">
<a id="a39ddb6ae741d5506489bb4a87d466edf"></a>volatile <a class="el" href="group___r_m___h_s400_x___a_p_i.html#gadb5e6e3edfdfe9ee37e4ed7941513032">rm_hs400x_event_t</a></td>
<td class="fieldname">
event</td>
<td class="fielddoc">
Callback event. </td></tr>
</table>

</div>
</div>
<a name="structrm__hs400x__instance__ctrl__t" id="structrm__hs400x__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrm__hs400x__instance__ctrl__t">&#9670;&nbsp;</a></span>rm_hs400x_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rm_hs400x_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>HS400x Control Block </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:a45b5fb27d54a8998d37ae8f90bc6bc47"><td class="memItemLeft" align="right" valign="top"><a id="a45b5fb27d54a8998d37ae8f90bc6bc47"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a45b5fb27d54a8998d37ae8f90bc6bc47">open</a></td></tr>
<tr class="memdesc:a45b5fb27d54a8998d37ae8f90bc6bc47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open flag. <br /></td></tr>
<tr class="separator:a45b5fb27d54a8998d37ae8f90bc6bc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a565adac63233a59d03487d1417b33b"><td class="memItemLeft" align="right" valign="top"><a id="a8a565adac63233a59d03487d1417b33b"></a>
<a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__cfg__t">rm_hs400x_cfg_t</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a8a565adac63233a59d03487d1417b33b">p_cfg</a></td></tr>
<tr class="memdesc:a8a565adac63233a59d03487d1417b33b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to HS400X Configuration. <br /></td></tr>
<tr class="separator:a8a565adac63233a59d03487d1417b33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977c323e9b1fba0858f58d4e9baf0ad5"><td class="memItemLeft" align="right" valign="top"><a id="a977c323e9b1fba0858f58d4e9baf0ad5"></a>
<a class="el" href="group___r_m___c_o_m_m_s___a_p_i.html#structrm__comms__instance__t">rm_comms_instance_t</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a977c323e9b1fba0858f58d4e9baf0ad5">p_comms_i2c_instance</a></td></tr>
<tr class="memdesc:a977c323e9b1fba0858f58d4e9baf0ad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer of I2C Communications Middleware instance structure. <br /></td></tr>
<tr class="separator:a977c323e9b1fba0858f58d4e9baf0ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae51fca4d0796c27b1234c4d050f9e9"><td class="memItemLeft" align="right" valign="top"><a id="afae51fca4d0796c27b1234c4d050f9e9"></a>
void const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#afae51fca4d0796c27b1234c4d050f9e9">p_context</a></td></tr>
<tr class="memdesc:afae51fca4d0796c27b1234c4d050f9e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the user-provided context. <br /></td></tr>
<tr class="separator:afae51fca4d0796c27b1234c4d050f9e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af51eb4d4038952763bba41f2dee7b7"><td class="memItemLeft" align="right" valign="top"><a id="a5af51eb4d4038952763bba41f2dee7b7"></a>
<a class="el" href="group___r_m___h_s400_x.html#structrm__hs400x__init__process__params__t">rm_hs400x_init_process_params_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a5af51eb4d4038952763bba41f2dee7b7">init_process_params</a></td></tr>
<tr class="memdesc:a5af51eb4d4038952763bba41f2dee7b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the initialization process. <br /></td></tr>
<tr class="separator:a5af51eb4d4038952763bba41f2dee7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a901725d640aab3b802cffa3159276e"><td class="memItemLeft" align="right" valign="top"><a id="a5a901725d640aab3b802cffa3159276e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a5a901725d640aab3b802cffa3159276e">resolution_register</a></td></tr>
<tr class="memdesc:a5a901725d640aab3b802cffa3159276e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register for temperature and humidity measurement resolution settings. <br /></td></tr>
<tr class="separator:a5a901725d640aab3b802cffa3159276e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb5d5f935001b4f4e33272387317282"><td class="memItemLeft" align="right" valign="top"><a id="aefb5d5f935001b4f4e33272387317282"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#aefb5d5f935001b4f4e33272387317282">periodic_measurement_register</a> [2]</td></tr>
<tr class="memdesc:aefb5d5f935001b4f4e33272387317282"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register for periodic measurement settings. <br /></td></tr>
<tr class="separator:aefb5d5f935001b4f4e33272387317282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac470e112ef6556c406bda75049c7f3d6"><td class="memItemLeft" align="right" valign="top"><a id="ac470e112ef6556c406bda75049c7f3d6"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#ac470e112ef6556c406bda75049c7f3d6">periodic_measurement_stop</a></td></tr>
<tr class="memdesc:ac470e112ef6556c406bda75049c7f3d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for stop of periodic measurement. <br /></td></tr>
<tr class="separator:ac470e112ef6556c406bda75049c7f3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f6d28fd2d5889d5733ce5ad5b345db"><td class="memItemLeft" align="right" valign="top"><a id="a72f6d28fd2d5889d5733ce5ad5b345db"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a72f6d28fd2d5889d5733ce5ad5b345db">no_hold_measurement_read</a></td></tr>
<tr class="memdesc:a72f6d28fd2d5889d5733ce5ad5b345db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for data read of No-Hold measurement. <br /></td></tr>
<tr class="separator:a72f6d28fd2d5889d5733ce5ad5b345db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad7e2630eddb4d77b167363ae3e6cfe"><td class="memItemLeft" align="right" valign="top"><a id="a5ad7e2630eddb4d77b167363ae3e6cfe"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a5ad7e2630eddb4d77b167363ae3e6cfe">write_buf</a> [18]</td></tr>
<tr class="memdesc:a5ad7e2630eddb4d77b167363ae3e6cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for data write. <br /></td></tr>
<tr class="separator:a5ad7e2630eddb4d77b167363ae3e6cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6288740f2724536ce15942ec1e46ee3b"><td class="memItemLeft" align="right" valign="top"><a id="a6288740f2724536ce15942ec1e46ee3b"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___h_s400_x.html#a6288740f2724536ce15942ec1e46ee3b">p_comms_callback</a> )(<a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__callback__args__t">rm_hs400x_callback_args_t</a> *p_args)</td></tr>
<tr class="memdesc:a6288740f2724536ce15942ec1e46ee3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C Communications callback. <br /></td></tr>
<tr class="separator:a6288740f2724536ce15942ec1e46ee3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa263adbe024135888d31e141ce18d52c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa263adbe024135888d31e141ce18d52c">&#9670;&nbsp;</a></span>RM_HS400X_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_HS400X_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__cfg__t">rm_hs400x_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens and configures the HS400X middleware module. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#af60c3ba93861728b92487a5e727381d8">rm_hs400x_api_t::open</a>. </p>
<p>Example: </p><div class="fragment"><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___h_s400_x.html#gaa263adbe024135888d31e141ce18d52c">RM_HS400X_Open</a>(&amp;g_hs400x_ctrl, &amp;g_hs400x_cfg);</div><div class="line"></div></div><!-- fragment --> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>HS400X successfully configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer, or one or more configuration options is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Module is already open. This module can only be opened once. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadf41bfc87749833ce99276321fabb35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf41bfc87749833ce99276321fabb35c">&#9670;&nbsp;</a></span>RM_HS400X_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_HS400X_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables specified HS400X control block. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#a2928df5b91141ebb9aff254547966843">rm_hs400x_api_t::close</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully closed. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga21afc7bb8b35ca56c4918ddd26a1549a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21afc7bb8b35ca56c4918ddd26a1549a">&#9670;&nbsp;</a></span>RM_HS400X_MeasurementStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_HS400X_MeasurementStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when start one shot measurement. Sends the command of measurement to HS400X and start a measurement. This function supports No-Hold measurement and Periodic measurement only. If Hold measurement is enabled, please call <a class="el" href="group___r_m___h_s400_x.html#ga746a0ada3830ba954f47de6ed4f9746c" title="Reads ADC data from HS400X. If Hold measurement is enabled, HS400X holds the SCL line low during the ...">RM_HS400X_Read()</a> without calling this function. In Periodic measurement, if the periodic measurement has already run, RM_HS400X_EVENT_ERROR is received in callback because HS400x device replies with NACK. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#af43342d596f670dae68958a5011afed6">rm_hs400x_api_t::measurementStart</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully started. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Hold measurement is unsupported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac7959f33340cb226d60a3b31ffd8e3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7959f33340cb226d60a3b31ffd8e3e1">&#9670;&nbsp;</a></span>RM_HS400X_MeasurementStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_HS400X_MeasurementStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a periodic measurement. Sends the command of stopping periodic measurement to HS400X. This function supports periodic measurement only. If a periodic measurement is not running, RM_HS400X_EVENT_ERROR is received in callback because HS400x device replies with NACK. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#ac6a5f8689aeda6f82bbd41d1794a66e3">rm_hs400x_api_t::measurementStop</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully started. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Hold and No-Hold measurement are unsupported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga746a0ada3830ba954f47de6ed4f9746c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga746a0ada3830ba954f47de6ed4f9746c">&#9670;&nbsp;</a></span>RM_HS400X_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_HS400X_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__raw__data__t">rm_hs400x_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads ADC data from HS400X. If Hold measurement is enabled, HS400X holds the SCL line low during the measurement and releases the SCL line when the measurement is complete. If No-Hold measurement is enabled and the measurement result is not ready, RM_HS400X_EVENT_MEASUREMENT_NOT_COMPLETE is received in callback. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#a66bd54ec8371b1b45b530c455e5d9ea0">rm_hs400x_api_t::read</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully data decoded. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer, or one or more configuration options is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa9dfab1c5a32803f66b8713adfd76d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9dfab1c5a32803f66b8713adfd76d1d">&#9670;&nbsp;</a></span>RM_HS400X_DataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_HS400X_DataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#ga2d357850845781daeef921064d664a4b">rm_hs400x_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__raw__data__t">rm_hs400x_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___h_s400_x___a_p_i.html#structrm__hs400x__data__t">rm_hs400x_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_hs400x_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates temperature [Celsius] and humidity [RH] from ADC data. Implements <a class="el" href="group___r_m___h_s400_x___a_p_i.html#a16b20fc56880ef23d5b8a4b2f169c50e">rm_hs400x_api_t::dataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully data decoded. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer, or one or more configuration options is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_SENSOR_INVALID_DATA</td><td>Data is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v4.1.0 User's Manual Copyright  (2022) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
