<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: Reality AI Data Shipper (rm_rai_data_shipper)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
     });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v6.1.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">

    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text">
      </span>
      <span class="right">
          &nbsp;
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body.
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len));
            }
          }
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element.
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">Reality AI Data Shipper (rm_rai_data_shipper)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___a_i___m_o_d_u_l_e_s.html">AI</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga377222c8d097219e07209cead2239735"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga377222c8d097219e07209cead2239735">RM_RAI_DATA_SHIPPER_Open</a> (<a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__cfg__t">rai_data_shipper_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga377222c8d097219e07209cead2239735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25d7a5448ca812d1bdcd9a66565ff3f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga25d7a5448ca812d1bdcd9a66565ff3f7">RM_RAI_DATA_SHIPPER_Read</a> (<a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const p_api_ctrl, void *const p_buf, uint32_t *const buf_len)</td></tr>
<tr class="separator:ga25d7a5448ca812d1bdcd9a66565ff3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3eba066ed628818564367d27c319e567"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga3eba066ed628818564367d27c319e567">RM_RAI_DATA_SHIPPER_Write</a> (<a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__write__params__t">rai_data_shipper_write_params_t</a> const *p_write_params)</td></tr>
<tr class="separator:ga3eba066ed628818564367d27c319e567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga326872a65919a99e8cf8189316213784"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga326872a65919a99e8cf8189316213784">RM_RAI_DATA_SHIPPER_Close</a> (<a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="separator:ga326872a65919a99e8cf8189316213784"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Middleware to implement the Data Shipper for Reality AI applications. This module implements the <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html">Data Shipper Interface</a>. </p>
<h1><a class="anchor" id="rm-rai-data-shipper-overview"></a>
Overview</h1>
<p>RAI Data Shipper is mainly for sending data collected by RAI Data Collector to PC so that they can be used for Reality AI model training. It utilizes the <a class="el" href="group___r_m___c_o_m_m_s___a_p_i.html">Communications Middleware Interface</a> and all communications are fully asynchronous. The data being transported may be any combination of the following:</p>
<ul>
<li>Sensor data</li>
<li>System events/errors</li>
<li>Debug data and diagnostic information, including RAI runtime output</li>
</ul>
<p>Sensor data is provided by Data Collector via data ready callback. System events and debug data are filled up by application. A callback is used to notify application that communication is finished. <code>RM_COMMS_EVENT_ERROR</code> will be returned if there is any error during data transmission. Please note sensor data buffer must be released back to data collector when data is no longer used by application. If data shipper is the only data consumer, then <code>RM_RAI_DATA_COLLECTOR_BufferRelease</code> must be called on write error, or in the data shipper callback.</p>
<dl class="section note"><dt>Note</dt><dd>Debug data, diagnostic information, and associated events are provided for debug purposes only and are not tracked by upstream Reality AI tools.</dd></dl>
<h2><a class="anchor" id="rm-rai-data-shipper-features"></a>
Features</h2>
<ol type="1">
<li>The RAI Data Shipper module supports up to 8 Data Collector instances.</li>
<li>The RAI Data Shipper module supports the following interface:<ul>
<li>RM_COMMS_UART with/without CRC-8</li>
<li>RM_COMMS_USB_PCDC with/without CRC-8</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="rm-rai-data-shipper-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for rm_rai_data_shipper</h2>
The following build time configurations are defined in fsp_cfg/rm_rai_data_shipper_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr class="tree_none">
<td>Max Number Of DC Instances</td><td>Value must be a positive integer between 1 and 8</td><td>8 </td><td>Max number of DC instances to be sent. </td></tr>
</table>
 <h2>Configurations for AI &gt; Data Shipper (rm_rai_data_shipper)</h2>
This module can be added to the Stacks tab via New Stack &gt; AI &gt; Data Shipper (rm_rai_data_shipper).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Name</td><td>Name must be a valid C symbol</td><td>g_rai_data_shipper0 </td><td>Module name </td></tr>
<tr class="tree_none">
<td>Frame Rate Divider</td><td>Value must be non-negative</td><td>0 </td><td>Skip write requests </td></tr>
<tr class="tree_none">
<td>Callback</td><td>Name must be a valid C symbol</td><td>rai_data_shipper0_callback </td><td>A user callback function on data sent or error. </td></tr>
</table>
</p>
<h2><a class="anchor" id="rm-rai-data-shipper-clock-configuration"></a>
Clock Configuration</h2>
<p>This module has no required clock configurations.</p>
<h2><a class="anchor" id="rm-rai-data-shipper-pin-configuration"></a>
Pin Configuration</h2>
<p>This module does not use I/O pins.</p>
<h2><a class="anchor" id="rm-rai-data-shipper-limitations"></a>
Limitations</h2>
<ol type="1">
<li>2-way communication hasn't been supported yet - data is always sent from device to host.</li>
<li>Users shall take care to avoid race condition in the case of multiple data collector instances.</li>
<li>To use RM COMMS USB PCDC with Full Speed mode and DMA, frame buffer length needs to be multiple of 2 when 8-bit channel is used.</li>
<li>To use RM COMMS USB PCDC with High Speed mode and DMA, frame buffer length needs to be multiple of 2 when 16-bit channel is used. If 8-bit channel is used, its frame buffer length needs to be a multiple of 4.</li>
<li>RAI Data Collector (snapshot mode) and RM COMMS USB PCDC must use different timers. They are independent of each other.</li>
</ol>
<h1><a class="anchor" id="rm-rai-data-shipper-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>This is a basic example of minimal use of the Data Shipper implementation in an application.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> RM_RAI_DATA_SHIPPER_example();</div><div class="line"><span class="keywordtype">void</span> data_shipper_callback(<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__callback__args__t">rai_data_shipper_callback_args_t</a> * p_args); </div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__cfg__t">rai_data_shipper_cfg_t</a> g_ds_cfg;</div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#structrai__data__shipper__instance__ctrl__t">rai_data_shipper_instance_ctrl_t</a> g_ds_ctrl;</div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___r_m___r_a_i___d_a_t_a___c_o_l_l_e_c_t_o_r.html#structrai__data__collector__instance__ctrl__t">rai_data_collector_instance_ctrl_t</a> g_dc_ctrl;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> g_exit = <span class="keyword">false</span>;                                          </div><div class="line"></div><div class="line"><span class="keyword">extern</span> <span class="keywordtype">bool</span> g_data_ready;                                            </div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___r_m___r_a_i___d_a_t_a___c_o_l_l_e_c_t_o_r___a_p_i.html#structrai__data__collector__callback__args__t">rai_data_collector_callback_args_t</a> g_data_ready_callback_arg; </div><div class="line"></div><div class="line"><span class="keywordtype">void</span> RM_RAI_DATA_SHIPPER_example ()</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err;</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga377222c8d097219e07209cead2239735">RM_RAI_DATA_SHIPPER_Open</a>(&amp;g_ds_ctrl, &amp;g_ds_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (!g_exit)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (g_data_ready)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__write__params__t">rai_data_shipper_write_params_t</a> g_write_params;</div><div class="line">            g_write_params.<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#aa318ce8faec7140f7466f570520efdc3">p_sensor_data</a> = &amp;g_data_ready_callback_arg;</div><div class="line"></div><div class="line">            <span class="comment">/* Application is responsible to initialize diagnostic information and events. */</span></div><div class="line"></div><div class="line">            <span class="comment">/* Application has no diagnostic information/events to report. */</span></div><div class="line">            g_write_params.<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#a0bb12a48126ff9d5d4ad80d41b957844">diagnostic_data_len</a> = 0;</div><div class="line">            g_write_params.<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#a661d79fdd89edbcb038af7f89a98bd64">events</a>              = 0;</div><div class="line">            g_write_params.<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#afbaa3a14227e366d2cde5638205a4381">p_diagnostic_data</a>   = NULL;</div><div class="line">            err = <a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga3eba066ed628818564367d27c319e567">RM_RAI_DATA_SHIPPER_Write</a>(&amp;g_ds_ctrl, &amp;g_write_params);</div><div class="line">            <span class="keywordflow">if</span> (FSP_SUCCESS != err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Please note callback won&#39;t be called on write error */</span></div><div class="line">                <span class="comment">/* Release data buffer only when data is no longer used by application. */</span></div><div class="line">                <a class="code" href="group___r_m___r_a_i___d_a_t_a___c_o_l_l_e_c_t_o_r.html#gace0a86245132ca58a6d68f574a52d213">RM_RAI_DATA_COLLECTOR_BufferRelease</a>(&amp;g_dc_ctrl);</div><div class="line">            }</div><div class="line"></div><div class="line">            g_data_ready = <span class="keyword">false</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga326872a65919a99e8cf8189316213784">RM_RAI_DATA_SHIPPER_Close</a>(&amp;g_ds_ctrl);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">/* Called when all sensor data are sent or there is an error */</span></div><div class="line"><span class="keywordtype">void</span> data_shipper_callback (<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__callback__args__t">rai_data_shipper_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (RM_COMMS_EVENT_ERROR == p_args-&gt;<a class="code" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#a499d47827151700c18ab5041f7d3158c">result</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Communication error */</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Release data buffer only when data is no longer used by application. */</span></div><div class="line">    <a class="code" href="group___r_m___r_a_i___d_a_t_a___c_o_l_l_e_c_t_o_r.html#gace0a86245132ca58a6d68f574a52d213">RM_RAI_DATA_COLLECTOR_BufferRelease</a>(&amp;g_dc_ctrl);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structrai__data__shipper__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#structrai__data__shipper__instance__ctrl__t">rai_data_shipper_instance_ctrl_t</a></td></tr>
<tr class="separator:structrai__data__shipper__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structrai__data__shipper__instance__ctrl__t" id="structrai__data__shipper__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrai__data__shipper__instance__ctrl__t">&#9670;&nbsp;</a></span>rai_data_shipper_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rai_data_shipper_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>RAI_DATA_SHIPPER instance control block. Initialization occurs when <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r.html#ga377222c8d097219e07209cead2239735">RM_RAI_DATA_SHIPPER_Open()</a> is called. </p>
</div>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga377222c8d097219e07209cead2239735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga377222c8d097219e07209cead2239735">&#9670;&nbsp;</a></span>RM_RAI_DATA_SHIPPER_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_RAI_DATA_SHIPPER_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__cfg__t">rai_data_shipper_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens and configures the Data Shipper module.</p>
<p>Implements <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#a3753c77f850cb92447bb10e630fa77b5">rai_data_shipper_api_t::open()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Data Shipper successfully configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Module already open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One or more pointers point to NULL or callback is NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or functions called by this function for other possible return codes. </dd></dl>

</div>
</div>
<a id="ga25d7a5448ca812d1bdcd9a66565ff3f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25d7a5448ca812d1bdcd9a66565ff3f7">&#9670;&nbsp;</a></span>RM_RAI_DATA_SHIPPER_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_RAI_DATA_SHIPPER_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>p_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *const&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read data.</p>
<p>Implements <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#acddaa6872b90ef9d8fc1a55008c23ab5">rai_data_shipper_api_t::read()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Data Shipper module read not supported </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3eba066ed628818564367d27c319e567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3eba066ed628818564367d27c319e567">&#9670;&nbsp;</a></span>RM_RAI_DATA_SHIPPER_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_RAI_DATA_SHIPPER_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#structrai__data__shipper__write__params__t">rai_data_shipper_write_params_t</a> const *&#160;</td>
          <td class="paramname"><em>p_write_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write data. Note this function may be called in ISR.</p>
<p>Implements <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ac156dc33bfc54576cc672d786c5ad92e">rai_data_shipper_api_t::write()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Tx buf list created and transmission starts, or write request skipped. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input parameter was invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga326872a65919a99e8cf8189316213784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga326872a65919a99e8cf8189316213784">&#9670;&nbsp;</a></span>RM_RAI_DATA_SHIPPER_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_RAI_DATA_SHIPPER_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#ga3d2cc9c99f7e68a973c2b64adb5d4949">rai_data_shipper_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes Data Shipper module instance.</p>
<p>Implements <a class="el" href="group___r_m___r_a_i___d_a_t_a___s_h_i_p_p_e_r___a_p_i.html#aca00c1abd4e0952c92c2b9c9f6d7265b">rai_data_shipper_api_t::close()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Data Shipper module closed. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input parameter was invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module not open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or functions called by this function for other possible return codes. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v6.1.0 User's Manual Copyright Â© (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
