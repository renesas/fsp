<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: Block Media SPI Flash (rm_block_media_spi)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show();
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
     });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v6.2.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">

    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text">
      </span>
      <span class="right">
          &nbsp;
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body.
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len));
            }
          }
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element.
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Block Media SPI Flash (rm_block_media_spi)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___s_t_o_r_a_g_e___m_o_d_u_l_e_s.html">Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga86e40e6a8ecc691e21a79bc75ddf3dda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga86e40e6a8ecc691e21a79bc75ddf3dda">RM_BLOCK_MEDIA_SPI_Open</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__cfg__t">rm_block_media_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga86e40e6a8ecc691e21a79bc75ddf3dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ab44ba79ac09ebc46362e1f3f463424"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga4ab44ba79ac09ebc46362e1f3f463424">RM_BLOCK_MEDIA_SPI_InfoGet</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__info__t">rm_block_media_info_t</a> *const p_info)</td></tr>
<tr class="separator:ga4ab44ba79ac09ebc46362e1f3f463424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7b8596789a2241257680fada1a754ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gaa7b8596789a2241257680fada1a754ae">RM_BLOCK_MEDIA_SPI_MediaInit</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:gaa7b8596789a2241257680fada1a754ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeab3e416ec8c5f687a3fb60d0749cad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gaeeab3e416ec8c5f687a3fb60d0749cad">RM_BLOCK_MEDIA_SPI_Read</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, uint8_t *const p_dest, uint32_t const start_block, uint32_t const num_blocks)</td></tr>
<tr class="separator:gaeeab3e416ec8c5f687a3fb60d0749cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e9a81ed2d8512775a738c8b536cf01f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga1e9a81ed2d8512775a738c8b536cf01f">RM_BLOCK_MEDIA_SPI_StatusGet</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__status__t">rm_block_media_status_t</a> *const p_status)</td></tr>
<tr class="separator:ga1e9a81ed2d8512775a738c8b536cf01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31db1ae9ccffb90a6ce5fb64474e994a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga31db1ae9ccffb90a6ce5fb64474e994a">RM_BLOCK_MEDIA_SPI_Write</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, uint8_t const *const p_src, uint32_t const start_block, uint32_t const num_blocks)</td></tr>
<tr class="separator:ga31db1ae9ccffb90a6ce5fb64474e994a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec15327b2528c02b561e012ea843503b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gaec15327b2528c02b561e012ea843503b">RM_BLOCK_MEDIA_SPI_CallbackSet</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, void(*p_callback)(<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__callback__args__t">rm_block_media_callback_args_t</a> *), void *const p_context, <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__callback__args__t">rm_block_media_callback_args_t</a> *const p_callback_memory)</td></tr>
<tr class="separator:gaec15327b2528c02b561e012ea843503b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacecb9e2f74c2e98b8d99d9057a8461e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gacecb9e2f74c2e98b8d99d9057a8461e3">RM_BLOCK_MEDIA_SPI_Close</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl)</td></tr>
<tr class="separator:gacecb9e2f74c2e98b8d99d9057a8461e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eca20ba14ebc8ec583c1c545c9c9938"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga0eca20ba14ebc8ec583c1c545c9c9938">RM_BLOCK_MEDIA_SPI_Erase</a> (<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const p_ctrl, uint32_t const start_block, uint32_t const num_blocks)</td></tr>
<tr class="separator:ga0eca20ba14ebc8ec583c1c545c9c9938"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Middleware to implement the block media interface on SPI flash memory. This module implements the <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html">Block Media Interface</a>. </p>
<h1><a class="anchor" id="rm-block-media-spi-overview"></a>
Overview</h1>
<h2><a class="anchor" id="rm-block-media-spi-features"></a>
Features</h2>
<p>The SPI implementation of the block media interface has the following key features:</p><ul>
<li>Reading, writing, and erasing data from SPI flash memory<a class="anchor" id="um_rm_block_media_read"></a><a class="anchor" id="um_rm_block_media_write"></a><a class="anchor" id="um_rm_block_media_erase"></a></li>
<li>Provides media information such as sector size and total number of sectors.<a class="anchor" id="um_rm_block_media_info"></a> <dl class="section note"><dt>Note</dt><dd>By default, Block Media SPI Read, Write, and Erase are blocking operations. Non-blocking operation may be achieved by yielding control within the optional callback function.</dd></dl>
</li>
</ul>
<h1><a class="anchor" id="rm-block-media-spi-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for rm_block_media_spi</h2>
The following build time configurations are defined in driver/rm_block_media_spi_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected, code for parameter checking is included in the build </td></tr>
</table>
 <h2>Configurations for Storage &gt; Block Media SPI Flash (rm_block_media_spi)</h2>
This module can be added to the Stacks tab via New Stack &gt; Storage &gt; Block Media SPI Flash (rm_block_media_spi).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Module Instance Name</td><td>Name must be a valid C symbol</td><td>g_rm_block_media0 </td><td>Module name </td></tr>
<tr class="tree_none">
<td>Block size (bytes)</td><td>Manual Entry</td><td>4096 </td><td>Specify the size of a block in bytes. </td></tr>
<tr class="tree_none">
<td>Block count</td><td>Minimum block count is 1, maximum is defined by hardware and software design.</td><td>8192 </td><td>Number of blocks available for use by this driver instance. </td></tr>
<tr class="tree_none">
<td>Base Address</td><td>Manual Entry</td><td>0 </td><td>Base address offset (bytes) for instance memory region. </td></tr>
<tr class="tree_none">
<td>Callback Function</td><td>Name must be a valid C symbol</td><td>NULL </td><td>A user callback function can be provided. If this callback is provided, it will be called after the completion of Read, Write, and Erase operations, or anytime these functions are waiting on hardware. </td></tr>
</table>
</p>
<h2><a class="anchor" id="rm-block-media-spi-clock-configuration"></a>
Clock Configuration</h2>
<p>This module has no required clock configurations.</p>
<h2><a class="anchor" id="rm-block-media-spi-pin-configuration"></a>
Pin Configuration</h2>
<p>This module does not use I/O pins.</p>
<h2><a class="anchor" id="rm-block-media-spi-limitations"></a>
Limitations</h2>
<p>Developers should be aware of the following limitations when using RM_BLOCK_MEDIA_SPI:</p><ul>
<li>Getting and setting Block Protection or Advanced Sector Protection modes is not supported.</li>
<li>Addressing QSPI memory address ranges greater than 64 MB (one bank) is not supported.</li>
</ul>
<h1><a class="anchor" id="rm-block-media-spi-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>This is a basic example of minimal use of the SPI block media implementation in an application.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define RM_BLOCK_MEDIA_SPI_BLOCK_SIZE    (256U)</span></div><div class="line"></div><div class="line">uint8_t g_dest[RM_BLOCK_MEDIA_SPI_BLOCK_SIZE] BSP_ALIGN_VARIABLE(4);</div><div class="line">uint8_t g_src[RM_BLOCK_MEDIA_SPI_BLOCK_SIZE]  BSP_ALIGN_VARIABLE(4);</div><div class="line"><span class="keywordtype">void</span> rm_block_media_spi_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Initialize g_src to known data */</span></div><div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; RM_BLOCK_MEDIA_SPI_BLOCK_SIZE; i++)</div><div class="line">    {</div><div class="line">        g_src[i] = (uint8_t) (<span class="charliteral">&#39;A&#39;</span> + (i % 26));</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Open the RM_BLOCK_MEDIA_SPI driver. */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga86e40e6a8ecc691e21a79bc75ddf3dda">RM_BLOCK_MEDIA_SPI_Open</a>(&amp;g_rm_block_media0_ctrl, &amp;g_rm_block_media0_cfg);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Initialize the SPI flash memory. */</span></div><div class="line">    err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gaa7b8596789a2241257680fada1a754ae">RM_BLOCK_MEDIA_SPI_MediaInit</a>(&amp;g_rm_block_media0_ctrl);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Write a block of data to block 3 of the SPI flash memory. */</span></div><div class="line">    err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga31db1ae9ccffb90a6ce5fb64474e994a">RM_BLOCK_MEDIA_SPI_Write</a>(&amp;g_rm_block_media0_ctrl, g_src, 3, 1);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Read a block of data from block 3 of the SPI flash memory. */</span></div><div class="line">    err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gaeeab3e416ec8c5f687a3fb60d0749cad">RM_BLOCK_MEDIA_SPI_Read</a>(&amp;g_rm_block_media0_ctrl, g_dest, 3, 1);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Non-Blocking Example</h2>
<p>This is a basic example of using the optional SPI callback to implement non-blocking operation.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define RM_BLOCK_MEDIA_EXAMPLE_DEVICE_BLOCK_COUNT    0x1000</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> rm_block_media_spi_non_blocking_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Initialize g_src to known data */</span></div><div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; RM_BLOCK_MEDIA_SPI_BLOCK_SIZE; i++)</div><div class="line">    {</div><div class="line">        g_src[i] = (uint8_t) (<span class="charliteral">&#39;A&#39;</span> + (i % 26));</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Open the RM_BLOCK_MEDIA_SPI driver. This enables the card detection interrupt. */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga86e40e6a8ecc691e21a79bc75ddf3dda">RM_BLOCK_MEDIA_SPI_Open</a>(&amp;g_rm_block_media0_ctrl, &amp;g_rm_block_media0_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Initialize the Block Media SPI driver. */</span></div><div class="line">    err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#gaa7b8596789a2241257680fada1a754ae">RM_BLOCK_MEDIA_SPI_MediaInit</a>(&amp;g_rm_block_media0_ctrl);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Erase a large quantity of data from SPI Flash Memory */</span></div><div class="line">    err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga0eca20ba14ebc8ec583c1c545c9c9938">RM_BLOCK_MEDIA_SPI_Erase</a>(&amp;g_rm_block_media0_ctrl, 0, RM_BLOCK_MEDIA_EXAMPLE_DEVICE_BLOCK_COUNT);</div><div class="line"></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">/* The optional callback is invoked for Read, Write, and Erase operations, whenever the operation completes or has</span></div><div class="line"><span class="comment"> * been blocked by the lower level SPI driver busy indication.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keywordtype">void</span> rm_block_media_spi_example_callback (<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__callback__args__t">rm_block_media_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ggaa3f328da3b53e36f2682f63d0ae1c96ca5150a4a6be559ecc22ce94d509af55e3">RM_BLOCK_MEDIA_EVENT_OPERATION_COMPLETE</a> == p_args-&gt;<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#aa13fc0ea05379836574c850687293ade">event</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Process operation complete. */</span></div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ggaa3f328da3b53e36f2682f63d0ae1c96cad5d83659edff4f48bfda6d323aaed3e9">RM_BLOCK_MEDIA_EVENT_POLL_STATUS</a> == p_args-&gt;<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#aa13fc0ea05379836574c850687293ade">event</a>)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__status__t">rm_block_media_status_t</a> status;</div><div class="line">        <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> * p_ctrl = (<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *) p_args-&gt;<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a925d333afc8edf119d0c03cdd447163e">p_context</a>;</div><div class="line"></div><div class="line">        <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___s_p_i.html#ga1e9a81ed2d8512775a738c8b536cf01f">RM_BLOCK_MEDIA_SPI_StatusGet</a>(p_ctrl, &amp;status);</div><div class="line"></div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (<span class="keyword">true</span> == status.<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a3a4e62883ff430e1e9a1fbd940116697">busy</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Run waiting tasks */</span></div><div class="line">            vTaskSuspend(xTaskGetCurrentTaskHandle());</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        assert(<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ggaa3f328da3b53e36f2682f63d0ae1c96ca1b08744b324298474f730a66fb9a8d44">RM_BLOCK_MEDIA_EVENT_ERROR</a> == p_args-&gt;<a class="code" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#aa13fc0ea05379836574c850687293ade">event</a>);</div><div class="line"></div><div class="line">        <span class="comment">/* Process Read, Write, or Erase error. */</span></div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><h2 class="groupheader">Function Documentation</h2>
<a id="ga86e40e6a8ecc691e21a79bc75ddf3dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86e40e6a8ecc691e21a79bc75ddf3dda">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__cfg__t">rm_block_media_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parameter checking and Acquires mutex, then handles driver initialization at the HAL SPI layer and marking the open flag in control block.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a525d6c999d2fc7e5e04b186d50423cd1">rm_block_media_api_t::open</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Block media for SPI framework is successfully opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One of the input parameters or their data references may be null. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>The channel specified has already been opened. See HAL driver for other possible causes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or HAL driver for other possible return codes or causes. This function calls<ul>
<li><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a75a4468493abb92f6bf484ed93718f6f">spi_flash_api_t::open</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga4ab44ba79ac09ebc46362e1f3f463424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ab44ba79ac09ebc46362e1f3f463424">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_InfoGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_InfoGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__info__t">rm_block_media_info_t</a> *const&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves module information.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a031bb4fa56552052a1c361edfb7072cf">rm_block_media_api_t::infoGet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Erase operation requested. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input parameter is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>Module has not been initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa7b8596789a2241257680fada1a754ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7b8596789a2241257680fada1a754ae">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_MediaInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_MediaInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the Block Media SPI Flash device.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a5aa622a8eca72b3722138b467be0d436">rm_block_media_api_t::mediaInit</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Module is initialized and ready to access the memory device. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input parameter is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaeeab3e416ec8c5f687a3fb60d0749cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeeab3e416ec8c5f687a3fb60d0749cad">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>start_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>num_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a number of blocks from spi flash memory. By default, this is a function is blocking. Non-blocking operation may be achieved by yielding control within the optional callback function.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a5c9c1b20f8ae1d95defa766a757d031a">rm_block_media_api_t::read</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>SPI data read successfully </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_ctrl or p_dest is NULL, or num_blocks is zero </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Block Media SPI module is not yet open </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ADDRESS</td><td>Invalid address range for read operation </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>Block Media SPI module is not yet initialized </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1e9a81ed2d8512775a738c8b536cf01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e9a81ed2d8512775a738c8b536cf01f">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_StatusGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_StatusGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__status__t">rm_block_media_status_t</a> *const&#160;</td>
          <td class="paramname"><em>p_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides driver status.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a802c5b072fad72944fc03c14a9bbca4e">rm_block_media_api_t::statusGet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Status stored in p_status. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>NULL pointer. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or HAL driver for other possible return codes or causes. This function calls<ul>
<li><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a36600006109effd5c9d47283a7760ce6">spi_flash_api_t::statusGet</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga31db1ae9ccffb90a6ce5fb64474e994a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31db1ae9ccffb90a6ce5fb64474e994a">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *const&#160;</td>
          <td class="paramname"><em>p_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>start_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>num_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes provided data to a number of blocks of spi flash memory. By default, this is a function is blocking. Non-blocking operation may be achieved by yielding control within the optional callback function.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a108ef8243422a2ed8b3bea6cb67dbb6a">rm_block_media_api_t::write</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Flash write finished successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_ctrl or p_src is NULL. Or num_blocks is zero. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Block media SPI Framework module is not yet initialized. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ADDRESS</td><td>Invalid address range </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>Block Media SPI module is not yet initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or HAL driver for other possible return codes or causes. This function calls<ul>
<li><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a35480fe077054fff8bd41c67dbce88fb">spi_flash_api_t::write</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaec15327b2528c02b561e012ea843503b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec15327b2528c02b561e012ea843503b">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_CallbackSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_CallbackSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__callback__args__t">rm_block_media_callback_args_t</a> *)&#160;</td>
          <td class="paramname"><em>p_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#structrm__block__media__callback__args__t">rm_block_media_callback_args_t</a> *const&#160;</td>
          <td class="paramname"><em>p_callback_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the user callback with the option to provide memory for the callback argument structure. API not supported.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ad57b54039d47e3f0173ff38809d30591">rm_block_media_api_t::callbackSet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by RM_BLOCK_MEDIA_SPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacecb9e2f74c2e98b8d99d9057a8461e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacecb9e2f74c2e98b8d99d9057a8461e3">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the Block Media SPI device. Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ad116017606d47877fcc2dae3517f2f6e">rm_block_media_api_t::close</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successful close. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One of the following parameters may be null: p_ctrl. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Block media SPI Framework module is not yet initialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or HAL driver for other possible return codes or causes. This function calls<ul>
<li><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a28bdae798428b85222739a0b9fd43a15">spi_flash_api_t::close</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga0eca20ba14ebc8ec583c1c545c9c9938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0eca20ba14ebc8ec583c1c545c9c9938">&#9670;&nbsp;</a></span>RM_BLOCK_MEDIA_SPI_Erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_BLOCK_MEDIA_SPI_Erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#ga19bc09de5e45b09066d0bddcc46956b0">rm_block_media_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>start_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>num_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function erases blocks of the SPI device. By default, this is a function is blocking. Non-blocking operation may be achieved by yielding control within the optional callback function.</p>
<p>Implements <a class="el" href="group___r_m___b_l_o_c_k___m_e_d_i_a___a_p_i.html#a108bacf3e0522dd84e1121785eaf8f87">rm_block_media_api_t::erase</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Erase operation requested. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input parameter is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>Module has not been initialized. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ADDRESS</td><td>Invalid address range</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or functions called by this function for other possible return codes. This function calls:<ul>
<li><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a4fb48ee9af80243cf7f8f966b4c6c56e">spi_flash_api_t::erase</a></li>
<li><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a36600006109effd5c9d47283a7760ce6">spi_flash_api_t::statusGet</a> </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v6.2.0 User's Manual Copyright © (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
