<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: ZMOD4XXX Gas Sensor (rm_zmod4xxx)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function() {
        $("tr.tree_lvl_1").nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
		$("tr.tree_lvl_1").data("expanded","0");
		$("tr.tree_lvl_2").data("expanded","0");
		$("tr.tree_lvl_3").data("expanded","0");
		$("tr.tree_lvl_4").data("expanded","0");
		$("tr.tree_lvl_5").data("expanded","0");
        $("tr.tree_lvl_1").click(function() {
		    var lvl_1_is_open = $(this).data("expanded");
		    if (lvl_1_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2, tr.tree_lvl_1_item").show(); 
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed"); 
				$(this).nextUntil("tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_2,tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        }); 
		$("tr.tree_lvl_2").click(function() {
		    var lvl_2_is_open = $(this).data("expanded");
		    if (lvl_2_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3, tr.tree_lvl_2_item").show(); 
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();                
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_3,tr.tree_lvl_4,tr.tree_lvl_5").data("expanded","0");
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_3").click(function() {
		    var lvl_3_is_open = $(this).data("expanded");
		    if (lvl_3_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_3_item").show(); 
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).nextUntil("tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_4, tr.tree_lvl_5").data("expanded","0");				
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        });
		$("tr.tree_lvl_4").click(function() {
		    var lvl_4_is_open = $(this).data("expanded");
		    if (lvl_4_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5, tr.tree_lvl_4_item").show(); 
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();
                $(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");	
				$(this).nextUntil("tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5").data("expanded","0");				
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        }); 
		$("tr.tree_lvl_5").click(function() {
		    var lvl_5_is_open = $(this).data("expanded");
		    if (lvl_5_is_open == "0") {
                $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4,tr.tree_lvl_3,tr.tree_lvl_2,tr.tree_lvl_1,tr.tree_none", "tr.tree_lvl_5_item").show(); 
                $(this).find("span").removeClass("chevron-collapsed").addClass("chevron-expanded");
				$(this).data("expanded","1");
			} else {
			    $(this).nextUntil("tr.tree_lvl_5,tr.tree_lvl_4_item,tr.tree_lvl_4,tr.tree_lvl_3_item,tr.tree_lvl_3,tr.tree_lvl_2_item,tr.tree_lvl_2,tr.tree_lvl_1_item,tr.tree_lvl_1,tr.tree_none").hide();                
				$(this).find("span").removeClass("chevron-expanded").addClass("chevron-collapsed");
				$(this).data("expanded","0");
			    }
        }); 
     }); 
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v5.9.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">
 
    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text"> 
      </span>
      <span class="right">
          &nbsp; 
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_m___z_m_o_d4_x_x_x.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() { 
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body. 
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works 
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len)); 
            }
          } 
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }    
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element. 
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;  
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">ZMOD4XXX Gas Sensor (rm_zmod4xxx)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___s_e_n_s_o_r___m_o_d_u_l_e_s.html">Sensor</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2d4f33091a3b32dc0bda323c24a4eb15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__cfg__t">rm_zmod4xxx_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="memdesc:ga2d4f33091a3b32dc0bda323c24a4eb15"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when start a measurement and when measurement data is stale data. Sends the slave address to the zmod4xxx and start a measurement. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a9839a07b96c79990f08d8720890e8da8">rm_zmod4xxx_api_t::open</a>.  <a href="#ga2d4f33091a3b32dc0bda323c24a4eb15">More...</a><br /></td></tr>
<tr class="separator:ga2d4f33091a3b32dc0bda323c24a4eb15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga564266f1fd972d2a4b0d607925a8be48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga564266f1fd972d2a4b0d607925a8be48">RM_ZMOD4XXX_Close</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:ga564266f1fd972d2a4b0d607925a8be48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when close the sensor. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a8858935263e54d095b16b998cebcf40d">rm_zmod4xxx_api_t::close</a>.  <a href="#ga564266f1fd972d2a4b0d607925a8be48">More...</a><br /></td></tr>
<tr class="separator:ga564266f1fd972d2a4b0d607925a8be48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21bde6c18d166c38790d044a3325d7b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:ga21bde6c18d166c38790d044a3325d7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when start a measurement. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a47041454b1b699ca178a5156c6a79aac">rm_zmod4xxx_api_t::measurementStart</a>.  <a href="#ga21bde6c18d166c38790d044a3325d7b9">More...</a><br /></td></tr>
<tr class="separator:ga21bde6c18d166c38790d044a3325d7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a9e4762c544db1dc924fdff62bf9cc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga1a9e4762c544db1dc924fdff62bf9cc7">RM_ZMOD4XXX_MeasurementStop</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:ga1a9e4762c544db1dc924fdff62bf9cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when stop a measurement. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#abcdce084970e22641ee7151ae45ecee7">rm_zmod4xxx_api_t::measurementStop</a>.  <a href="#ga1a9e4762c544db1dc924fdff62bf9cc7">More...</a><br /></td></tr>
<tr class="separator:ga1a9e4762c544db1dc924fdff62bf9cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad8d1b8d7b71762b60c6078f9059bf1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:gaad8d1b8d7b71762b60c6078f9059bf1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when polling is used. It reads the status of sensor. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#aa00282b7e3e0551c96618e19b7b1ee4b">rm_zmod4xxx_api_t::statusCheck</a>.  <a href="#gaad8d1b8d7b71762b60c6078f9059bf1d">More...</a><br /></td></tr>
<tr class="separator:gaad8d1b8d7b71762b60c6078f9059bf1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafabd01cfcb93ac2bcdc4378dc94ec804"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data)</td></tr>
<tr class="memdesc:gafabd01cfcb93ac2bcdc4378dc94ec804"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a25a326294be7c8d65f6918ba532fb09f">rm_zmod4xxx_api_t::read</a>.  <a href="#gafabd01cfcb93ac2bcdc4378dc94ec804">More...</a><br /></td></tr>
<tr class="separator:gafabd01cfcb93ac2bcdc4378dc94ec804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ee9369b728a5687fcc637114b563875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga3ee9369b728a5687fcc637114b563875">RM_ZMOD4XXX_Iaq1stGenDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__1st__data__t">rm_zmod4xxx_iaq_1st_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:ga3ee9369b728a5687fcc637114b563875"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a84760f27fa7ca93259cf43597772c781">rm_zmod4xxx_api_t::iaq1stGenDataCalculate</a>.  <a href="#ga3ee9369b728a5687fcc637114b563875">More...</a><br /></td></tr>
<tr class="separator:ga3ee9369b728a5687fcc637114b563875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2b8de7170ff85a0f991dfdb6fb71317"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaa2b8de7170ff85a0f991dfdb6fb71317">RM_ZMOD4XXX_Iaq2ndGenDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__2nd__data__t">rm_zmod4xxx_iaq_2nd_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:gaa2b8de7170ff85a0f991dfdb6fb71317"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a88ffe068c172b8719782357b16cbe937">rm_zmod4xxx_api_t::iaq2ndGenDataCalculate</a>.  <a href="#gaa2b8de7170ff85a0f991dfdb6fb71317">More...</a><br /></td></tr>
<tr class="separator:gaa2b8de7170ff85a0f991dfdb6fb71317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed61c1d9714552e574a4e6037d926180"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaed61c1d9714552e574a4e6037d926180">RM_ZMOD4XXX_OdorDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__odor__data__t">rm_zmod4xxx_odor_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:gaed61c1d9714552e574a4e6037d926180"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a92c5b2fd0fba637202780d8423b170dc">rm_zmod4xxx_api_t::odorDataCalculate</a>.  <a href="#gaed61c1d9714552e574a4e6037d926180">More...</a><br /></td></tr>
<tr class="separator:gaed61c1d9714552e574a4e6037d926180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf200a9dc7ca8bf0601c2a2b96c341ecf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaf200a9dc7ca8bf0601c2a2b96c341ecf">RM_ZMOD4XXX_SulfurOdorDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__sulfur__odor__data__t">rm_zmod4xxx_sulfur_odor_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:gaf200a9dc7ca8bf0601c2a2b96c341ecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#af8d15ec491a454d5d120f21aa41e8f9f">rm_zmod4xxx_api_t::sulfurOdorDataCalculate</a>.  <a href="#gaf200a9dc7ca8bf0601c2a2b96c341ecf">More...</a><br /></td></tr>
<tr class="separator:gaf200a9dc7ca8bf0601c2a2b96c341ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeafe7943df31f237ac45310796df64b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaeafe7943df31f237ac45310796df64b2">RM_ZMOD4XXX_Oaq1stGenDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__oaq__1st__data__t">rm_zmod4xxx_oaq_1st_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:gaeafe7943df31f237ac45310796df64b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a49bdc7ca88b2859fd18b3d33890d32bd">rm_zmod4xxx_api_t::oaq1stGenDataCalculate</a>.  <a href="#gaeafe7943df31f237ac45310796df64b2">More...</a><br /></td></tr>
<tr class="separator:gaeafe7943df31f237ac45310796df64b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dcfe9a7b0b9419f1ecfce5d82c3fc33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga8dcfe9a7b0b9419f1ecfce5d82c3fc33">RM_ZMOD4XXX_Oaq2ndGenDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__oaq__2nd__data__t">rm_zmod4xxx_oaq_2nd_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:ga8dcfe9a7b0b9419f1ecfce5d82c3fc33"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ae56592403602103a28a5d1e13d6dec03">rm_zmod4xxx_api_t::oaq2ndGenDataCalculate</a>.  <a href="#ga8dcfe9a7b0b9419f1ecfce5d82c3fc33">More...</a><br /></td></tr>
<tr class="separator:ga8dcfe9a7b0b9419f1ecfce5d82c3fc33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaee5fde2afbb40e28f40b1de50daf45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gadaee5fde2afbb40e28f40b1de50daf45">RM_ZMOD4XXX_RaqDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raq__data__t">rm_zmod4xxx_raq_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:gadaee5fde2afbb40e28f40b1de50daf45"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a557c09febce20b7bd5e1e7418d760f9a">rm_zmod4xxx_api_t::raqDataCalculate</a>.  <a href="#gadaee5fde2afbb40e28f40b1de50daf45">More...</a><br /></td></tr>
<tr class="separator:gadaee5fde2afbb40e28f40b1de50daf45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88a9173f1eb50d4c2f7ca7b310c98957"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga88a9173f1eb50d4c2f7ca7b310c98957">RM_ZMOD4XXX_RelIaqDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__rel__iaq__data__t">rm_zmod4xxx_rel_iaq_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:ga88a9173f1eb50d4c2f7ca7b310c98957"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a417eb9005c2cabc805e5176bd409b838">rm_zmod4xxx_api_t::relIaqDataCalculate</a>.  <a href="#ga88a9173f1eb50d4c2f7ca7b310c98957">More...</a><br /></td></tr>
<tr class="separator:ga88a9173f1eb50d4c2f7ca7b310c98957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c5aac5f58a3e8053557d02e3e781f3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga0c5aac5f58a3e8053557d02e3e781f3b">RM_ZMOD4XXX_PbaqDataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__pbaq__data__t">rm_zmod4xxx_pbaq_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:ga0c5aac5f58a3e8053557d02e3e781f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a32c2fe41b4db79301c8a1b294809a25d">rm_zmod4xxx_api_t::pbaqDataCalculate</a>.  <a href="#ga0c5aac5f58a3e8053557d02e3e781f3b">More...</a><br /></td></tr>
<tr class="separator:ga0c5aac5f58a3e8053557d02e3e781f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac519d673353c988ae2af67b0db274045"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gac519d673353c988ae2af67b0db274045">RM_ZMOD4XXX_No2O3DataCalculate</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const p_raw_data, <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__no2__o3__data__t">rm_zmod4xxx_no2_o3_data_t</a> *const p_zmod4xxx_data)</td></tr>
<tr class="memdesc:gac519d673353c988ae2af67b0db274045"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#af901e053d4de7823c96984f1832d9968">rm_zmod4xxx_api_t::no2O3DataCalculate</a>.  <a href="#gac519d673353c988ae2af67b0db274045">More...</a><br /></td></tr>
<tr class="separator:gac519d673353c988ae2af67b0db274045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a2febec625f864dff4c7ea5c49d7808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga2a2febec625f864dff4c7ea5c49d7808">RM_ZMOD4XXX_CompensationInfoSet</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__compensation__info__t">rm_zmod4xxx_compensation_info_t</a> const *const p_compensation_info)</td></tr>
<tr class="memdesc:ga2a2febec625f864dff4c7ea5c49d7808"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function should be called when setting the compensation info from ZMOD4510 device for the ZMOD4410 device and when the ZMOD4510 for oxidizing gas correction option is enabled. After reading the raw data from the ZMOD4510 device, set the compensation info for the ZMOD4410 to begin calculating the compensation data.  <a href="#ga2a2febec625f864dff4c7ea5c49d7808">More...</a><br /></td></tr>
<tr class="separator:ga2a2febec625f864dff4c7ea5c49d7808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a6c9c9dcb25bc3964b07ed7fe002477"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl, float temperature, float humidity)</td></tr>
<tr class="memdesc:ga5a6c9c9dcb25bc3964b07ed7fe002477"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is valid only for OAQ_2nd_Gen and IAQ_2nd_Gen_ULP. This function should be called before DataCalculate. Humidity and temperature measurements are needed for ambient compensation. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a1240e62119dd4d148dd4ec393e234447">rm_zmod4xxx_api_t::temperatureAndHumiditySet</a>.  <a href="#ga5a6c9c9dcb25bc3964b07ed7fe002477">More...</a><br /></td></tr>
<tr class="separator:ga5a6c9c9dcb25bc3964b07ed7fe002477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac455a0f48d2eb704341bd83bb37fff94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a> (<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="memdesc:gac455a0f48d2eb704341bd83bb37fff94"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is valid only for IAQ_2nd_Gen and IAQ_2nd_Gen_ULP. This function should be called before Read and DataCalculate. Check for unexpected reset occurs or getting unvalid ADC data. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a96bea17094f7a5933ab13d77d7d86699">rm_zmod4xxx_api_t::deviceErrorCheck</a>.  <a href="#gac455a0f48d2eb704341bd83bb37fff94">More...</a><br /></td></tr>
<tr class="separator:gac455a0f48d2eb704341bd83bb37fff94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Middleware to implement the ZMOD4XXX sensor interface. This module implements the <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html">ZMOD4XXX Middleware Interface</a>. </p>
<h1><a class="anchor" id="rm-zmod4xxx-overview"></a>
Overview</h1>
<p><span style="color: red; ">The following measurement modes are EOL.</span></p><ul>
<li>ZMOD4410 Odor</li>
<li>ZMOD4510 OAQ 1st Generation</li>
</ul>
<p>This module provides an API for configuring and controlling the ZMOD4XXX sensor. Supported ZMOD4XXX sensors are below.</p><ul>
<li>ZMOD4410</li>
<li>ZMOD4450</li>
<li>ZMOD4510</li>
</ul>
<p>I2C communication with the ZMOD4XXX sensor is realized by connecting with the rm_comms_i2c module.</p>
<h2><a class="anchor" id="rm-zmod4xxx-features"></a>
Features</h2>
<p>The ZMOD4XXX sensor interface implementation has the following key features:</p><ul>
<li>Initialize the sensor for measurement</li>
<li>Start a measurement at any time<a class="anchor" id="um_rm_zmod4xxx_measurementstart"></a></li>
<li>Read status register for wait until the measurement is done. This will also be signaled by an interrupt</li>
<li>Get the ADC data from the sensor<a class="anchor" id="um_rm_zmod4xxx_read"></a></li>
<li>Input the ADC data and acquire the air quality values by calculation in the library.</li>
</ul>
<h1><a class="anchor" id="rm-zmod4xxx-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for rm_zmod4xxx</h2>
The following build time configurations are defined in fsp_cfg/rm_zmod4xxx_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
</table>
 <h2>Configurations for Sensor &gt; ZMOD4XXX Gas Sensor (rm_zmod4xxx)</h2>
This module can be added to the Stacks tab via New Stack &gt; Sensor &gt; ZMOD4XXX Gas Sensor (rm_zmod4xxx).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr class="tree_none">
<td>Name</td><td>Name must be a valid C symbol</td><td>g_zmod4xxx_sensor0 </td><td>Module name. </td></tr>
<tr class="tree_none">
<td>Comms I2C Callback</td><td>Name must be a valid C symbol</td><td>zmod4xxx_comms_i2c_callback </td><td>A user COMMS I2C callback function can be provided. </td></tr>
<tr class="tree_none">
<td>IRQ Callback</td><td>Name must be a valid C symbol</td><td>zmod4xxx_irq_callback </td><td>A user IRQ callback function can be provided. </td></tr>
</table>
</p>
<h2><a class="anchor" id="rm-zmod4xxx-pin-configuration"></a>
Pin Configuration</h2>
<p>This module use SDA and SCL pins of I2C Master and SCI I2C.</p>
<h1><a class="anchor" id="rm-zmod4xxx-usage_notes"></a>
Usage Notes</h1>
<p><a href="https://www.renesas.com/document/dst/zmod4410-datasheet">ZMOD4410 datasheet is here. </a> <br />
 The ZMOD4410 has five modes of operation.<br />
The ZMOD4410 will respond to TVOC immediately upon start-up; however, a conditioning period of 48 hours followed by a sensor module restart in an ambient environment is recommended to improve stability and obtain maximum performance. <br />
Best results are achieved with continuous operation because the module algorithm can learn about the environment over time. </p><table class="doxtable">
<tr>
<th>Method </th><th>Description  </th></tr>
<tr>
<td>IAQ 1st Generation Continuous </td><td>Measurement of UBA levels for IAQ and eCO2, provides continuous data </td></tr>
<tr>
<td>IAQ 1st Generation Low Power </td><td>Measurement of UBA levels for IAQ and eCO2, fixed sampling interval of 6 seconds </td></tr>
<tr>
<td>IAQ 2nd Generation </td><td>Using AI for improved ppm TVOC, IAQ and eCO2 functionality (recommended for new designs) </td></tr>
<tr>
<td>IAQ 2nd Generation Ultra Low Power </td><td>Using AI for improved ppm TVOC, IAQ and eCO2 functionality. This method offers a much lower power consumption </td></tr>
<tr>
<td>Relative IAQ </td><td>Lightweight algorithm reacts to air quality changes and outputs a relative IAQ </td></tr>
<tr>
<td>Relative IAQ Ultra Low Power </td><td>Lightweight algorithm reacts to air quality changes and outputs a relative IAQ. This method offers a much lower power consumption </td></tr>
<tr>
<td>Public Building AQ Standard (PBAQ) </td><td>For highly accurate and consistent sensor readings to fulfill public building standards. </td></tr>
<tr>
<td>Odor </td><td>Control signal based on Air Quality Changes </td></tr>
<tr>
<td>Sulfur-based Odor Discrimination </td><td>The odors in “sulfur” (sulfur based) and “acceptable” (organic based) and shows an intensity level of the smell </td></tr>
</table>
<p><a href="https://www.renesas.com/document/dst/zmod4450-datasheet">ZMOD4450 datasheet is here. </a> <br />
 The ZMOD4450 has one modes of operation.<br />
The response time for a gas stimulation is always within a few seconds, depending on the gas and its concentration. An active or direct airflow onto the sensor module is not necessary since diffusion of ambient gas does not limit the sensor module response time. The ZMOD4450 will respond to typical refrigeration gases immediate upon start-up; however, a conditioning period of 48 hours in a refrigeration environment is recommended to improve stability and get maximum performance, as the module algorithm is able to learn about the refrigeration environment over time. </p><table class="doxtable">
<tr>
<th>Method </th><th>Description  </th></tr>
<tr>
<td>RAQ </td><td>Control signal based on Refrigerator Air Quality Changes </td></tr>
</table>
<p><a href="https://www.renesas.com/document/dst/zmod4510-datasheet">ZMOD4510 datasheet is here. </a> <br />
 The ZMOD4510 has two modes of operation.<br />
The ZMOD4510 in OAQ 1st Gen operation will respond to typical outdoor gases after a warm-up time of 60 min, consisting of 20 min for stabilization and 40 min for baseline finding. <br />
For OAQ 2nd Gen operation a response to ozone will be seen after a warmup time of 30 min. <br />
For NO2 O3 operation a response to nitrogen_dioxide and ozone will be seen after a warmup time of 5 min. <br />
For Compensation for oxidizing gases ULP option operation a response to ozone will be seen after a warmup time of 30 min. <br />
For Compensation for oxidizing gases option operation a response to nitrogen_dioxide and ozone will be seen after a warmup time of 5 min. <br />
In all operation modes a conditioning period of 48 hours followed by a sensor module restart in an ambient environment is recommended to improve stability and obtain maximum performance. </p><table class="doxtable">
<tr>
<th>Method </th><th>Description  </th></tr>
<tr>
<td>OAQ 1st Generation </td><td>Measurement of Air Quality </td></tr>
<tr>
<td>OAQ 2nd Generation </td><td>Selective Ozone featuring Ultra-Low Power </td></tr>
<tr>
<td>NO2 O3 </td><td>Selective nitrogen dioxide and ozone firmware </td></tr>
<tr>
<td>Compensation for oxidizing gases option </td><td>Measurement of compensation data for IAQ 2nd Gen, PBAQ </td></tr>
<tr>
<td>Compensation for oxidizing gases option ULP </td><td>Measurement of compensation data for IAQ 2nd Gen Ultra-Low Power </td></tr>
</table>
<p>A library corresponding to each of these modes is required. <br />
The <b>Compensation for oxidizing gases option</b> mode can be used with the <b>IAQ 2nd Generation</b> mode and the <b>Public Building AQ Standard (PBAQ)</b> mode. <br />
The <b>Compensation for oxidizing gases option ULP</b> mode can be used with the <b>IAQ 2nd Generation Ultra Low Power</b> mode. <br />
By setting in RA Configuration, the library will be generated in the ra/fsp/lib/rm_zmod4xxx folder of your project.</p>
<p>If an RTOS is used, blocking and bus lock is available.</p><ul>
<li>If blocking of an I2C bus is required, it is necessary to create a semaphore for blocking.</li>
<li>If bus lock is required, it is necessary to create a mutex for bus lock. Bus lock is only available when a semaphore for blocking is used.</li>
</ul>
<h2>Notifications</h2>
<p>The ZMOD4xxx sensor needs a reset before operation; please input a reset signal to the RES_N pin (active low).</p>
<p>Program flow for OAQ 2nd gen is changed in FSP v4.0.0. Please refer to the programming manual [R36US0004EU] and the application note[R01AN5899].<br />
R01AN5899 : <a href="https://www.renesas.com/document/apn/zmod4xxx-sample-application">https://www.renesas.com/document/apn/zmod4xxx-sample-application</a> <br />
R36US0004EU : <a href="https://www.renesas.com/document/mat/zmod4510-programming-manual-read-me">https://www.renesas.com/document/mat/zmod4510-programming-manual-read-me</a> <br />
 </p><h2>Limitations</h2>
<ul>
<li>The following modes are currently not supported for dev_assist.<ul>
<li>Compensation</li>
<li>Compensation ULP</li>
</ul>
</li>
</ul>
<h2>Bus Initialization</h2>
<p>The ZMOD4XXX interface expects a bus instance to be opened before opening any ZMOD4XXX device. The interface will handle switching between devices on the bus but will not open or close the bus instance. The user should open the bus with the appropriate <a class="el" href="group___i2_c___m_a_s_t_e_r___a_p_i.html">I2C Master Interface</a> open call.</p>
<h2>Initialization</h2>
<p>Initialize with <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open()</a>. One channel of timer is required to measure the waiting time at initialization.</p>
<h2>From measurement start to data acquisition</h2>
<p>After normal completion, start the measurement with <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart()</a>. An endless loop continuously checks the status of the ZMOD4XXX sensor and reads its data. The raw data is subsequently processed, and the air quality values are calculated.</p>
<h3>If IRQ is enabled</h3>
<ol type="1">
<li>Call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart()</a>.</li>
<li>Wait until RM_ZMOD4XXX_EVENT_MEASUREMENT_COMPLETE is received via IRQ callback.</li>
<li>Call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read()</a>. This function will read the ADC data.</li>
<li>Wait until RM_ZMOD4XXX_EVENT_SUCCESS is received.</li>
<li>Call the DataCalculate API according to the mode.</li>
</ol>
<h3>If IRQ is disabled</h3>
<ol type="1">
<li>Call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart()</a>.</li>
<li>Wait until RM_ZMOD4XXX_EVENT_SUCCESS is received.</li>
<li>Call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck()</a>. This function will execute a status check over I2C.</li>
<li>If RM_ZMOD4XXX_EVENT_MEASUREMENT_NOT_COMPLETE is received in callback, user should wait some time and then call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck()</a> again.</li>
<li>Wait until RM_ZMOD4XXX_EVENT_MEASUREMENT_COMPLETE is received.</li>
<li>Call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read()</a> and read the ADC data.</li>
<li>Wait until RM_ZMOD4XXX_EVENT_SUCCESS is received.</li>
<li>Call the DataCalculate API according to the mode.</li>
</ol>
<h2>Checking device error for IAQ 2nd Gen.</h2>
<ol type="1">
<li>Call <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck()</a>. This function will execute a device error check over I2C.</li>
<li>If any device error occurs, RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET or RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT are received in callback. If no device error, RM_ZMOD4XXX_EVENT_SUCCESS is received in callback.</li>
</ol>
<h1><a class="anchor" id="rm-zmod4xxx-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>These are basic examples of minimal use of ZMOD4XXX sensor implementation in an application.</p>
<p>IAQ 1st Gen. Continuous mode </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_iaq_1st_gen_continuous_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__1st__data__t">rm_zmod4xxx_iaq_1st_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">    g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">    g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">    handle_error(err);</div><div class="line">    <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga3ee9369b728a5687fcc637114b563875">RM_ZMOD4XXX_Iaq1stGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>IAQ 1st Gen. Low Power mode </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_iaq_1st_gen_low_power_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__1st__data__t">rm_zmod4xxx_iaq_1st_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga3ee9369b728a5687fcc637114b563875">RM_ZMOD4XXX_Iaq1stGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 3 in the ZMOD4410 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_5475_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>IAQ 2nd Gen. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_iaq_2nd_gen_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__2nd__data__t">rm_zmod4xxx_iaq_2nd_data_t</a> zmod4410_data;</div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 3 in the ZMOD4410 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_3000_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">             */</span><span class="comment">/* Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaa2b8de7170ff85a0f991dfdb6fb71317">RM_ZMOD4XXX_Iaq2ndGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>IAQ 2nd Gen Compensation. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_iaq_2nd_gen_compensation_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__2nd__data__t">rm_zmod4xxx_iaq_2nd_data_t</a> zmod4410_data;</div><div class="line">    uint8_t loop_cnt = 0;</div><div class="line"></div><div class="line">    <span class="comment">/* ZMOD4510 Compensation info declarations */</span></div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>          compensation_sensor_raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__compensation__info__t">rm_zmod4xxx_compensation_info_t</a> g_zmod4xxx_compensation_info;</div><div class="line"></div><div class="line">    g_zmod4xxx_compensation_info.<a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#a8a7762a9564074c61d984d1c4e747f14">p_compensation_sensor_cfg</a> = &amp;compensation_sensor_cfg;</div><div class="line">    g_zmod4xxx_compensation_info.<a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#a6885b655f430d05242578e94031caf88">p_raw_data</a>                = &amp;compensation_sensor_raw_data;</div><div class="line"></div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;compensation_sensor_ctrl, &amp;compensation_sensor_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Trigger compensation measurement cycles every 6 seconds */</span></div><div class="line">        <span class="keywordflow">if</span> (loop_cnt == 0)</div><div class="line">        {</div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;compensation_sensor_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 3 in the ZMOD4410 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_3000_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">        <span class="keywordflow">if</span> (loop_cnt == 1)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                compensation_sensor_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                compensation_sensor_i2c_callback_flag = 0;</div><div class="line">                <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == compensation_sensor_i2c_callback_event) ||</div><div class="line">                    (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == compensation_sensor_i2c_callback_event))</div><div class="line">                {</div><div class="line">                    <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                    <span class="keywordflow">while</span> (1)</div><div class="line">                    {</div><div class="line">                        ;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;compensation_sensor_ctrl, &amp;compensation_sensor_raw_data);</div><div class="line">                <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">                {</div><div class="line">                    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == compensation_sensor_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == compensation_sensor_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">                 */</span><span class="comment">/* Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">             */</span><span class="comment">/* Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="comment">/* Set the compensation info */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2a2febec625f864dff4c7ea5c49d7808">RM_ZMOD4XXX_CompensationInfoSet</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_compensation_info);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaa2b8de7170ff85a0f991dfdb6fb71317">RM_ZMOD4XXX_Iaq2ndGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line"></div><div class="line">        loop_cnt += 1;</div><div class="line">        loop_cnt %= IAQ_2ND_GEN_MAX_LOOP_CNT; <span class="comment">// one complete measurement cycle is 2 loop counts</span></div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>IAQ 2nd Gen. ULP </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_iaq_2nd_gen_ulp_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__2nd__data__t">rm_zmod4xxx_iaq_2nd_data_t</a> zmod4410_data;</div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* First delay. See Table 4 in the ZMOD4410 Programming Manual. It should be longer than 1010 ms. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_1010_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status or Measurement not completed due to unexpected reset. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">             */</span><span class="comment">/* Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaa2b8de7170ff85a0f991dfdb6fb71317">RM_ZMOD4XXX_Iaq2ndGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Second delay. See Table 4 in the ZMOD4410 Programming Manual. The sum of the first and second delay should amount 90 seconds. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_90000_MS - ZMOD4XXX_WAIT_1010_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>IAQ 2nd Gen Compensation. ULP </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_iaq_2nd_gen_ulp_compensation_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__2nd__data__t">rm_zmod4xxx_iaq_2nd_data_t</a> zmod4410_data;</div><div class="line">    uint8_t  loop_cnt = 0;</div><div class="line">    uint32_t remainingLoopTime;</div><div class="line"></div><div class="line">    <span class="comment">/* ZMOD4510 Compensation info declarations */</span></div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>          compensation_sensor_raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__compensation__info__t">rm_zmod4xxx_compensation_info_t</a> g_zmod4xxx_compensation_info;</div><div class="line"></div><div class="line">    g_zmod4xxx_compensation_info.<a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#a8a7762a9564074c61d984d1c4e747f14">p_compensation_sensor_cfg</a> = &amp;compensation_sensor_cfg;</div><div class="line">    g_zmod4xxx_compensation_info.<a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#a6885b655f430d05242578e94031caf88">p_raw_data</a>                = &amp;compensation_sensor_raw_data;</div><div class="line"></div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;compensation_sensor_ctrl, &amp;compensation_sensor_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line">        remainingLoopTime = ZMOD4XXX_WAIT_2000_MS; <span class="comment">/* loop period is 2s */</span></div><div class="line"></div><div class="line">        compensation_sensor_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* Start ZMOD4510 measurement every 2 seconds (needed for compensation) */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;compensation_sensor_ctrl);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        compensation_sensor_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (loop_cnt == 0)</div><div class="line">        {</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">            <span class="comment">/* Start ZMOD4410 ULP measurement every 90 seconds in loop 0 */</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (loop_cnt == 1)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                compensation_sensor_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                compensation_sensor_i2c_callback_flag = 0;</div><div class="line">                <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == compensation_sensor_i2c_callback_event) ||</div><div class="line">                    (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == compensation_sensor_i2c_callback_event))</div><div class="line">                {</div><div class="line">                    <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                    <span class="keywordflow">while</span> (1)</div><div class="line">                    {</div><div class="line">                        ;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="comment">/* Read ZMOD4510 Compensation ULP measurement result in loop 1 and assign it</span></div><div class="line"><span class="comment">                 *  to the ZMOD4410 alogrithm input data structure.</span></div><div class="line"><span class="comment">                 * IMPORTANT NOTE: If Compensation ULP calculation is required, sensor</span></div><div class="line"><span class="comment">                 *  data MUST be read and fed into the algorithm in each loop iteration!</span></div><div class="line"><span class="comment">                 */</span></div><div class="line">                err                = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;compensation_sensor_ctrl, &amp;compensation_sensor_raw_data);</div><div class="line">                remainingLoopTime -= 1;</div><div class="line">                <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">                {</div><div class="line">                    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == compensation_sensor_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == compensation_sensor_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">                 */</span><span class="comment">/* Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (loop_cnt == 1)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">                <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                    (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">                {</div><div class="line">                    <span class="comment">/* Error during read of sensor status or Measurement not completed due to unexpected reset. Please reset device. */</span></div><div class="line">                    <span class="keywordflow">while</span> (1)</div><div class="line">                    {</div><div class="line">                        ;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">                <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">                {</div><div class="line">                    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">                 */</span><span class="comment">/* Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            <span class="comment">/* Set the compensation info */</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2a2febec625f864dff4c7ea5c49d7808">RM_ZMOD4XXX_CompensationInfoSet</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_compensation_info);</div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaa2b8de7170ff85a0f991dfdb6fb71317">RM_ZMOD4XXX_Iaq2ndGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">            <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Gas data is invalid. */</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Gas data is invalid. */</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                handle_error(err);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(remainingLoopTime, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">        loop_cnt += 1;</div><div class="line">        loop_cnt %= IAQ_2ND_GEN_ULP_MAX_LOOP_CNT;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>Relative IAQ </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_rel_iaq_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__rel__iaq__data__t">rm_zmod4xxx_rel_iaq_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 6 in the ZMOD4410 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_3000_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga88a9173f1eb50d4c2f7ca7b310c98957">RM_ZMOD4XXX_RelIaqDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>Relative IAQ ULP </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_rel_iaq_ulp_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__rel__iaq__data__t">rm_zmod4xxx_rel_iaq_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* First delay. See Table 7 in the ZMOD4410 Programming Manual. It should be longer than 1010 ms. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_1500_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status or Measurement not completed due to unexpected reset. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">             */</span><span class="comment">/* Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga88a9173f1eb50d4c2f7ca7b310c98957">RM_ZMOD4XXX_RelIaqDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Second delay. See Table 7 in the ZMOD4410 Programming Manual. The sum of the first and second delay should amount 90 seconds. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_90000_MS - ZMOD4XXX_WAIT_1010_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>PBAQ </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_pbaq_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>               err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>  raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__pbaq__data__t">rm_zmod4xxx_pbaq_data_t</a> zmod4410_data;</div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 5 in the ZMOD4410 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_5000_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga0c5aac5f58a3e8053557d02e3e781f3b">RM_ZMOD4XXX_PbaqDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>PBAQ Compensation </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_pbaq_compensation_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>               err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>  raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__pbaq__data__t">rm_zmod4xxx_pbaq_data_t</a> zmod4410_data;</div><div class="line">    uint8_t                 loop_cnt = 0;</div><div class="line">    uint32_t                remainingLoopTime;</div><div class="line"></div><div class="line">    <span class="comment">/* ZMOD4510 Compensation info declarations */</span></div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>          compensation_sensor_raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__compensation__info__t">rm_zmod4xxx_compensation_info_t</a> g_zmod4xxx_compensation_info;</div><div class="line"></div><div class="line">    g_zmod4xxx_compensation_info.<a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#a8a7762a9564074c61d984d1c4e747f14">p_compensation_sensor_cfg</a> = &amp;compensation_sensor_cfg;</div><div class="line">    g_zmod4xxx_compensation_info.<a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#a6885b655f430d05242578e94031caf88">p_raw_data</a>                = &amp;compensation_sensor_raw_data;</div><div class="line"></div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;compensation_sensor_ctrl, &amp;compensation_sensor_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line">        remainingLoopTime = ZMOD4XXX_WAIT_1000_MS; <span class="comment">/* loop period is 1s */</span></div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> ((loop_cnt % 6) == 0)</div><div class="line">        {</div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;compensation_sensor_ctrl);</div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> ((loop_cnt % 5) == 0)</div><div class="line">        {</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> ((loop_cnt % 6) == 5)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                compensation_sensor_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                compensation_sensor_i2c_callback_flag = 0;</div><div class="line">                <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == compensation_sensor_i2c_callback_event) ||</div><div class="line">                    (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == compensation_sensor_i2c_callback_event))</div><div class="line">                {</div><div class="line">                    <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                    <span class="keywordflow">while</span> (1)</div><div class="line">                    {</div><div class="line">                        ;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                err                = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;compensation_sensor_ctrl, &amp;compensation_sensor_raw_data);</div><div class="line">                remainingLoopTime -= 1;</div><div class="line">                <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">                {</div><div class="line">                    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;compensation_sensor_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == compensation_sensor_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            compensation_sensor_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == compensation_sensor_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == compensation_sensor_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">                 * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">                 */</span><span class="comment">/* Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> ((loop_cnt % 5) == 4)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">                handle_error(err);</div><div class="line">                <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">                {</div><div class="line">                }</div><div class="line"></div><div class="line">                g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">                <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                    (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">                {</div><div class="line">                    <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                    <span class="keywordflow">while</span> (1)</div><div class="line">                    {</div><div class="line">                        ;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">                <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">                {</div><div class="line">                    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            <span class="comment">/* Set the compensation info */</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2a2febec625f864dff4c7ea5c49d7808">RM_ZMOD4XXX_CompensationInfoSet</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_compensation_info);</div><div class="line">            handle_error(err);</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga0c5aac5f58a3e8053557d02e3e781f3b">RM_ZMOD4XXX_PbaqDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">            <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Gas data is invalid. */</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">            {</div><div class="line">                <span class="comment">/* Gas data is invalid. */</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                handle_error(err);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(remainingLoopTime, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">        loop_cnt += 1;</div><div class="line">        loop_cnt %= PBAQ_MAX_LOOP_CNT;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>Odor </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_odor_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>               err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>  raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__odor__data__t">rm_zmod4xxx_odor_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">    g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">    g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">    handle_error(err);</div><div class="line">    <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaed61c1d9714552e574a4e6037d926180">RM_ZMOD4XXX_OdorDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>Sulfur Odor </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_sulfur_odor_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                      err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>         raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__sulfur__odor__data__t">rm_zmod4xxx_sulfur_odor_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaf200a9dc7ca8bf0601c2a2b96c341ecf">RM_ZMOD4XXX_SulfurOdorDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 6 in the ZMOD4410 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_1990_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>OAQ 1st Gen. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_oaq_1st_gen_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__oaq__1st__data__t">rm_zmod4xxx_oaq_1st_data_t</a> zmod4510_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaeafe7943df31f237ac45310796df64b2">RM_ZMOD4XXX_Oaq1stGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4510_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4510_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>OAQ 2nd Gen. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_oaq_2nd_gen_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                  err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>     raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__oaq__2nd__data__t">rm_zmod4xxx_oaq_2nd_data_t</a> zmod4510_data;</div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 4 in the ZMOD4510 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_2000_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status or Measurement not completed due to unexpected reset. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">             */</span><span class="comment">/* Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga8dcfe9a7b0b9419f1ecfce5d82c3fc33">RM_ZMOD4XXX_Oaq2ndGenDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4510_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4510_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>NO2 O3 </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_no2_o3_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>                 err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a>    raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__no2__o3__data__t">rm_zmod4xxx_no2_o3_data_t</a> zmod4510_data;</div><div class="line">    <span class="keywordtype">float</span> temperature = ZMOD4XXX_DEFAULT_TEMPERATURE_20F;</div><div class="line">    <span class="keywordtype">float</span> humidity    = ZMOD4XXX_DEFAULT_HUMIDITY_50F;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">        g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Delay required time. See Table 3 in the ZMOD4510 Programming Manual. */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_6000_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">            <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">                (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">            {</div><div class="line">                <span class="comment">/* Error during read of sensor status or Measurement not completed due to unexpected reset. Please reset device. */</span></div><div class="line">                <span class="keywordflow">while</span> (1)</div><div class="line">                {</div><div class="line">                    ;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac455a0f48d2eb704341bd83bb37fff94">RM_ZMOD4XXX_DeviceErrorCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">        handle_error(err);</div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">        <span class="keywordflow">if</span> ((<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060a55d1b247ecb594b099b15e120ae6b6a4">RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET</a> == g_zmod4xxx_i2c_callback_event) ||</div><div class="line">            (<a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ggadd54ca8592a0f7cb81913d2250e89060aa55c18d81d34427bcfd2f631e6b2a3a4">RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT</a> == g_zmod4xxx_i2c_callback_event))</div><div class="line">        {</div><div class="line">            <span class="comment">/* Check validness of ADC results:</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_POWER_ON_RESET : Unvalid ADC results due to an unexpected reset.</span></div><div class="line"><span class="comment">             * - RM_ZMOD4XXX_EVENT_DEV_ERR_ACCESS_CONFLICT: Unvalid ADC results due a still running measurement while results readout.</span></div><div class="line"><span class="comment">             */</span><span class="comment">/* Please reset device. */</span></div><div class="line">            <span class="keywordflow">while</span> (1)</div><div class="line">            {</div><div class="line">                ;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Set the current temperature and humidity */</span></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga5a6c9c9dcb25bc3964b07ed7fe002477">RM_ZMOD4XXX_TemperatureAndHumiditySet</a>(&amp;g_zmod4xxx_ctrl, temperature, humidity);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gac519d673353c988ae2af67b0db274045">RM_ZMOD4XXX_No2O3DataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4510_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4510_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a47bedb95f9926c8f1330bcf7846a548e">FSP_ERR_SENSOR_INVALID_DATA</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>RAQ </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> rm_zmod4xxx_raq_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>              err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> raw_data;</div><div class="line">    <a class="code" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raq__data__t">rm_zmod4xxx_raq_data_t</a> zmod4410_data;</div><div class="line"></div><div class="line">    <span class="comment">/* Open the I2C bus if it is not already open. */</span></div><div class="line">    rm_comms_i2c_bus_extended_cfg_t * p_extend =</div><div class="line">        (rm_comms_i2c_bus_extended_cfg_t *) g_zmod4xxx_cfg.p_comms_instance-&gt;p_cfg-&gt;p_extend;</div><div class="line">    <a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> * p_driver_instance = (<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#structi2c__master__instance__t">i2c_master_instance_t</a> *) p_extend-&gt;p_driver_instance;</div><div class="line">    p_driver_instance-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a3258c94576c0bc4a69095906a314386d">p_api</a>-&gt;<a class="code" href="group___i2_c___m_a_s_t_e_r___a_p_i.html#a6a35b07fde984333fdce6859dfd56e64">open</a>(p_driver_instance-&gt;p_ctrl, p_driver_instance-&gt;p_cfg);</div><div class="line"></div><div class="line"><span class="preprocessor">#if BSP_CFG_RTOS</span></div><div class="line"></div><div class="line">    <span class="comment">/* Create a semaphore for blocking if a semaphore is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_blocking_semaphore)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_semaphore_create(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle,</div><div class="line">                            p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_name,</div><div class="line">                            (ULONG) 0);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_handle) =</div><div class="line">            xSemaphoreCreateCountingStatic((UBaseType_t) 1,</div><div class="line">                                           (UBaseType_t) 0,</div><div class="line">                                           p_extend-&gt;p_blocking_semaphore-&gt;p_semaphore_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Create a recursive mutex for bus lock if a recursive mutex is not NULL */</span></div><div class="line">    <span class="keywordflow">if</span> (NULL != p_extend-&gt;p_bus_recursive_mutex)</div><div class="line">    {</div><div class="line"><span class="preprocessor"> #if BSP_CFG_RTOS == 1                 // AzureOS</span></div><div class="line">        tx_mutex_create(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle,</div><div class="line">                        p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_name,</div><div class="line">                        TX_INHERIT);</div><div class="line"><span class="preprocessor"> #elif BSP_CFG_RTOS == 2               // FreeRTOS</span></div><div class="line">        *(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_handle) =</div><div class="line">            xSemaphoreCreateRecursiveMutexStatic(p_extend-&gt;p_bus_recursive_mutex-&gt;p_mutex_memory);</div><div class="line"><span class="preprocessor"> #endif</span></div><div class="line">    }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">/* Reset ZMOD sensor (active low). Please change to the IO port connected to the RES_N pin of the ZMOD sensor on the customer board. */</span></div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0abb31064742440cdbdd638330a1cf7a9f">BSP_IO_LEVEL_LOW</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">    <a class="code" href="group___i_o_p_o_r_t.html#ga1b17ca2e38acde207881e7e4ba2a7e28">R_IOPORT_PinWrite</a>(&amp;g_ioport_ctrl, <a class="code" href="group___b_s_p___i_o.html#gga0adbfd4b7db319886d667acb4804d80aa7ce0e882ef00d57a9187f419f923dfa3">BSP_IO_PORT_04_PIN_12</a>, <a class="code" href="group___b_s_p___i_o.html#ggab4ef0cc3fce421d48310f23c614aadc0acf9a28559b5a18ed9b8af4c2a7df10ef">BSP_IO_LEVEL_HIGH</a>);</div><div class="line">    <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line"></div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga2d4f33091a3b32dc0bda323c24a4eb15">RM_ZMOD4XXX_Open</a>(&amp;g_zmod4xxx_ctrl, &amp;g_zmod4xxx_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">    g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">    g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line">    err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#ga21bde6c18d166c38790d044a3325d7b9">RM_ZMOD4XXX_MeasurementStart</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">    handle_error(err);</div><div class="line">    <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#if ZMOD4XXX_IRQ_ENABLE</span></div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_irq_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line"></div><div class="line">            g_zmod4xxx_irq_callback_flag = 0;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gaad8d1b8d7b71762b60c6078f9059bf1d">RM_ZMOD4XXX_StatusCheck</a>(&amp;g_zmod4xxx_ctrl);</div><div class="line">            handle_error(err);</div><div class="line">            <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">            {</div><div class="line">            }</div><div class="line">            g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gafabd01cfcb93ac2bcdc4378dc94ec804">RM_ZMOD4XXX_Read</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data);</div><div class="line">            <span class="keywordflow">if</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_s_p___m_c_u.html#ga04da4b0c795fdf43432869f4a87065fe">R_BSP_SoftwareDelay</a>(ZMOD4XXX_WAIT_50_MS, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2ba59fcc4e8d51046d4a1bd63c87ac64913">BSP_DELAY_UNITS_MILLISECONDS</a>);</div><div class="line">            }</div><div class="line">        } <span class="keywordflow">while</span> (err == <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a445a886afbb0951782907ac56e93d729">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</a>);</div><div class="line"></div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (0U == g_zmod4xxx_i2c_callback_flag)</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        g_zmod4xxx_i2c_callback_flag = 0;</div><div class="line"></div><div class="line">        err = <a class="code" href="group___r_m___z_m_o_d4_x_x_x.html#gadaee5fde2afbb40e28f40b1de50daf45">RM_ZMOD4XXX_RaqDataCalculate</a>(&amp;g_zmod4xxx_ctrl, &amp;raw_data, &amp;zmod4410_data);</div><div class="line">        <span class="keywordflow">if</span> (FSP_SUCCESS == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Describe the process by referring to zmod4410_data */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#ggadfb1288da0fcc7ae1dc88c58601374f8a585fcafaa5e5dbe0209e063f5ecf8898">FSP_ERR_SENSOR_IN_STABILIZATION</a> == err)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Gas data is invalid. */</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            handle_error(err);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structrm__zmod4xxx__compensation__info__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__compensation__info__t">rm_zmod4xxx_compensation_info_t</a></td></tr>
<tr class="separator:structrm__zmod4xxx__compensation__info__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structrm__zmod4xxx__init__process__params__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__init__process__params__t">rm_zmod4xxx_init_process_params_t</a></td></tr>
<tr class="separator:structrm__zmod4xxx__init__process__params__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structrm__zmod4xxx__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__instance__ctrl__t">rm_zmod4xxx_instance_ctrl_t</a></td></tr>
<tr class="separator:structrm__zmod4xxx__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gacebf611dd2d5d0b091db57023ea373b6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gacebf611dd2d5d0b091db57023ea373b6">rm_zmod4xxx_lib_type_t</a> </td></tr>
<tr class="separator:gacebf611dd2d5d0b091db57023ea373b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structrm__zmod4xxx__compensation__info__t" id="structrm__zmod4xxx__compensation__info__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrm__zmod4xxx__compensation__info__t">&#9670;&nbsp;</a></span>rm_zmod4xxx_compensation_info_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rm_zmod4xxx_compensation_info_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>ZMOD4XXX compensation info </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a8a7762a9564074c61d984d1c4e747f14"></a><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__cfg__t">rm_zmod4xxx_cfg_t</a> const  *</td>
<td class="fieldname">
p_compensation_sensor_cfg</td>
<td class="fielddoc">
Pointer to configuration structure of compensation sensor. </td></tr>
<tr><td class="fieldtype">
<a id="a6885b655f430d05242578e94031caf88"></a><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *</td>
<td class="fieldname">
p_raw_data</td>
<td class="fielddoc">
Pointer to compensation sensor raw data. </td></tr>
</table>

</div>
</div>
<a name="structrm__zmod4xxx__init__process__params__t" id="structrm__zmod4xxx__init__process__params__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrm__zmod4xxx__init__process__params__t">&#9670;&nbsp;</a></span>rm_zmod4xxx_init_process_params_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rm_zmod4xxx_init_process_params_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>ZMOD4XXX initialization process block </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a747d96b26c6228fd7505c18b11eb93cb"></a>volatile uint32_t</td>
<td class="fieldname">
delay_ms</td>
<td class="fielddoc">
Delay milliseconds. </td></tr>
<tr><td class="fieldtype">
<a id="ae7072ae56668c282a2a667ad097a5667"></a>volatile bool</td>
<td class="fieldname">
communication_finished</td>
<td class="fielddoc">
Communication flag for blocking. </td></tr>
<tr><td class="fieldtype">
<a id="a8c18d9f7ecb1e2fcec2f623136d92d9e"></a>volatile bool</td>
<td class="fieldname">
measurement_finished</td>
<td class="fielddoc">
IRQ flag. </td></tr>
<tr><td class="fieldtype">
<a id="a80d7ca92199a768859b409e3eab26a76"></a>volatile <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#gadd54ca8592a0f7cb81913d2250e89060">rm_zmod4xxx_event_t</a></td>
<td class="fieldname">
event</td>
<td class="fielddoc">
Callback event. </td></tr>
</table>

</div>
</div>
<a name="structrm__zmod4xxx__instance__ctrl__t" id="structrm__zmod4xxx__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrm__zmod4xxx__instance__ctrl__t">&#9670;&nbsp;</a></span>rm_zmod4xxx_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rm_zmod4xxx_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>ZMOD4XXX control block </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:a21b842e14881cd866264417021fedcda"><td class="memItemLeft" align="right" valign="top"><a id="a21b842e14881cd866264417021fedcda"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a21b842e14881cd866264417021fedcda">open</a></td></tr>
<tr class="memdesc:a21b842e14881cd866264417021fedcda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open flag. <br /></td></tr>
<tr class="separator:a21b842e14881cd866264417021fedcda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1702cc41dc3a4c35e5c81f95b55295"><td class="memItemLeft" align="right" valign="top"><a id="a0a1702cc41dc3a4c35e5c81f95b55295"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a0a1702cc41dc3a4c35e5c81f95b55295">buf</a> [RM_ZMOD4XXX_MAX_I2C_BUF_SIZE]</td></tr>
<tr class="memdesc:a0a1702cc41dc3a4c35e5c81f95b55295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for I2C communications. <br /></td></tr>
<tr class="separator:a0a1702cc41dc3a4c35e5c81f95b55295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89ee122a3cd7e3ab844bae5addfe9df"><td class="memItemLeft" align="right" valign="top"><a id="af89ee122a3cd7e3ab844bae5addfe9df"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#af89ee122a3cd7e3ab844bae5addfe9df">register_address</a></td></tr>
<tr class="memdesc:af89ee122a3cd7e3ab844bae5addfe9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register address to access. <br /></td></tr>
<tr class="separator:af89ee122a3cd7e3ab844bae5addfe9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa547817f19f270a3d32f32d17d38cc56"><td class="memItemLeft" align="right" valign="top"><a id="aa547817f19f270a3d32f32d17d38cc56"></a>
rm_zmod4xxx_status_params_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#aa547817f19f270a3d32f32d17d38cc56">status</a></td></tr>
<tr class="memdesc:aa547817f19f270a3d32f32d17d38cc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status parameter. <br /></td></tr>
<tr class="separator:aa547817f19f270a3d32f32d17d38cc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c402c7d22a24110fcf3c5fbbf36c48"><td class="memItemLeft" align="right" valign="top"><a id="a23c402c7d22a24110fcf3c5fbbf36c48"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a23c402c7d22a24110fcf3c5fbbf36c48">dev_err_check</a></td></tr>
<tr class="memdesc:a23c402c7d22a24110fcf3c5fbbf36c48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for checking device error. <br /></td></tr>
<tr class="separator:a23c402c7d22a24110fcf3c5fbbf36c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f677f5de3207f7c9f30effb6662608"><td class="memItemLeft" align="right" valign="top"><a id="a10f677f5de3207f7c9f30effb6662608"></a>
volatile <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#gadd54ca8592a0f7cb81913d2250e89060">rm_zmod4xxx_event_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a10f677f5de3207f7c9f30effb6662608">event</a></td></tr>
<tr class="memdesc:a10f677f5de3207f7c9f30effb6662608"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback event. <br /></td></tr>
<tr class="separator:a10f677f5de3207f7c9f30effb6662608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f86201d4a114d5714f700501338e5f7"><td class="memItemLeft" align="right" valign="top"><a id="a6f86201d4a114d5714f700501338e5f7"></a>
<a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__init__process__params__t">rm_zmod4xxx_init_process_params_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a6f86201d4a114d5714f700501338e5f7">init_process_params</a></td></tr>
<tr class="memdesc:a6f86201d4a114d5714f700501338e5f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the initialization process. <br /></td></tr>
<tr class="separator:a6f86201d4a114d5714f700501338e5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55df2cbb3cdc4bbeb75db1dba936d2b1"><td class="memItemLeft" align="right" valign="top"><a id="a55df2cbb3cdc4bbeb75db1dba936d2b1"></a>
<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__cfg__t">rm_zmod4xxx_cfg_t</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a55df2cbb3cdc4bbeb75db1dba936d2b1">p_cfg</a></td></tr>
<tr class="memdesc:a55df2cbb3cdc4bbeb75db1dba936d2b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer of configuration block. <br /></td></tr>
<tr class="separator:a55df2cbb3cdc4bbeb75db1dba936d2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc82544a966e7f146ceee4ef404b7582"><td class="memItemLeft" align="right" valign="top"><a id="afc82544a966e7f146ceee4ef404b7582"></a>
<a class="el" href="group___r_m___c_o_m_m_s___a_p_i.html#structrm__comms__instance__t">rm_comms_instance_t</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#afc82544a966e7f146ceee4ef404b7582">p_comms_i2c_instance</a></td></tr>
<tr class="memdesc:afc82544a966e7f146ceee4ef404b7582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer of I2C Communications Middleware instance structure. <br /></td></tr>
<tr class="separator:afc82544a966e7f146ceee4ef404b7582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cd23f22e6e0fea3b8d8869ea3954f5"><td class="memItemLeft" align="right" valign="top"><a id="a68cd23f22e6e0fea3b8d8869ea3954f5"></a>
rm_zmod4xxx_lib_extended_cfg_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a68cd23f22e6e0fea3b8d8869ea3954f5">p_zmod4xxx_lib</a></td></tr>
<tr class="memdesc:a68cd23f22e6e0fea3b8d8869ea3954f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer of ZMOD4XXX Lib extended configuration. <br /></td></tr>
<tr class="separator:a68cd23f22e6e0fea3b8d8869ea3954f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af392326e81273f4ae3656fb6915f6c13"><td class="memItemLeft" align="right" valign="top"><a id="af392326e81273f4ae3656fb6915f6c13"></a>
void const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#af392326e81273f4ae3656fb6915f6c13">p_zmod4510_device</a></td></tr>
<tr class="memdesc:af392326e81273f4ae3656fb6915f6c13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer of ZMOD4510 device. <br /></td></tr>
<tr class="separator:af392326e81273f4ae3656fb6915f6c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3675f3c0c02df04205eb1fb168fb42"><td class="memItemLeft" align="right" valign="top"><a id="adf3675f3c0c02df04205eb1fb168fb42"></a>
<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#adf3675f3c0c02df04205eb1fb168fb42">p_zmod4510_raw_data</a></td></tr>
<tr class="memdesc:adf3675f3c0c02df04205eb1fb168fb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw data of ZMOD4510 device for calculating compensation data. <br /></td></tr>
<tr class="separator:adf3675f3c0c02df04205eb1fb168fb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993f572e2bc8acef02a151b7e1a38808"><td class="memItemLeft" align="right" valign="top"><a id="a993f572e2bc8acef02a151b7e1a38808"></a>
void const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a993f572e2bc8acef02a151b7e1a38808">p_irq_instance</a></td></tr>
<tr class="memdesc:a993f572e2bc8acef02a151b7e1a38808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to IRQ instance. <br /></td></tr>
<tr class="separator:a993f572e2bc8acef02a151b7e1a38808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6151d069461571549ecbf52193ab8624"><td class="memItemLeft" align="right" valign="top"><a id="a6151d069461571549ecbf52193ab8624"></a>
void const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a6151d069461571549ecbf52193ab8624">p_context</a></td></tr>
<tr class="memdesc:a6151d069461571549ecbf52193ab8624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the user-provided context. <br /></td></tr>
<tr class="separator:a6151d069461571549ecbf52193ab8624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57301a9ef64a2317881cdc7d89783fb5"><td class="memItemLeft" align="right" valign="top"><a id="a57301a9ef64a2317881cdc7d89783fb5"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a57301a9ef64a2317881cdc7d89783fb5">p_comms_callback</a> )(<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__callback__args__t">rm_zmod4xxx_callback_args_t</a> *p_args)</td></tr>
<tr class="memdesc:a57301a9ef64a2317881cdc7d89783fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C Communications callback. <br /></td></tr>
<tr class="separator:a57301a9ef64a2317881cdc7d89783fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0438d7a16c46e81db655c9627a2e3fac"><td class="memItemLeft" align="right" valign="top"><a id="a0438d7a16c46e81db655c9627a2e3fac"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#a0438d7a16c46e81db655c9627a2e3fac">p_irq_callback</a> )(<a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__callback__args__t">rm_zmod4xxx_callback_args_t</a> *p_args)</td></tr>
<tr class="memdesc:a0438d7a16c46e81db655c9627a2e3fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ callback. <br /></td></tr>
<tr class="separator:a0438d7a16c46e81db655c9627a2e3fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gacebf611dd2d5d0b091db57023ea373b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacebf611dd2d5d0b091db57023ea373b6">&#9670;&nbsp;</a></span>rm_zmod4xxx_lib_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#gacebf611dd2d5d0b091db57023ea373b6">rm_zmod4xxx_lib_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ZMOD4XXX Library type </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2d4f33091a3b32dc0bda323c24a4eb15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d4f33091a3b32dc0bda323c24a4eb15">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__cfg__t">rm_zmod4xxx_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when start a measurement and when measurement data is stale data. Sends the slave address to the zmod4xxx and start a measurement. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a9839a07b96c79990f08d8720890e8da8">rm_zmod4xxx_api_t::open</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully started. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Module is already open. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Unsupport product ID. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga564266f1fd972d2a4b0d607925a8be48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga564266f1fd972d2a4b0d607925a8be48">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when close the sensor. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a8858935263e54d095b16b998cebcf40d">rm_zmod4xxx_api_t::close</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully closed. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga21bde6c18d166c38790d044a3325d7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21bde6c18d166c38790d044a3325d7b9">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_MeasurementStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_MeasurementStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when start a measurement. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a47041454b1b699ca178a5156c6a79aac">rm_zmod4xxx_api_t::measurementStart</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully started. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1a9e4762c544db1dc924fdff62bf9cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a9e4762c544db1dc924fdff62bf9cc7">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_MeasurementStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_MeasurementStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when stop a measurement. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#abcdce084970e22641ee7151ae45ecee7">rm_zmod4xxx_api_t::measurementStop</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully started. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaad8d1b8d7b71762b60c6078f9059bf1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad8d1b8d7b71762b60c6078f9059bf1d">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_StatusCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_StatusCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when polling is used. It reads the status of sensor. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#aa00282b7e3e0551c96618e19b7b1ee4b">rm_zmod4xxx_api_t::statusCheck</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully started. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafabd01cfcb93ac2bcdc4378dc94ec804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafabd01cfcb93ac2bcdc4378dc94ec804">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a25a326294be7c8d65f6918ba532fb09f">rm_zmod4xxx_api_t::read</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>Communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>Communication is aborted. </td></tr>
    <tr><td class="paramname">FSP_ERR_SENSOR_MEASUREMENT_NOT_FINISHED</td><td>Measurement is not finished. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3ee9369b728a5687fcc637114b563875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ee9369b728a5687fcc637114b563875">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Iaq1stGenDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Iaq1stGenDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__1st__data__t">rm_zmod4xxx_iaq_1st_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a84760f27fa7ca93259cf43597772c781">rm_zmod4xxx_api_t::iaq1stGenDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa2b8de7170ff85a0f991dfdb6fb71317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2b8de7170ff85a0f991dfdb6fb71317">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Iaq2ndGenDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Iaq2ndGenDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__iaq__2nd__data__t">rm_zmod4xxx_iaq_2nd_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a88ffe068c172b8719782357b16cbe937">rm_zmod4xxx_api_t::iaq2ndGenDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaed61c1d9714552e574a4e6037d926180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed61c1d9714552e574a4e6037d926180">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_OdorDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_OdorDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__odor__data__t">rm_zmod4xxx_odor_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a92c5b2fd0fba637202780d8423b170dc">rm_zmod4xxx_api_t::odorDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf200a9dc7ca8bf0601c2a2b96c341ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf200a9dc7ca8bf0601c2a2b96c341ecf">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_SulfurOdorDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_SulfurOdorDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__sulfur__odor__data__t">rm_zmod4xxx_sulfur_odor_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#af8d15ec491a454d5d120f21aa41e8f9f">rm_zmod4xxx_api_t::sulfurOdorDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaeafe7943df31f237ac45310796df64b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeafe7943df31f237ac45310796df64b2">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Oaq1stGenDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Oaq1stGenDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__oaq__1st__data__t">rm_zmod4xxx_oaq_1st_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a49bdc7ca88b2859fd18b3d33890d32bd">rm_zmod4xxx_api_t::oaq1stGenDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8dcfe9a7b0b9419f1ecfce5d82c3fc33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dcfe9a7b0b9419f1ecfce5d82c3fc33">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_Oaq2ndGenDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_Oaq2ndGenDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__oaq__2nd__data__t">rm_zmod4xxx_oaq_2nd_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ae56592403602103a28a5d1e13d6dec03">rm_zmod4xxx_api_t::oaq2ndGenDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadaee5fde2afbb40e28f40b1de50daf45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadaee5fde2afbb40e28f40b1de50daf45">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_RaqDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_RaqDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raq__data__t">rm_zmod4xxx_raq_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a557c09febce20b7bd5e1e7418d760f9a">rm_zmod4xxx_api_t::raqDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga88a9173f1eb50d4c2f7ca7b310c98957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88a9173f1eb50d4c2f7ca7b310c98957">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_RelIaqDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_RelIaqDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__rel__iaq__data__t">rm_zmod4xxx_rel_iaq_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a417eb9005c2cabc805e5176bd409b838">rm_zmod4xxx_api_t::relIaqDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0c5aac5f58a3e8053557d02e3e781f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c5aac5f58a3e8053557d02e3e781f3b">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_PbaqDataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_PbaqDataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__pbaq__data__t">rm_zmod4xxx_pbaq_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a32c2fe41b4db79301c8a1b294809a25d">rm_zmod4xxx_api_t::pbaqDataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac519d673353c988ae2af67b0db274045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac519d673353c988ae2af67b0db274045">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_No2O3DataCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_No2O3DataCalculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__raw__data__t">rm_zmod4xxx_raw_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#structrm__zmod4xxx__no2__o3__data__t">rm_zmod4xxx_no2_o3_data_t</a> *const&#160;</td>
          <td class="paramname"><em>p_zmod4xxx_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when measurement finishes. To check measurement status either polling or busy/interrupt pin can be used. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#af901e053d4de7823c96984f1832d9968">rm_zmod4xxx_api_t::no2O3DataCalculate</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter or library internal error occured. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_SENSOR_IN_STABILIZATION</td><td>Module is stabilizing. </td></tr>
    <tr><td class="paramname">FSP_ERR_SENSOR_INVALID_DATA</td><td>Sensor probably damaged. Algorithm results may be incorrect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2a2febec625f864dff4c7ea5c49d7808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a2febec625f864dff4c7ea5c49d7808">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_CompensationInfoSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_CompensationInfoSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x.html#structrm__zmod4xxx__compensation__info__t">rm_zmod4xxx_compensation_info_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_compensation_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function should be called when setting the compensation info from ZMOD4510 device for the ZMOD4410 device and when the ZMOD4510 for oxidizing gas correction option is enabled. After reading the raw data from the ZMOD4510 device, set the compensation info for the ZMOD4410 to begin calculating the compensation data. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully compensation info are set. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter or library internal error occured. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Operation mode is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5a6c9c9dcb25bc3964b07ed7fe002477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a6c9c9dcb25bc3964b07ed7fe002477">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_TemperatureAndHumiditySet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_TemperatureAndHumiditySet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>temperature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>humidity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is valid only for OAQ_2nd_Gen and IAQ_2nd_Gen_ULP. This function should be called before DataCalculate. Humidity and temperature measurements are needed for ambient compensation. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a1240e62119dd4d148dd4ec393e234447">rm_zmod4xxx_api_t::temperatureAndHumiditySet</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac455a0f48d2eb704341bd83bb37fff94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac455a0f48d2eb704341bd83bb37fff94">&#9670;&nbsp;</a></span>RM_ZMOD4XXX_DeviceErrorCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> RM_ZMOD4XXX_DeviceErrorCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#ga65db663ec670e25cc0294f22f96abb5c">rm_zmod4xxx_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is valid only for IAQ_2nd_Gen and IAQ_2nd_Gen_ULP. This function should be called before Read and DataCalculate. Check for unexpected reset occurs or getting unvalid ADC data. Implements <a class="el" href="group___r_m___z_m_o_d4_x_x_x___a_p_i.html#a96bea17094f7a5933ab13d77d7d86699">rm_zmod4xxx_api_t::deviceErrorCheck</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successfully results are read. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Null pointer passed as a parameter. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Module is not opened configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_TIMEOUT</td><td>communication is timeout. </td></tr>
    <tr><td class="paramname">FSP_ERR_ABORTED</td><td>communication is aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v5.9.0 User's Manual Copyright © (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
